var KM=Object.defineProperty,QM=Object.defineProperties;var YM=Object.getOwnPropertyDescriptors;var ec=Object.getOwnPropertySymbols;var DE=Object.prototype.hasOwnProperty,TE=Object.prototype.propertyIsEnumerable;var wE=(t,e,n)=>e in t?KM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,j=(t,e)=>{for(var n in e||={})DE.call(e,n)&&wE(t,n,e[n]);if(ec)for(var n of ec(e))TE.call(e,n)&&wE(t,n,e[n]);return t},te=(t,e)=>QM(t,YM(e));var as=(t,e)=>{var n={};for(var r in t)DE.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&ec)for(var r of ec(t))e.indexOf(r)<0&&TE.call(t,r)&&(n[r]=t[r]);return n};var We=null,tc=!1,mf=1,JM=null,It=Symbol("SIGNAL");function z(t){let e=We;return We=t,e}function rc(){return We}var cs={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function yf(t){if(tc)throw new Error("");if(We===null)return;We.consumerOnSignalRead(t);let e=We.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=We.recomputing;if(r&&(n=e!==void 0?e.nextProducer:We.producers,n!==void 0&&n.producer===t)){We.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===We&&(!r||XM(i,We)))return;let o=Vi(We),s={producer:t,consumer:We,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};We.producersTail=s,e!==void 0?e.nextProducer=s:We.producers=s,o&&AE(t,s)}function CE(){mf++}function vf(t){if(!(Vi(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===mf)){if(!t.producerMustRecompute(t)&&!wf(t)){gf(t);return}t.producerRecomputeValue(t),gf(t)}}function _f(t){if(t.consumers===void 0)return;let e=tc;tc=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||ZM(r)}}finally{tc=e}}function Ef(){return We?.consumerAllowSignalWrites!==!1}function ZM(t){t.dirty=!0,_f(t),t.consumerMarkedDirty?.(t)}function gf(t){t.dirty=!1,t.lastCleanEpoch=mf}function ic(t){return t&&bE(t),z(t)}function bE(t){t.producersTail=void 0,t.recomputing=!0}function If(t,e){z(e),t&&SE(t)}function SE(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(Vi(t))do n=Df(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function wf(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(vf(n),r!==n.version))return!0}return!1}function oc(t){if(Vi(t)){let e=t.producers;for(;e!==void 0;)e=Df(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function AE(t,e){let n=t.consumersTail,r=Vi(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)AE(i.producer,i)}function Df(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Vi(e)){let o=e.producers;for(;o!==void 0;)o=Df(o)}return n}function Vi(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Tf(t){JM?.(t)}function XM(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Cf(t,e){return Object.is(t,e)}function sc(t,e){let n=Object.create(eN);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(vf(n),yf(n),n.value===nc)throw n.error;return n.value};return r[It]=n,Tf(n),r}var hf=Symbol("UNSET"),pf=Symbol("COMPUTING"),nc=Symbol("ERRORED"),eN=te(j({},cs),{value:hf,dirty:!0,error:null,equal:Cf,kind:"computed",producerMustRecompute(t){return t.value===hf||t.value===pf},producerRecomputeValue(t){if(t.value===pf)throw new Error("");let e=t.value;t.value=pf;let n=ic(t),r,i=!1;try{r=t.computation(),z(null),i=e!==hf&&e!==nc&&r!==nc&&t.equal(e,r)}catch(o){r=nc,t.error=o}finally{If(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function tN(){throw new Error}var ME=tN;function NE(t){ME(t)}function bf(t){ME=t}var nN=null;function Sf(t,e){let n=Object.create(xE);n.value=t,e!==void 0&&(n.equal=e);let r=()=>RE(n);return r[It]=n,Tf(n),[r,s=>Af(n,s),s=>PE(n,s)]}function RE(t){return yf(t),t.value}function Af(t,e){Ef()||NE(t),t.equal(t.value,e)||(t.value=e,rN(t))}function PE(t,e){Ef()||NE(t),Af(t,e(t.value))}var xE=te(j({},cs),{equal:Cf,value:void 0,kind:"signal"});function rN(t){t.version++,CE(),_f(t),nN?.(t)}function Mf(t){let e=z(null);try{return t()}finally{z(e)}}function ae(t){return typeof t=="function"}function ac(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var cc=ac(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function us(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Xe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ae(r))try{r()}catch(o){e=o instanceof cc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{OE(o)}catch(s){e=e??[],s instanceof cc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new cc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)OE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&us(n,e)}remove(e){let{_finalizers:n}=this;n&&us(n,e),e instanceof t&&e._removeParent(this)}};Xe.EMPTY=(()=>{let t=new Xe;return t.closed=!0,t})();var Nf=Xe.EMPTY;function uc(t){return t instanceof Xe||t&&"closed"in t&&ae(t.remove)&&ae(t.add)&&ae(t.unsubscribe)}function OE(t){ae(t)?t():t.unsubscribe()}var Nt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ji={setTimeout(t,e,...n){let{delegate:r}=ji;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ji;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function lc(t){ji.setTimeout(()=>{let{onUnhandledError:e}=Nt;if(e)e(t);else throw t})}function Rf(){}var kE=Pf("C",void 0,void 0);function FE(t){return Pf("E",void 0,t)}function LE(t){return Pf("N",t,void 0)}function Pf(t,e,n){return{kind:t,value:e,error:n}}var Vr=null;function Bi(t){if(Nt.useDeprecatedSynchronousErrorHandling){let e=!Vr;if(e&&(Vr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Vr;if(Vr=null,n)throw r}}else t()}function VE(t){Nt.useDeprecatedSynchronousErrorHandling&&Vr&&(Vr.errorThrown=!0,Vr.error=t)}var jr=class extends Xe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,uc(e)&&e.add(this)):this.destination=sN}static create(e,n,r){return new Ui(e,n,r)}next(e){this.isStopped?Of(LE(e),this):this._next(e)}error(e){this.isStopped?Of(FE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Of(kE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},iN=Function.prototype.bind;function xf(t,e){return iN.call(t,e)}var kf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){dc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){dc(r)}else dc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){dc(n)}}},Ui=class extends jr{constructor(e,n,r){super();let i;if(ae(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Nt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&xf(e.next,o),error:e.error&&xf(e.error,o),complete:e.complete&&xf(e.complete,o)}):i=e}this.destination=new kf(i)}};function dc(t){Nt.useDeprecatedSynchronousErrorHandling?VE(t):lc(t)}function oN(t){throw t}function Of(t,e){let{onStoppedNotification:n}=Nt;n&&ji.setTimeout(()=>n(t,e))}var sN={closed:!0,next:Rf,error:oN,complete:Rf};var Hi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function jE(t){return t}function BE(t){return t.length===0?jE:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Ce=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=cN(n)?n:new Ui(n,r,i);return Bi(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=UE(r),new r((i,o)=>{let s=new Ui({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Hi](){return this}pipe(...n){return BE(n)(this)}toPromise(n){return n=UE(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function UE(t){var e;return(e=t??Nt.Promise)!==null&&e!==void 0?e:Promise}function aN(t){return t&&ae(t.next)&&ae(t.error)&&ae(t.complete)}function cN(t){return t&&t instanceof jr||aN(t)&&uc(t)}function uN(t){return ae(t?.lift)}function $i(t){return e=>{if(uN(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Gi(t,e,n,r,i){return new Ff(t,e,n,r,i)}var Ff=class extends jr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var HE=ac(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Qt=(()=>{class t extends Ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new fc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new HE}next(n){Bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Nf:(this.currentObservers=null,o.push(n),new Xe(()=>{this.currentObservers=null,us(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Ce;return n.source=this,n}}return t.create=(e,n)=>new fc(e,n),t})(),fc=class extends Qt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Nf}};var Br=class extends Qt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};function $E(t){return t&&ae(t.schedule)}function GE(t){return t[t.length-1]}function qE(t){return ae(GE(t))?t.pop():void 0}function zE(t){return $E(GE(t))?t.pop():void 0}function KE(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function WE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ur(t){return this instanceof Ur?(this.v=t,this):new Ur(t)}function QE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(b){return Promise.resolve(b).then(y,p)}}function c(y,b){r[y]&&(i[y]=function(M){return new Promise(function(N,V){o.push([y,M,N,V])>1||u(y,M)})},b&&(i[y]=b(i[y])))}function u(y,b){try{l(r[y](b))}catch(M){m(o[0][3],M)}}function l(y){y.value instanceof Ur?Promise.resolve(y.value.v).then(f,p):m(o[0][2],y)}function f(y){u("next",y)}function p(y){u("throw",y)}function m(y,b){y(b),o.shift(),o.length&&u(o[0][0],o[0][1])}}function YE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof WE=="function"?WE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var hc=t=>t&&typeof t.length=="number"&&typeof t!="function";function pc(t){return ae(t?.then)}function gc(t){return ae(t[Hi])}function mc(t){return Symbol.asyncIterator&&ae(t?.[Symbol.asyncIterator])}function yc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function lN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var vc=lN();function _c(t){return ae(t?.[vc])}function Ec(t){return QE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ur(n.read());if(i)return yield Ur(void 0);yield yield Ur(r)}}finally{n.releaseLock()}})}function Ic(t){return ae(t?.getReader)}function Wn(t){if(t instanceof Ce)return t;if(t!=null){if(gc(t))return dN(t);if(hc(t))return fN(t);if(pc(t))return hN(t);if(mc(t))return JE(t);if(_c(t))return pN(t);if(Ic(t))return gN(t)}throw yc(t)}function dN(t){return new Ce(e=>{let n=t[Hi]();if(ae(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fN(t){return new Ce(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function hN(t){return new Ce(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,lc)})}function pN(t){return new Ce(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function JE(t){return new Ce(e=>{mN(t,e).catch(n=>e.error(n))})}function gN(t){return JE(Ec(t))}function mN(t,e){var n,r,i,o;return KE(this,void 0,void 0,function*(){try{for(n=YE(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Yt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function wc(t,e=0){return $i((n,r)=>{n.subscribe(Gi(r,i=>Yt(r,t,()=>r.next(i),e),()=>Yt(r,t,()=>r.complete(),e),i=>Yt(r,t,()=>r.error(i),e)))})}function Dc(t,e=0){return $i((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function ZE(t,e){return Wn(t).pipe(Dc(e),wc(e))}function XE(t,e){return Wn(t).pipe(Dc(e),wc(e))}function eI(t,e){return new Ce(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function tI(t,e){return new Ce(n=>{let r;return Yt(n,e,()=>{r=t[vc](),Yt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ae(r?.return)&&r.return()})}function Tc(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ce(n=>{Yt(n,e,()=>{let r=t[Symbol.asyncIterator]();Yt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function nI(t,e){return Tc(Ec(t),e)}function rI(t,e){if(t!=null){if(gc(t))return ZE(t,e);if(hc(t))return eI(t,e);if(pc(t))return XE(t,e);if(mc(t))return Tc(t,e);if(_c(t))return tI(t,e);if(Ic(t))return nI(t,e)}throw yc(t)}function ls(t,e){return e?rI(t,e):Wn(t)}function Lf(...t){let e=zE(t);return ls(t,e)}function Hr(t,e){return $i((n,r)=>{let i=0;n.subscribe(Gi(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:yN}=Array;function vN(t,e){return yN(e)?t(...e):t(e)}function iI(t){return Hr(e=>vN(t,e))}var{isArray:_N}=Array,{getPrototypeOf:EN,prototype:IN,keys:wN}=Object;function oI(t){if(t.length===1){let e=t[0];if(_N(e))return{args:e,keys:null};if(DN(e)){let n=wN(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function DN(t){return t&&typeof t=="object"&&EN(t)===IN}function sI(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Vf(...t){let e=qE(t),{args:n,keys:r}=oI(t),i=new Ce(o=>{let{length:s}=n;if(!s){o.complete();return}let c=new Array(s),u=s,l=s;for(let f=0;f<s;f++){let p=!1;Wn(n[f]).subscribe(Gi(o,m=>{p||(p=!0,l--),c[f]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?sI(r,c):c),o.complete())}))}});return e?i.pipe(iI(e)):i}var jf;function Cc(){return jf}function Jt(t){let e=jf;return jf=t,e}var aI=Symbol("NotFound");function qi(t){return t===aI||t?.name==="\u0275NotFound"}var eh="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",W=class extends Error{code;constructor(e,n){super(Wr(e,n)),this.code=e}};function bN(t){return`NG0${Math.abs(t)}`}function Wr(t,e){return`${bN(t)}${e?": "+e:""}`}function he(t){for(let e in t)if(t[e]===he)return e;throw Error("")}function fI(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Kn(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Kn).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function th(t,e){return t?e?`${t} ${e}`:t:e||""}var SN=he({__forward_ref__:he});function Zn(t){return t.__forward_ref__=Zn,t.toString=function(){return Kn(this())},t}function $e(t){return nh(t)?t():t}function nh(t){return typeof t=="function"&&t.hasOwnProperty(SN)&&t.__forward_ref__===Zn}function de(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Xn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Nc(t){return AN(t,Rc)}function AN(t,e){return t.hasOwnProperty(e)&&t[e]||null}function MN(t){let e=t?.[Rc]??null;return e||null}function Uf(t){return t&&t.hasOwnProperty(Sc)?t[Sc]:null}var Rc=he({\u0275prov:he}),Sc=he({\u0275inj:he}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=de({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function rh(t){return t&&!!t.\u0275providers}var ih=he({\u0275cmp:he}),oh=he({\u0275dir:he}),sh=he({\u0275pipe:he});var fs=he({\u0275fac:he}),Kr=he({__NG_ELEMENT_ID__:he}),cI=he({__NG_ENV_ID__:he});function ah(t){return typeof t=="string"?t:t==null?"":String(t)}function hI(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ah(t)}var pI=he({ngErrorCode:he}),NN=he({ngErrorMessage:he}),RN=he({ngTokenPath:he});function ch(t,e){return gI("",-200,e)}function Pc(t,e){throw new W(-201,!1)}function gI(t,e,n){let r=new W(e,t);return r[pI]=e,r[NN]=t,n&&(r[RN]=n),r}function PN(t){return t[pI]}var Hf;function mI(){return Hf}function et(t){let e=Hf;return Hf=t,e}function uh(t,e,n){let r=Nc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Pc(t,"Injector")}var xN={},$r=xN,ON="__NG_DI_FLAG__",$f=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Gr(n)||0;try{return this.injector.get(e,r&8?null:$r,r)}catch(i){if(qi(i))return i;throw i}}};function kN(t,e=0){let n=Cc();if(n===void 0)throw new W(-203,!1);if(n===null)return uh(t,void 0,e);{let r=FN(e),i=n.retrieve(t,r);if(qi(i)){if(r.optional)return null;throw i}return i}}function le(t,e=0){return(mI()||kN)($e(t),e)}function B(t,e){return le(t,Gr(e))}function Gr(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function FN(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Gf(t){let e=[];for(let n=0;n<t.length;n++){let r=$e(t[n]);if(Array.isArray(r)){if(r.length===0)throw new W(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let c=r[s],u=LN(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(le(i,o))}else e.push(le(r))}return e}function LN(t){return t[ON]}function Qn(t,e){let n=t.hasOwnProperty(fs);return n?t[fs]:null}function xc(t,e){t.forEach(n=>Array.isArray(n)?xc(n,e):e(n))}function yI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function lh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function vI(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function _I(t,e,n){let r=Wi(t,e);return r>=0?t[r|1]=n:(r=~r,vI(t,r,e,n)),r}function Oc(t,e){let n=Wi(t,e);if(n>=0)return t[n|1]}function Wi(t,e){return VN(t,e,1)}function VN(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var er={},lt=[],En=new $(""),dh=new $("",-1),fh=new $(""),hs=class{get(e,n=$r){if(n===$r){let i=gI("",-201);throw i.name="\u0275NotFound",i}return n}};function Ki(t){return t[ih]||null}function kc(t){return t[oh]||null}function hh(t){return t[sh]||null}function tr(t){return{\u0275providers:t}}function EI(t){return tr([{provide:En,multi:!0,useValue:t}])}function II(...t){return{\u0275providers:Fc(!0,t),\u0275fromNgModule:!0}}function Fc(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return xc(e,s=>{let c=s;Ac(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&wI(i,o),n}function wI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];ph(i,o=>{e(o,r)})}}function Ac(t,e,n,r){if(t=$e(t),!t)return!1;let i=null,o=Uf(t),s=!o&&Ki(t);if(!o&&!s){let u=t.ngModule;if(o=Uf(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Ac(l,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{xc(o.imports,f=>{Ac(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&wI(l,e)}if(!c){let l=Qn(i)||(()=>new i);e({provide:i,useFactory:l,deps:lt},i),e({provide:fh,useValue:i,multi:!0},i),e({provide:En,useValue:()=>le(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=t;ph(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function ph(t,e){for(let n of t)rh(n)&&(n=n.\u0275providers),Array.isArray(n)?ph(n,e):e(n)}var jN=he({provide:String,useValue:he});function DI(t){return t!==null&&typeof t=="object"&&jN in t}function BN(t){return!!(t&&t.useExisting)}function UN(t){return!!(t&&t.useFactory)}function qr(t){return typeof t=="function"}function TI(t){return!!t.useClass}var ms=new $(""),bc={},uI={},Bf;function ys(){return Bf===void 0&&(Bf=new hs),Bf}var wt=class{},zr=class extends wt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,zf(e,s=>this.processProvider(s)),this.records.set(dh,zi(void 0,this)),i.has("environment")&&this.records.set(wt,zi(void 0,this));let o=this.records.get(ms);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(fh,lt,{self:!0}))}retrieve(e,n){let r=Gr(n)||0;try{return this.get(e,$r,r)}catch(i){if(qi(i))return i;throw i}}destroy(){ds(this),this._destroyed=!0;let e=z(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),z(e)}}onDestroy(e){return ds(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ds(this);let n=Jt(this),r=et(void 0),i;try{return e()}finally{Jt(n),et(r)}}get(e,n=$r,r){if(ds(this),e.hasOwnProperty(cI))return e[cI](this);let i=Gr(r),o,s=Jt(this),c=et(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let f=zN(e)&&Nc(e);f&&this.injectableDefInScope(f)?l=zi(qf(e),bc):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?ys():this.parent;return n=i&8&&n===$r?null:n,u.get(e,n)}catch(u){let l=PN(u);throw l===-200||l===-201?new W(l,null):u}finally{et(c),Jt(s)}}resolveInjectorInitializers(){let e=z(null),n=Jt(this),r=et(void 0),i;try{let o=this.get(En,lt,{self:!0});for(let s of o)s()}finally{Jt(n),et(r),z(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Kn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=$e(e);let n=qr(e)?e:$e(e&&e.provide),r=$N(e);if(!qr(e)&&e.multi===!0){let i=this.records.get(n);i||(i=zi(void 0,bc,!0),i.factory=()=>Gf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=z(null);try{if(n.value===uI)throw ch(Kn(e));return n.value===bc&&(n.value=uI,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&qN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{z(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=$e(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function qf(t){let e=Nc(t),n=e!==null?e.factory:Qn(t);if(n!==null)return n;if(t instanceof $)throw new W(204,!1);if(t instanceof Function)return HN(t);throw new W(204,!1)}function HN(t){if(t.length>0)throw new W(204,!1);let n=MN(t);return n!==null?()=>n.factory(t):()=>new t}function $N(t){if(DI(t))return zi(void 0,t.useValue);{let e=gh(t);return zi(e,bc)}}function gh(t,e,n){let r;if(qr(t)){let i=$e(t);return Qn(i)||qf(i)}else if(DI(t))r=()=>$e(t.useValue);else if(UN(t))r=()=>t.useFactory(...Gf(t.deps||[]));else if(BN(t))r=(i,o)=>le($e(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=$e(t&&(t.useClass||t.provide));if(GN(t))r=()=>new i(...Gf(t.deps));else return Qn(i)||qf(i)}return r}function ds(t){if(t.destroyed)throw new W(205,!1)}function zi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function GN(t){return!!t.deps}function qN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function zN(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function zf(t,e){for(let n of t)Array.isArray(n)?zf(n,e):n&&rh(n)?zf(n.\u0275providers,e):e(n)}function vs(t,e){let n;t instanceof zr?(ds(t),n=t):n=new $f(t);let r,i=Jt(n),o=et(void 0);try{return e()}finally{Jt(i),et(o)}}function CI(){return mI()!==void 0||Cc()!=null}var tt=0,U=1,Q=2,Ge=3,Dt=4,Pt=5,at=6,Qi=7,be=8,dt=9,In=10,ye=11,Yi=12,mh=13,Qr=14,nt=15,Yr=16,Jr=17,Zr=18,_s=19,yh=20,_n=21,Lc=22,Es=23,ft=24,Xr=25,ei=26,pe=27,bI=1,xt=6,Xt=7,SI=8,Is=9,Se=10;function ht(t){return Array.isArray(t)&&typeof t[bI]=="object"}function Ot(t){return Array.isArray(t)&&t[bI]===!0}function vh(t){return(t.flags&4)!==0}function wn(t){return t.componentOffset>-1}function Vc(t){return(t.flags&1)===1}function en(t){return!!t.template}function ti(t){return(t[Q]&512)!==0}function nr(t){return(t[Q]&256)===256}var _h="svg",AI="math";function pt(t){for(;Array.isArray(t);)t=t[tt];return t}function Eh(t,e){return pt(e[t])}function kt(t,e){return pt(e[t.index])}function ni(t,e){return t.data[e]}function MI(t,e){return t[e]}function Ih(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Tt(t,e){let n=e[t];return ht(n)?n:n[tt]}function jc(t){return(t[Q]&128)===128}function tn(t,e){return e==null?null:t[e]}function wh(t){t[Jr]=0}function Dh(t){t[Q]&1024||(t[Q]|=1024,jc(t)&&Ji(t))}function NI(t,e){for(;t>0;)e=e[Qr],t--;return e}function ws(t){return!!(t[Q]&9216||t[ft]?.dirty)}function Bc(t){t[In].changeDetectionScheduler?.notify(8),t[Q]&64&&(t[Q]|=1024),ws(t)&&Ji(t)}function Ji(t){t[In].changeDetectionScheduler?.notify(0);let e=Yn(t);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!jc(e)));)e=Yn(e)}function Th(t,e){if(nr(t))throw new W(911,!1);t[_n]===null&&(t[_n]=[]),t[_n].push(e)}function RI(t,e){if(t[_n]===null)return;let n=t[_n].indexOf(e);n!==-1&&t[_n].splice(n,1)}function Yn(t){let e=t[Ge];return Ot(e)?e[Ge]:e}function PI(t){return t[Qi]??=[]}function xI(t){return t.cleanup??=[]}var ee={lFrame:KI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Wf=!1;function OI(){return ee.lFrame.elementDepthCount}function kI(){ee.lFrame.elementDepthCount++}function Ch(){ee.lFrame.elementDepthCount--}function FI(){return ee.bindingsEnabled}function bh(){return ee.skipHydrationRootTNode!==null}function Sh(t){return ee.skipHydrationRootTNode===t}function LI(t){ee.skipHydrationRootTNode=t}function Ah(){ee.skipHydrationRootTNode=null}function fe(){return ee.lFrame.lView}function gt(){return ee.lFrame.tView}function Ds(t){return ee.lFrame.contextLView=t,t[be]}function Ts(t){return ee.lFrame.contextLView=null,t}function Ct(){let t=Mh();for(;t!==null&&t.type===64;)t=t.parent;return t}function Mh(){return ee.lFrame.currentTNode}function VI(){let t=ee.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Zi(t,e){let n=ee.lFrame;n.currentTNode=t,n.isParent=e}function Nh(){return ee.lFrame.isParent}function jI(){ee.lFrame.isParent=!1}function Rh(){return Wf}function Ph(t){let e=Wf;return Wf=t,e}function BI(){let t=ee.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function UI(t){return ee.lFrame.bindingIndex=t}function Cs(){return ee.lFrame.bindingIndex++}function HI(t){let e=ee.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function $I(){return ee.lFrame.inI18n}function GI(t,e){let n=ee.lFrame;n.bindingIndex=n.bindingRootIndex=t,Uc(e)}function qI(){return ee.lFrame.currentDirectiveIndex}function Uc(t){ee.lFrame.currentDirectiveIndex=t}function zI(t){let e=ee.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function xh(t){ee.lFrame.currentQueryIndex=t}function WN(t){let e=t[U];return e.type===2?e.declTNode:e.type===1?t[Pt]:null}function Oh(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=WN(o),i===null||(o=o[Qr],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ee.lFrame=WI();return r.currentTNode=e,r.lView=t,!0}function Hc(t){let e=WI(),n=t[U];ee.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function WI(){let t=ee.lFrame,e=t===null?null:t.child;return e===null?KI(t):e}function KI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function QI(){let t=ee.lFrame;return ee.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var kh=QI;function $c(){let t=QI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function YI(t){return(ee.lFrame.contextLView=NI(t,ee.lFrame.contextLView))[be]}function rr(){return ee.lFrame.selectedIndex}function ir(t){ee.lFrame.selectedIndex=t}function JI(){let t=ee.lFrame;return ni(t.tView,t.selectedIndex)}function or(){ee.lFrame.currentNamespace=_h}function Xi(){KN()}function KN(){ee.lFrame.currentNamespace=null}function Fh(){return ee.lFrame.currentNamespace}var ZI=!0;function Gc(){return ZI}function Dn(t){ZI=t}function Kf(t,e=null,n=null,r){let i=XI(t,e,n,r);return i.resolveInjectorInitializers(),i}function XI(t,e=null,n=null,r,i=new Set){let o=[n||lt,II(t)];return r=r||(typeof t=="object"?void 0:Kn(t)),new zr(o,e||ys(),r||null,i)}var Rt=class t{static THROW_IF_NOT_FOUND=$r;static NULL=new hs;static create(e,n){if(Array.isArray(e))return Kf({name:""},n,e,"");{let r=e.name??"";return Kf({name:r},e.parent,e.providers,r)}}static \u0275prov=de({token:t,providedIn:"any",factory:()=>le(dh)});static __NG_ELEMENT_ID__=-1},Ft=new $(""),sr=(()=>{class t{static __NG_ELEMENT_ID__=QN;static __NG_ENV_ID__=n=>n}return t})(),Qf=class extends sr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return nr(this._lView)}onDestroy(e){let n=this._lView;return Th(n,e),()=>RI(n,e)}};function QN(){return new Qf(fe())}var ew=!1,ar=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Br(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Ce(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=de({token:t,providedIn:"root",factory:()=>new t})}return t})(),Yf=class extends Qt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,CI()&&(this.destroyRef=B(sr,{optional:!0})??void 0,this.pendingTasks=B(ar,{optional:!0})??void 0)}emit(e){let n=z(null);try{super.next(e)}finally{z(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Xe&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},ot=Yf;function Mc(...t){}function Lh(t){let e,n;function r(){t=Mc;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Vh(t){return queueMicrotask(()=>t()),()=>{t=Mc}}var jh="isAngularZone",ps=jh+"_ID",YN=0,st=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ot(!1);onMicrotaskEmpty=new ot(!1);onStable=new ot(!1);onError=new ot(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=ew}=e;if(typeof Zone>"u")throw new W(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,XN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(jh)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new W(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new W(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,JN,Mc,Mc);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},JN={};function Bh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ZN(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Lh(()=>{t.callbackScheduled=!1,Jf(t),t.isCheckStableRunning=!0,Bh(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Jf(t)}function XN(t){let e=()=>{ZN(t)},n=YN++;t._inner=t._inner.fork({name:"angular",properties:{[jh]:!0,[ps]:n,[ps+n]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(eR(u))return r.invokeTask(o,s,c,u);try{return lI(t),r.invokeTask(o,s,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),dI(t)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return lI(t),r.invoke(o,s,c,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!tR(u)&&e(),dI(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Jf(t),Bh(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Jf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function lI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function dI(t){t._nesting--,Bh(t)}var gs=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ot;onMicrotaskEmpty=new ot;onStable=new ot;onError=new ot;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function eR(t){return tw(t,"__ignore_ng_zone__")}function tR(t){return tw(t,"__scheduler_tick__")}function tw(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Zt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},nn=new $("",{factory:()=>{let t=B(st),e=B(wt),n;return r=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw r}):(n??=e.get(Zt),n.handleError(r))})}}}),nw={provide:En,useValue:()=>{let t=B(Zt,{optional:!0})},multi:!0},nR=new $("",{factory:()=>{let t=B(Ft).defaultView;if(!t)return;let e=B(nn),n=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),B(sr).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function Uh(){return tr([EI(()=>void B(nR))])}function ct(t,e){let[n,r,i]=Sf(t,e?.equal),o=n,s=o[It];return o.set=r,o.update=i,o.asReadonly=rw.bind(o),o}function rw(){let t=this[It];if(t.readonlyFn===void 0){let e=()=>this();e[It]=t,t.readonlyFn=e}return t.readonlyFn}var qc=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=rR}return t})();function rR(){return new qc(fe(),Ct())}var Jn=class{},bs=new $("",{factory:()=>!0});var Hh=new $(""),zc=(()=>{class t{internalPendingTasks=B(ar);scheduler=B(Jn);errorHandler=B(nn);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=de({token:t,providedIn:"root",factory:()=>new t})}return t})(),$h=(()=>{class t{static \u0275prov=de({token:t,providedIn:"root",factory:()=>new Zf})}return t})(),Zf=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},Xf=class{[It];constructor(e){this[It]=e}destroy(){this[It].destroy()}};function mt(t){return Mf(t)}var Wc={JSACTION:"jsaction"};function Os(t){return{toString:t}.toString()}function Vw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var eu=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},ks=(()=>{let t=()=>jw;return t.ngInherit=!0,t})();function jw(t){return t.type.prototype.ngOnChanges&&(t.setInput=fR),dR}function dR(){let t=Uw(this),e=t?.current;if(e){let n=t.previous;if(n===er)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function fR(t,e,n,r,i){let o=this.declaredInputs[r],s=Uw(t)||hR(t,{previous:er,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new eu(l&&l.currentValue,n,u===er),Vw(t,e,i,n)}var Bw="__ngSimpleChanges__";function Uw(t){return t[Bw]||null}function hR(t,e){return t[Bw]=e}var iw=[];var ce=function(t,e=null,n){for(let r=0;r<iw.length;r++){let i=iw[r];i(t,e,n)}};function pR(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=jw(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function gR(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Qc(t,e,n){Hw(t,e,3,n)}function Yc(t,e,n,r){(t[Q]&3)===n&&Hw(t,e,n,r)}function Gh(t,e){let n=t[Q];(n&3)===e&&(n&=16383,n+=1,t[Q]=n)}function Hw(t,e,n,r){let i=r!==void 0?t[Jr]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Jr]+=65536),(c<o||o==-1)&&(mR(t,n,e,u),t[Jr]=(t[Jr]&4294901760)+u+2),u++}function ow(t,e){ce(4,t,e);let n=z(null);try{e.call(t)}finally{z(n),ce(5,t,e)}}function mR(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=t[s];i?t[Q]>>14<t[Jr]>>16&&(t[Q]&3)===e&&(t[Q]+=16384,ow(c,o)):ow(c,o)}var to=-1,ii=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function yR(t){return(t.flags&8)!==0}function vR(t){return(t.flags&16)!==0}function _R(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,o)}else{let o=i,s=n[++r];IR(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function ER(t){return t===3||t===4||t===6}function IR(t){return t.charCodeAt(0)===64}function io(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?sw(t,n,i,null,e[++r]):sw(t,n,i,null,null))}}return t}function sw(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function wR(t){return t!==to}function rp(t){return t&32767}function DR(t){return t>>16}function ip(t,e){let n=DR(t),r=e;for(;n>0;)r=r[Qr],n--;return r}var op=!0;function tu(t){let e=op;return op=t,e}var TR=256,$w=TR-1,Gw=5,CR=0,rn={};function bR(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Kr)&&(r=n[Kr]),r==null&&(r=n[Kr]=CR++);let i=r&$w,o=1<<i;e.data[t+(i>>Gw)]|=o}function nu(t,e){let n=qw(t,e);if(n!==-1)return n;let r=e[U];r.firstCreatePass&&(t.injectorIndex=e.length,qh(r.data,t),qh(e,null),qh(r.blueprint,null));let i=zw(t,e),o=t.injectorIndex;if(wR(i)){let s=rp(i),c=ip(i,e),u=c[U].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function qh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function qw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function zw(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Jw(i),r===null)return to;if(n++,i=i[Qr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return to}function sp(t,e,n){bR(t,e,n)}function Ww(t,e,n){if(n&8||t!==void 0)return t;Pc(e,"NodeInjector")}function Kw(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[dt],o=et(void 0);try{return i?i.get(e,r,n&8):uh(e,r,n&8)}finally{et(o)}}return Ww(r,e,n)}function Qw(t,e,n,r=0,i){if(t!==null){if(e[Q]&2048&&!(r&2)){let s=RR(t,e,n,r,rn);if(s!==rn)return s}let o=Yw(t,e,n,r,rn);if(o!==rn)return o}return Kw(e,n,r,i)}function Yw(t,e,n,r,i){let o=MR(n);if(typeof o=="function"){if(!Oh(e,t,r))return r&1?Ww(i,n,r):Kw(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Pc(n);else return s}finally{kh()}}else if(typeof o=="number"){let s=null,c=qw(t,e),u=to,l=r&1?e[nt][Pt]:null;for((c===-1||r&4)&&(u=c===-1?zw(t,e):e[c+8],u===to||!cw(r,!1)?c=-1:(s=e[U],c=rp(u),e=ip(u,e)));c!==-1;){let f=e[U];if(aw(o,c,f.data)){let p=SR(c,e,n,s,r,l);if(p!==rn)return p}u=e[c+8],u!==to&&cw(r,e[U].data[c+8]===l)&&aw(o,c,e)?(s=f,c=rp(u),e=ip(u,e)):c=-1}}return i}function SR(t,e,n,r,i,o){let s=e[U],c=s.data[t+8],u=r==null?wn(c)&&op:r!=s&&(c.type&3)!==0,l=i&1&&o===c,f=AR(c,s,n,u,l);return f!==null?ru(e,s,f,c,i):rn}function AR(t,e,n,r,i){let o=t.providerIndexes,s=e.data,c=o&1048575,u=t.directiveStart,l=t.directiveEnd,f=o>>20,p=r?c:c+f,m=i?c+f:l;for(let y=p;y<m;y++){let b=s[y];if(y<u&&n===b||y>=u&&b.type===n)return y}if(i){let y=s[u];if(y&&en(y)&&y.type===n)return u}return null}function ru(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof ii){let c=o;if(c.resolving){let y=hI(s[n]);throw ch(y)}let u=tu(c.canSeeViewProviders);c.resolving=!0;let l=s[n].type||s[n],f,p=c.injectImpl?et(c.injectImpl):null,m=Oh(t,r,0);try{o=t[n]=c.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&pR(n,s[n],e)}finally{p!==null&&et(p),tu(u),c.resolving=!1,kh()}}return o}function MR(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Kr)?t[Kr]:void 0;return typeof e=="number"?e>=0?e&$w:NR:e}function aw(t,e,n){let r=1<<t;return!!(n[e+(t>>Gw)]&r)}function cw(t,e){return!(t&2)&&!(t&1&&e)}var iu=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Qw(this._tNode,this._lView,e,Gr(r),n)}};function NR(){return new iu(Ct(),fe())}function mu(t){return Os(()=>{let e=t.prototype.constructor,n=e[fs]||ap(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[fs]||ap(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ap(t){return nh(t)?()=>{let e=ap($e(t));return e&&e()}:Qn(t)}function RR(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Q]&2048&&!ti(s);){let c=Yw(o,s,n,r|2,rn);if(c!==rn)return c;let u=o.parent;if(!u){let l=s[yh];if(l){let f=l.get(n,rn,r);if(f!==rn)return f}u=Jw(s),s=s[Qr]}o=u}return i}function Jw(t){let e=t[U],n=e.type;return n===2?e.declTNode:n===1?t[Pt]:null}function PR(){return Zw(Ct(),fe())}function Zw(t,e){return new co(kt(t,e))}var co=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=PR}return t})();var Xw="ngSkipHydration",xR="ngskiphydration";function eD(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===xR)return!0}return!1}function tD(t){return t.hasAttribute(Xw)}function ou(t){return(t.flags&128)===128}function nD(t){if(ou(t))return!0;let e=t.parent;for(;e;){if(ou(t)||eD(e))return!0;e=e.parent}return!1}var Rp=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Rp||{}),rD=new Map,OR=0;function kR(){return OR++}function FR(t){rD.set(t[_s],t)}function cp(t){rD.delete(t[_s])}var uw="__ngContext__";function oo(t,e){ht(e)?(t[uw]=e[_s],FR(e)):t[uw]=e}function iD(t){return sD(t[Yi])}function oD(t){return sD(t[Dt])}function sD(t){for(;t!==null&&!Ot(t);)t=t[Dt];return t}var up;function Pp(t){up=t}function Fs(){if(up!==void 0)return up;if(typeof document<"u")return document;throw new W(210,!1)}var sn=new $("",{factory:()=>LR}),LR="ng";var yu=new $(""),Tn=new $("",{providedIn:"platform",factory:()=>"unknown"});var vu=new $("",{factory:()=>Fs().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function VR(){let t=new ci;return t.store=jR(Fs(),B(sn)),t}var ci=(()=>{class t{static \u0275prov=de({token:t,providedIn:"root",factory:VR});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function jR(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var aD="h",cD="b",BR="f",UR="n",uD="e",lD="t",_u="c",xp="x",Ms="r",dD="i",fD="n",Op="d";var hD="di",pD="s",gD="p";var Ls=new $(""),mD=!1,kp=new $("",{factory:()=>mD});var Fp=new $(""),yD=!1,vD=new $(""),Lp=new $("",{factory:()=>new Map});var Vs="ngb";var _D=(t,e,n)=>{let r=t,i=r.__jsaction_fns??new Map,o=i.get(e)??[];o.push(n),i.set(e,o),r.__jsaction_fns=i},ED=(t,e)=>{let n=t,r=n.getAttribute(Vs)??"",i=e.get(r)??new Set;i.has(n)||i.add(n),e.set(r,i)};var ID=t=>{t.removeAttribute(Wc.JSACTION),t.removeAttribute(Vs),t.__jsaction_fns=void 0},wD=new $("",{factory:()=>({})});function Vp(t,e){let n=e?.__jsaction_fns?.get(t.type);if(!(!n||!e?.isConnected))for(let r of n)r(t)}var lp=new Map;function DD(t,e){return lp.set(t,e),()=>lp.delete(t)}var lw=!1,TD=(t,e,n,r)=>{};function HR(t,e,n,r){TD(t,e,n,r)}function CD(){lw||(TD=(t,e,n,r)=>{let i=t[dt].get(sn);lp.get(i)?.(e,n,r)},lw=!0)}var Eu=new $("");function Iu(t){return(t.flags&32)===32}var $R="__nghData__",jp=$R,GR="__nghDeferData__",bD=GR;var Jc="ngh",SD="nghm",AD=()=>null;function qR(t,e,n=!1){let r=t.getAttribute(Jc);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",c=n?i:s,u={};if(r!==""){let f=e.get(ci,null,{optional:!0});f!==null&&(u=f.get(jp,[])[Number(r)])}let l={data:u,firstChild:t.firstChild??null};return n&&(l.firstChild=t,wu(l,0,t.nextSibling)),c?t.setAttribute(Jc,c):t.removeAttribute(Jc),l}function MD(){AD=qR}function ND(t,e,n=!1){return AD(t,e,n)}function RD(t){let e=t._lView;return e[U].type===2?null:(ti(e)&&(e=e[pe]),e)}function zR(t){return t.textContent?.replace(/\s/gm,"")}function WR(t){let e=Fs(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=zR(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function wu(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function dp(t,e){return t.segmentHeads?.[e]??null}function PD(t){return t.get(vD,!1,{optional:!0})}function KR(t,e){let n=t.data,r=n[uD]?.[e]??null;return r===null&&n[_u]?.[e]&&(r=Bp(t,e)),r}function xD(t,e){return t.data[_u]?.[e]??null}function Bp(t,e){let n=xD(t,e)??[],r=0;for(let i of n)r+=i[Ms]*(i[xp]??1);return r}function QR(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[Op];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function OD(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[Op];t.disconnectedNodes=n?new Set(n):null}return!!QR(t)?.has(e)}function Du(t,e){let n=t[at];return n!==null&&!bh()&&!Iu(e)&&!OD(n,e.index-pe)}function YR(t,e){let n=e.get(Eu),i=e.get(ci).get(bD,{}),o=!1,s=t,c=null,u=[];for(;!o&&s;){o=n.has(s);let l=n.hydrating.get(s);if(c===null&&l!=null){c=l.promise;break}u.unshift(s),s=i[s][gD]}return{parentBlockPromise:c,hydrationQueue:u}}function zh(t){return!!t&&t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===SD}function dw(t){for(;t&&t.nodeType===Node.TEXT_NODE;)t=t.previousSibling;return t}function kD(t){for(let r of t.body.childNodes)if(zh(r))return;let e=dw(t.body.previousSibling);if(zh(e))return;let n=dw(t.head.lastChild);if(!zh(n))throw new W(-507,!1)}function FD(t,e){let n=t.contentQueries;if(n!==null){let r=z(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=t.data[s];xh(o),c.contentQueries(2,e[s],s)}}}finally{z(r)}}}function fp(t,e,n){xh(0);let r=z(null);try{e(t,n)}finally{z(r)}}function LD(t,e,n){if(vh(e)){let r=z(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{z(r)}}}var Vt=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(Vt||{});var hp=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${eh})`}};function Up(t){return t instanceof hp?t.changingThisBreaksApplicationSecurity:t}var JR=/^>|^->|<!--|-->|--!>|<!-$/g,ZR=/(<|>)/g,XR="\u200B$1\u200B";function eP(t){return t.replace(JR,e=>e.replace(ZR,XR))}function VD(t){return t.ownerDocument.body}function tP(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var jD="ng-template";function nP(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&tP(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Hp(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Hp(t){return t.type===4&&t.value!==jD}function rP(t,e,n){let r=t.type===4&&!n?jD:t.value;return e===r}function iP(t,e,n){let r=4,i=t.attrs,o=i!==null?aP(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!Lt(r)&&!Lt(u))return!1;if(s&&Lt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!rP(t,u,n)||u===""&&e.length===1){if(Lt(r))return!1;s=!0}}else if(r&8){if(i===null||!nP(t,i,u,n)){if(Lt(r))return!1;s=!0}}else{let l=e[++c],f=oP(u,i,Hp(t),n);if(f===-1){if(Lt(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(Lt(r))return!1;s=!0}}}}return Lt(r)||s}function Lt(t){return(t&1)===0}function oP(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return cP(e,t)}function sP(t,e,n=!1){for(let r=0;r<e.length;r++)if(iP(t,e[r],n))return!0;return!1}function aP(t){for(let e=0;e<t.length;e++){let n=t[e];if(ER(n))return e}return t.length}function cP(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function fw(t,e){return t?":not("+e.trim()+")":e}function uP(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Lt(s)&&(e+=fw(o,i),i=""),r=s,o=o||!Lt(r);n++}return i!==""&&(e+=fw(o,i)),e}function lP(t){return t.map(uP).join(",")}function dP(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Lt(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var an={};function BD(t,e){return t.createText(e)}function fP(t,e,n){t.setValue(e,n)}function UD(t,e){return t.createComment(eP(e))}function $p(t,e,n){return t.createElement(e,n)}function su(t,e,n,r,i){t.insertBefore(e,n,r,i)}function HD(t,e,n){t.appendChild(e,n)}function hw(t,e,n,r,i){r!==null?su(t,e,n,r,i):HD(t,e,n)}function Gp(t,e,n,r){t.removeChild(null,e,n,r)}function $D(t){t.textContent=""}function hP(t,e,n){t.setAttribute(e,"style",n)}function pP(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function GD(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&_R(t,e,r),i!==null&&pP(t,e,i),o!==null&&hP(t,e,o)}function qp(t,e,n,r,i,o,s,c,u,l,f){let p=pe+r,m=p+i,y=gP(p,m),b=typeof l=="function"?l():l;return y[U]={type:t,blueprint:y,template:n,queries:null,viewQuery:c,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:b,incompleteFirstPass:!1,ssrId:f}}function gP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:an);return n}function mP(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=qp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function zp(t,e,n,r,i,o,s,c,u,l,f){let p=e.blueprint.slice();return p[tt]=i,p[Q]=r|4|128|8|64|1024,(l!==null||t&&t[Q]&2048)&&(p[Q]|=2048),wh(p),p[Ge]=p[Qr]=t,p[be]=n,p[In]=s||t&&t[In],p[ye]=c||t&&t[ye],p[dt]=u||t&&t[dt]||null,p[Pt]=o,p[_s]=kR(),p[at]=f,p[yh]=l,p[nt]=e.type==2?t[nt]:p,p}function yP(t,e,n){let r=kt(e,t),i=mP(n),o=t[In].rendererFactory,s=WD(t,zp(t,i,null,qD(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function qD(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function zD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function WD(t,e){return t[Yi]?t[mh][Dt]=e:t[Yi]=e,t[mh]=e,e}function De(t=1){KD(gt(),fe(),rr()+t,!1)}function KD(t,e,n,r){if(!r)if((e[Q]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Qc(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Yc(e,o,0,n)}ir(n)}var Tu=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Tu||{});function pp(t,e,n,r){let i=z(null);try{let[o,s,c]=t.inputs[n],u=null;(s&Tu.SignalBased)!==0&&(u=e[o][It]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):Vw(e,u,o,r)}finally{z(i)}}var on=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(on||{}),vP;function Wp(t,e){return vP(t,e)}var oi=new Set,Cu=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Cu||{}),cr=new $(""),pw=new Set;function jt(t){pw.has(t)||(pw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Kp=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=de({token:t,providedIn:"root",factory:()=>new t})}return t})(),QD=[0,1,2,3],YD=(()=>{class t{ngZone=B(st);scheduler=B(Jn);errorHandler=B(Zt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){B(cr,{optional:!0})}execute(){let n=this.sequences.size>0;n&&ce(16),this.executing=!0;for(let r of QD)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&ce(17)}register(n){let{view:r}=n;r!==void 0?((r[Xr]??=[]).push(n),Ji(r),r[Q]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Cu.AFTER_NEXT_RENDER,n):n()}static \u0275prov=de({token:t,providedIn:"root",factory:()=>new t})}return t})(),au=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Xr];e&&(this.view[Xr]=e.filter(n=>n!==this))}};function Qp(t,e){let n=e?.injector??B(Rt);return jt("NgAfterNextRender"),EP(t,n,e,!0)}function _P(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function EP(t,e,n,r){let i=e.get(Kp);i.impl??=e.get(YD);let o=e.get(cr,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(sr):null,c=e.get(qc,null,{optional:!0}),u=new au(i.impl,_P(t),c?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var JD=new $("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function ZD(t,e,n){let r=t.get(JD);if(Array.isArray(e))for(let i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function IP(t,e){let n=t.get(JD);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)n.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function wP(t,e){for(let[n,r]of e)ZD(t,r.animateFns)}function gw(t,e,n,r){let i=t?.[ei]?.enter;e!==null&&i&&i.has(n.index)&&wP(r,i)}function eo(t,e,n,r,i,o,s,c){if(i!=null){let u,l=!1;Ot(i)?u=i:ht(i)&&(l=!0,i=i[tt]);let f=pt(i);t===0&&r!==null?(gw(c,r,o,n),s==null?HD(e,r,f):su(e,r,f,s||null,!0)):t===1&&r!==null?(gw(c,r,o,n),su(e,r,f,s||null,!0)):t===2?mw(c,o,n,p=>{Gp(e,f,l,p)}):t===3&&mw(c,o,n,()=>{e.destroyNode(f)}),u!=null&&kP(e,t,n,u,o,r,s)}}function DP(t,e){XD(t,e),e[tt]=null,e[Pt]=null}function TP(t,e,n,r,i,o){r[tt]=i,r[Pt]=e,bu(t,r,n,1,i,o)}function XD(t,e){e[In].changeDetectionScheduler?.notify(9),bu(t,e,e[ye],2,null,null)}function CP(t){let e=t[Yi];if(!e)return Wh(t[U],t);for(;e;){let n=null;if(ht(e))n=e[Yi];else{let r=e[Se];r&&(n=r)}if(!n){for(;e&&!e[Dt]&&e!==t;)ht(e)&&Wh(e[U],e),e=e[Ge];e===null&&(e=t),ht(e)&&Wh(e[U],e),n=e&&e[Dt]}e=n}}function Yp(t,e){let n=t[Is],r=n.indexOf(e);n.splice(r,1)}function Jp(t,e){if(nr(e))return;let n=e[ye];n.destroyNode&&bu(t,e,n,3,null,null),CP(e)}function Wh(t,e){if(nr(e))return;let n=z(null);try{e[Q]&=-129,e[Q]|=256,e[ft]&&oc(e[ft]),AP(t,e),SP(t,e),e[U].type===1&&e[ye].destroy();let r=e[Yr];if(r!==null&&Ot(e[Ge])){r!==e[Ge]&&Yp(r,e);let i=e[Zr];i!==null&&i.detachView(t)}cp(e)}finally{z(n)}}function mw(t,e,n,r){let i=t?.[ei];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);t&&oi.add(t),ZD(n,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),c=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:f}=l();c.push(f)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(c),bP(t,r)}else t&&oi.delete(t),r(!1)},i)}function bP(t,e){let n=t[ei]?.running;if(n){n.then(()=>{t[ei].running=void 0,oi.delete(t),e(!0)});return}e(!1)}function SP(t,e){let n=t.cleanup,r=e[Qi];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let c=n[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[n[s+1]];n[s].call(c)}r!==null&&(e[Qi]=null);let i=e[_n];if(i!==null){e[_n]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[Es];if(o!==null){e[Es]=null;for(let s of o)s.destroy()}}function AP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ii)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];ce(4,c,u);try{u.call(c)}finally{ce(5,c,u)}}else{ce(4,i,o);try{o.call(i)}finally{ce(5,i,o)}}}}}function MP(t,e,n){return NP(t,e.parent,n)}function NP(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[tt];if(wn(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Vt.None||i===Vt.Emulated)return null}return kt(r,n)}function RP(t,e,n){return xP(t,e,n)}function PP(t,e,n){return t.type&40?kt(t,n):null}var xP=PP,yw;function Zp(t,e,n,r){let i=MP(t,r,e),o=e[ye],s=r.parent||e[Pt],c=RP(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)hw(o,i,n[u],c,!1);else hw(o,i,n,c,!1);yw!==void 0&&yw(o,r,e,n,i)}function Ss(t,e){if(e!==null){let n=e.type;if(n&3)return kt(e,t);if(n&4)return gp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ss(t,r);{let i=t[e.index];return Ot(i)?gp(-1,i):pt(i)}}else{if(n&128)return Ss(t,e.next);if(n&32)return Wp(e,t)()||pt(t[e.index]);{let r=eT(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Yn(t[nt]);return Ss(i,r)}else return Ss(t,e.next)}}}return null}function eT(t,e){if(e!==null){let r=t[nt][Pt],i=e.projection;return r.projection[i]}return null}function gp(t,e){let n=Se+t+1;if(n<e.length){let r=e[n],i=r[U].firstChild;if(i!==null)return Ss(r,i)}return e[Xt]}function Xp(t,e,n,r,i,o,s){for(;n!=null;){let c=r[dt];if(n.type===128){n=n.next;continue}let u=r[n.index],l=n.type;if(s&&e===0&&(u&&oo(pt(u),r),n.flags|=2),!Iu(n))if(l&8)Xp(t,e,n.child,r,i,o,!1),eo(e,t,c,i,u,n,o,r);else if(l&32){let f=Wp(n,r),p;for(;p=f();)eo(e,t,c,i,p,n,o,r);eo(e,t,c,i,u,n,o,r)}else l&16?OP(t,e,r,n,i,o):eo(e,t,c,i,u,n,o,r);n=s?n.projectionNext:n.next}}function bu(t,e,n,r,i,o){Xp(n,r,t.firstChild,e,i,o,!1)}function OP(t,e,n,r,i,o){let s=n[nt],u=s[Pt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];eo(e,t,n[dt],i,f,r,o,n)}else{let l=u,f=s[Ge];ou(r)&&(l.flags|=128),Xp(t,e,l,f,i,o,!0)}}function kP(t,e,n,r,i,o,s){let c=r[Xt],u=pt(r);c!==u&&eo(e,t,n,o,c,i,s);for(let l=Se;l<r.length;l++){let f=r[l];bu(f[U],f,t,e,o,c)}}function FP(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:on.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=on.Important),t.setStyle(n,r,i,o))}}function tT(t,e,n,r,i){let o=rr(),s=r&2;try{ir(-1),s&&e.length>pe&&KD(t,e,pe,!1),ce(s?2:0,i,n),n(r,i)}finally{ir(o),ce(s?3:1,i,n)}}function nT(t,e,n){GP(t,e,n),(n.flags&64)===64&&qP(t,e,n)}function eg(t,e,n=kt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(e,t):t[s];t[i++]=c}}}function LP(t,e,n,r){let o=r.get(kp,mD)||n===Vt.ShadowDom||n===Vt.ExperimentalIsolatedShadowDom,s=t.selectRootElement(e,o);return VP(s),s}function VP(t){rT(t)}var rT=()=>null;function jP(t){tD(t)?$D(t):WR(t)}function iT(){rT=jP}function BP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function UP(t,e,n,r,i,o){let s=e[U];if(ng(t,s,e,n,r)){wn(t)&&$P(e,t.index);return}t.type&3&&(n=BP(n)),HP(t,e,n,r,i,o)}function HP(t,e,n,r,i,o){if(t.type&3){let s=kt(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function $P(t,e){let n=Tt(e,t);n[Q]&16||(n[Q]|=64)}function GP(t,e,n){let r=n.directiveStart,i=n.directiveEnd;wn(n)&&yP(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||nu(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let c=t.data[s],u=ru(e,t,s,n);if(oo(u,e),o!==null&&KP(e,s-r,u,c,n,o),en(c)){let l=Tt(n.index,e);l[be]=ru(e,t,s,n)}}}function qP(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=qI();try{ir(o);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];Uc(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&zP(u,l)}}finally{ir(-1),Uc(s)}}function zP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function WP(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];sP(e,o.selectors,!1)&&(r??=[],en(o)?r.unshift(o):r.push(o))}return r}function KP(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1];pp(r,n,u,l)}}function oT(t,e,n,r,i){let o=pe+n,s=e[U],c=i(s,e,t,r,n);e[o]=c,Zi(t,!0);let u=t.type===2;return u?(GD(e[ye],c,t),(OI()===0||Vc(t))&&oo(c,e),kI()):oo(c,e),Gc()&&(!u||!Iu(t))&&Zp(s,e,c,t),t}function sT(t){let e=t;return Nh()?jI():(e=e.parent,Zi(e,!1)),e}function tg(t,e){let n=t[dt];if(!n)return;let r;try{r=n.get(nn,null)}catch{r=null}r?.(e)}function ng(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],f=s[u+1],p=e.data[l];pp(p,n[l],f,i),c=!0}if(o)for(let u of o){let l=n[u],f=e.data[u];pp(f,l,r,i),c=!0}return c}function QP(t,e){let n=Tt(e,t),r=n[U];YP(r,n);let i=n[tt];i!==null&&n[at]===null&&(n[at]=ND(i,n[dt])),ce(18),rg(r,n,n[be]),ce(19,n[be])}function YP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function rg(t,e,n){Hc(e);try{let r=t.viewQuery;r!==null&&fp(1,r,n);let i=t.template;i!==null&&tT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Zr]?.finishViewCreation(t),t.staticContentQueries&&FD(t,e),t.staticViewQueries&&fp(2,t.viewQuery,n);let o=t.components;o!==null&&JP(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Q]&=-5,$c()}}function JP(t,e){for(let n=0;n<e.length;n++)QP(t,e[n])}function Su(t,e,n,r){let i=z(null);try{let o=e.tView,c=t[Q]&4096?4096:16,u=zp(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Yr]=l;let f=t[Zr];return f!==null&&(u[Zr]=f.createEmbeddedView(o)),rg(o,u,n),u}finally{z(i)}}function Au(t,e){return!e||e.firstChild===null||ou(t)}function Ns(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(pt(o)),Ot(o)&&aT(o,r);let s=n.type;if(s&8)Ns(t,e,n.child,r);else if(s&32){let c=Wp(n,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=eT(e,n);if(Array.isArray(c))r.push(...c);else{let u=Yn(e[nt]);Ns(u[U],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function aT(t,e){for(let n=Se;n<t.length;n++){let r=t[n],i=r[U].firstChild;i!==null&&Ns(r[U],r,i,e)}t[Xt]!==t[tt]&&e.push(t[Xt])}function cT(t){if(t[Xr]!==null){for(let e of t[Xr])e.impl.addSequence(e);t[Xr].length=0}}var uT=[];function ZP(t){return t[ft]??XP(t)}function XP(t){let e=uT.pop()??Object.create(tx);return e.lView=t,e}function ex(t){t.lView[ft]!==t&&(t.lView=null,uT.push(t))}var tx=te(j({},cs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Ji(t.lView)},consumerOnSignalRead(){this.lView[ft]=this}});function nx(t){let e=t[ft]??Object.create(rx);return e.lView=t,e}var rx=te(j({},cs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Yn(t.lView);for(;e&&!lT(e[U]);)e=Yn(e);e&&Dh(e)},consumerOnSignalRead(){this.lView[ft]=this}});function lT(t){return t.type!==2}function dT(t){if(t[Es]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Es])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[Q]&8192)}}var ix=100;function fT(t,e=0){let r=t[In].rendererFactory,i=!1;i||r.begin?.();try{ox(t,e)}finally{i||r.end?.()}}function ox(t,e){let n=Rh();try{Ph(!0),mp(t,e);let r=0;for(;ws(t);){if(r===ix)throw new W(103,!1);r++,mp(t,1)}}finally{Ph(n)}}function sx(t,e,n,r){if(nr(e))return;let i=e[Q],o=!1,s=!1;Hc(e);let c=!0,u=null,l=null;o||(lT(t)?(l=ZP(e),u=ic(l)):rc()===null?(c=!1,l=nx(e),u=ic(l)):e[ft]&&(oc(e[ft]),e[ft]=null));try{wh(e),UI(t.bindingStartIndex),n!==null&&tT(t,e,n,2,r);let f=(i&3)===3;if(!o)if(f){let y=t.preOrderCheckHooks;y!==null&&Qc(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Yc(e,y,0,null),Gh(e,0)}if(s||ax(e),dT(e),hT(e,0),t.contentQueries!==null&&FD(t,e),!o)if(f){let y=t.contentCheckHooks;y!==null&&Qc(e,y)}else{let y=t.contentHooks;y!==null&&Yc(e,y,1),Gh(e,1)}ux(t,e);let p=t.components;p!==null&&gT(e,p,0);let m=t.viewQuery;if(m!==null&&fp(2,m,r),!o)if(f){let y=t.viewCheckHooks;y!==null&&Qc(e,y)}else{let y=t.viewHooks;y!==null&&Yc(e,y,2),Gh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Lc]){for(let y of e[Lc])y();e[Lc]=null}o||(cT(e),e[Q]&=-73)}catch(f){throw o||Ji(e),f}finally{l!==null&&(If(l,u),c&&ex(l)),$c()}}function hT(t,e){for(let n=iD(t);n!==null;n=oD(n))for(let r=Se;r<n.length;r++){let i=n[r];pT(i,e)}}function ax(t){for(let e=iD(t);e!==null;e=oD(e)){if(!(e[Q]&2))continue;let n=e[Is];for(let r=0;r<n.length;r++){let i=n[r];Dh(i)}}}function cx(t,e,n){ce(18);let r=Tt(e,t);pT(r,n),ce(19,r[be])}function pT(t,e){jc(t)&&mp(t,e)}function mp(t,e){let r=t[U],i=t[Q],o=t[ft],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&wf(o)),s||=!1,o&&(o.dirty=!1),t[Q]&=-9217,s)sx(r,t,r.template,t[be]);else if(i&8192){let c=z(null);try{dT(t),hT(t,1);let u=r.components;u!==null&&gT(t,u,1),cT(t)}finally{z(c)}}}function gT(t,e,n){for(let r=0;r<e.length;r++)cx(t,e[r],n)}function ux(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ir(~i);else{let o=i,s=n[++r],c=n[++r];GI(s,o);let u=e[o];ce(24,u),c(2,u),ce(25,u)}}}finally{ir(-1)}}function Mu(t,e){let n=Rh()?64:1088;for(t[In].changeDetectionScheduler?.notify(e);t;){t[Q]|=n;let r=Yn(t);if(ti(t)&&!r)return t;t=r}return null}function lx(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function mT(t,e){let n=Se+e;if(n<t.length)return t[n]}function Nu(t,e,n,r=!0){let i=e[U];if(dx(i,e,t,n),r){let s=gp(n,t),c=e[ye],u=c.parentNode(t[Xt]);u!==null&&TP(i,t[Pt],c,e,u,s)}let o=e[at];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function ig(t,e){let n=og(t,e);return n!==void 0&&Jp(n[U],n),n}function og(t,e){if(t.length<=Se)return;let n=Se+e,r=t[n];if(r){let i=r[Yr];i!==null&&i!==t&&Yp(i,r),e>0&&(t[n-1][Dt]=r[Dt]);let o=lh(t,Se+e);DP(r[U],r);let s=o[Zr];s!==null&&s.detachView(o[U]),r[Ge]=null,r[Dt]=null,r[Q]&=-129}return r}function dx(t,e,n,r){let i=Se+r,o=n.length;r>0&&(n[i-1][Dt]=e),r<o-Se?(e[Dt]=n[i],yI(n,Se+r,e)):(n.push(e),e[Dt]=null),e[Ge]=n;let s=e[Yr];s!==null&&n!==s&&yT(s,e);let c=e[Zr];c!==null&&c.insertView(t),Bc(e),e[Q]|=128}function yT(t,e){let n=t[Is],r=e[Ge];if(ht(r))t[Q]|=2;else{let i=r[Ge][nt];e[nt]!==i&&(t[Q]|=2)}n===null?t[Is]=[e]:n.push(e)}var so=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[U];return Ns(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[be]}set context(e){this._lView[be]=e}get destroyed(){return nr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ge];if(Ot(e)){let n=e[SI],r=n?n.indexOf(this):-1;r>-1&&(og(e,r),lh(n,r))}this._attachedToViewContainer=!1}Jp(this._lView[U],this._lView)}onDestroy(e){Th(this._lView,e)}markForCheck(){Mu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Q]&=-129}reattach(){Bc(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,fT(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new W(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ti(this._lView),n=this._lView[Yr];n!==null&&!e&&Yp(n,this._lView),XD(this._lView[U],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new W(902,!1);this._appRef=e;let n=ti(this._lView),r=this._lView[Yr];r!==null&&!n&&yT(r,this._lView),Bc(this._lView)}};function Ru(t,e,n,r,i){let o=t.data[e];if(o===null)o=fx(t,e,n,r,i),$I()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=VI();o.injectorIndex=s===null?-1:s.injectorIndex}return Zi(o,!0),o}function fx(t,e,n,r,i){let o=Mh(),s=Nh(),c=s?o:o&&o.parent,u=t.data[e]=px(t,c,n,e,r,i);return hx(t,u,o,s),u}function hx(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function px(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,c=0;return bh()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var gx=new RegExp(`^(\\d+)*(${cD}|${aD})*(.*)`);function mx(t){let e=t.match(gx),[n,r,i,o]=e,s=r?parseInt(r,10):i,c=[];for(let[u,l,f]of o.matchAll(/(f|n)(\d*)/g)){let p=parseInt(f,10)||1;c.push(l,p)}return[s,...c]}function yx(t){return!t.prev&&t.parent?.type===8}function Kh(t){return t.index-pe}function vx(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function Pu(t,e,n,r){let i=Kh(r),o=vx(t,i);if(o===void 0){let s=t.data[fD];if(s?.[i])o=Ex(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{let c=r.prev===null,u=r.prev??r.parent;if(yx(r)){let l=Kh(r.parent);o=dp(t,l)}else{let l=kt(u,n);if(c)o=l.firstChild;else{let f=Kh(u),p=dp(t,f);if(u.type===2&&p){let y=Bp(t,f)+1;o=xu(y,p)}else o=l.nextSibling}}}}return o}function xu(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function _x(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case BR:n=n.firstChild;break;case UR:n=n.nextSibling;break}}return n}function Ex(t,e){let[n,...r]=mx(t),i;if(n===aD)i=e[nt][tt];else if(n===cD)i=VD(e[nt][tt]);else{let o=Number(n);i=pt(e[o+pe])}return _x(i,r)}var Ix=!1;function vT(t){Ix=t}function wx(t){let e=t[at];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[ye];for(let o of r.values())Dx(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function Dx(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-pe);i&&Gp(t,i,!1)}}function Ou(t){let e=t[xt]??[],r=t[Ge][ye],i=[];for(let o of e)o.data[hD]!==void 0?i.push(o):_T(o,r);t[xt]=i}function Tx(t){let{lContainer:e}=t,n=e[xt];if(n===null)return;let i=e[Ge][ye];for(let o of n)_T(o,i)}function _T(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[Ms];for(;n<i;){let o=r.nextSibling;Gp(e,r,!1),r=o,n++}}}function ku(t){Ou(t);let e=t[tt];ht(e)&&cu(e);for(let n=Se;n<t.length;n++)cu(t[n])}function cu(t){wx(t);let e=t[U];for(let n=pe;n<e.bindingStartIndex;n++)if(Ot(t[n])){let r=t[n];ku(r)}else ht(t[n])&&cu(t[n])}function sg(t){let e=t._views;for(let n of e){let r=RD(n);r!==null&&r[tt]!==null&&(ht(r)?cu(r):ku(r))}}function Cx(t,e,n,r){t!==null&&(n.cleanup(e),ku(t.lContainer),sg(r))}function bx(t,e){let n=[];for(let r of e)for(let i=0;i<(r[xp]??1);i++){let o={data:r,firstChild:null};r[Ms]>0&&(o.firstChild=t,t=xu(r[Ms],t)),n.push(o)}return[t,n]}var ET=()=>null,IT=()=>null;function wT(){ET=Sx,IT=Ax}function Sx(t,e){return CT(t,e)?t[xt].shift():(Ou(t),null)}function DT(t,e){return ET(t,e)}function Ax(t,e,n){if(e.tView.ssrId===null)return null;let r=DT(t,e.tView.ssrId);return n[U].firstUpdatePass&&r===null&&Mx(n,e),r}function TT(t,e,n){return IT(t,e,n)}function Mx(t,e){let n=e;for(;n;){if(vw(t,n))return;if((n.flags&256)===256)break;n=n.prev}for(n=e.next;n&&(n.flags&512)===512;){if(vw(t,n))return;n=n.next}}function CT(t,e){let n=t[xt];return!e||n===null||n.length===0?!1:n[0].data[dD]===e}function vw(t,e){let n=e.tView?.ssrId;if(n==null)return!1;let r=t[e.index];return Ot(r)&&CT(r,n)?(Ou(r),!0):!1}var bT=class{},Fu=class{},yp=class{resolveComponentFactory(e){throw new W(917,!1)}},Lu=class{static NULL=new yp},si=class{},js=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>Nx()}return t})();function Nx(){let t=fe(),e=Ct(),n=Tt(e.index,t);return(ht(n)?n:t)[ye]}var ST=(()=>{class t{static \u0275prov=de({token:t,providedIn:"root",factory:()=>null})}return t})();var Zc={},no=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,Zc,r);return i!==Zc||n===Zc?i:this.parentInjector.get(e,n,r)}};function uu(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=th(i,c);else if(o==2){let u=c,l=e[++s];r=th(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function ge(t,e=0){let n=fe();if(n===null)return le(t,e);let r=Ct();return Qw(r,n,$e(t),e)}function Rx(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let c=s,u=null,l=null;for(let f of s)if(f.resolveHostDirectives!==null){[c,u,l]=f.resolveHostDirectives(s);break}Ox(t,e,n,c,o,u,l)}o!==null&&r!==null&&Px(n,r,o)}function Px(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new W(-301,!1);r.push(e[i],o)}}function xx(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Ox(t,e,n,r,i,o,s){let c=r.length,u=!1;for(let m=0;m<c;m++){let y=r[m];!u&&en(y)&&(u=!0,xx(t,n,m)),sp(nu(n,e),t,y.type)}Bx(n,t.data.length,c);for(let m=0;m<c;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,f=!1,p=zD(t,e,c,null);c>0&&(n.directiveToIndex=new Map);for(let m=0;m<c;m++){let y=r[m];if(n.mergedAttrs=io(n.mergedAttrs,y.hostAttrs),Fx(t,n,e,p,y),jx(p,y,i),s!==null&&s.has(y)){let[M,N]=s.get(y);n.directiveToIndex.set(y.type,[p,M+n.directiveStart,N+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let b=y.type.prototype;!l&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!f&&(b.ngOnChanges||b.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),f=!0),p++}kx(t,n,o)}function kx(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))_w(0,e,i,r),_w(1,e,i,r),Iw(e,r,!1);else{let o=n.get(i);Ew(0,e,o,r),Ew(1,e,o,r),Iw(e,r,!0)}}}function _w(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),AT(e,o)}}function Ew(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;t===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),AT(e,s)}}function AT(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function Iw(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Hp(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let f of l)if(f===e){s??=[],s.push(u,r[c+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let f=0;f<l.length;f+=2)if(l[f]===e){s??=[],s.push(l[f+1],r[c+1]);break}}c+=2}t.initialInputs??=[],t.initialInputs.push(s)}function Fx(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Qn(i.type,!0)),s=new ii(o,en(i),ge,null);t.blueprint[r]=s,n[r]=s,Lx(t,e,r,zD(t,n,i.hostVars,an),i)}function Lx(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;Vx(s)!=c&&s.push(c),s.push(n,r,o)}}function Vx(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function jx(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;en(e)&&(n[""]=t)}}function Bx(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function MT(t,e,n,r,i,o,s,c){let u=e[U],l=u.consts,f=tn(l,s),p=Ru(u,t,n,r,f);return o&&Rx(u,e,p,tn(l,c),i),p.mergedAttrs=io(p.mergedAttrs,p.attrs),p.attrs!==null&&uu(p,p.attrs,!1),p.mergedAttrs!==null&&uu(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function NT(t,e){gR(t,e),vh(e)&&t.queries.elementEnd(e)}function Ux(t,e,n,r,i,o){let s=e.consts,c=tn(s,i),u=Ru(e,t,n,r,c);if(u.mergedAttrs=io(u.mergedAttrs,u.attrs),o!=null){let l=tn(s,o);u.localNames=[];for(let f=0;f<l.length;f+=2)u.localNames.push(l[f],-1)}return u.attrs!==null&&uu(u,u.attrs,!1),u.mergedAttrs!==null&&uu(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Hx(t,e,n){return t[e]=n}function uo(t,e,n){if(n===an)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Qh(t,e,n){return function r(i){let o=wn(t)?Tt(t.index,e):e;Mu(o,5);let s=e[be],c=ww(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)c=ww(e,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function ww(t,e,n,r){let i=z(null);try{return ce(6,e,n),n(r)!==!1}catch(o){return tg(t,o),!1}finally{ce(7,e,n),z(i)}}function $x(t,e,n,r,i,o,s,c){let u=Vc(t),l=!1,f=null;if(!r&&u&&(f=qx(e,n,o,t.index)),f!==null){let p=f.__ngLastListenerFn__||f;p.__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,l=!0}else{let p=kt(t,n),m=r?r(p):p;HR(n,m,o,c);let y=i.listen(m,o,c);if(!Gx(o)){let b=r?M=>r(pt(M[t.index])):t.index;RT(b,e,n,o,c,y,!1)}}return l}function Gx(t){return t.startsWith("animation")||t.startsWith("transition")}function qx(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let c=e[Qi],u=i[o+2];return c&&c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function RT(t,e,n,r,i,o,s){let c=e.firstCreatePass?xI(e):null,u=PI(n),l=u.length;u.push(i,o),c&&c.push(r,t,l,(l+1)*(s?-1:1))}function Dw(t,e,n,r,i,o){let s=e[n],c=e[U],l=c.data[n].outputs[r],p=s[l].subscribe(o);RT(t.index,c,e,i,o,p,!0)}var vp=Symbol("BINDING");var _p=class extends Lu{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ki(e);return new lu(n,this.ngModule)}};function zx(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Tu.SignalBased)!==0};return i&&(o.transform=i),o})}function Wx(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function Kx(t,e,n){let r=e instanceof wt?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new no(n,r):n}function Qx(t){let e=t.get(si,null);if(e===null)throw new W(407,!1);let n=t.get(ST,null),r=t.get(Jn,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function Yx(t,e){let n=PT(t);return $p(e,n,n==="svg"?_h:n==="math"?AI:null)}function PT(t){return(t.selectors[0][0]||"div").toLowerCase()}var lu=class extends Fu{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=zx(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Wx(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=lP(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){ce(22);let c=z(null);try{let u=this.componentDef,l=Jx(r,u,s,o),f=Kx(u,i||this.ngModule,e),p=Qx(f),m=p.rendererFactory.createRenderer(null,u),y=r?LP(m,r,u.encapsulation,f):Yx(u,m),b=s?.some(Tw)||o?.some(V=>typeof V!="function"&&V.bindings.some(Tw)),M=zp(null,l,null,512|qD(u),null,null,p,m,f,null,ND(y,f,!0));M[pe]=y,Hc(M);let N=null;try{let V=MT(pe,M,2,"#host",()=>l.directiveRegistry,!0,0);GD(m,y,V),oo(y,M),nT(l,M,V),LD(l,V,M),NT(l,V),n!==void 0&&Xx(V,this.ngContentSelectors,n),N=Tt(V.index,M),M[be]=N[be],rg(l,M,null)}catch(V){throw N!==null&&cp(N),cp(M),V}finally{ce(23),$c()}return new du(this.componentType,M,!!b)}finally{z(c)}}};function Jx(t,e,n,r){let i=t?["ng-version","21.0.0"]:dP(e.selectors[0]),o=null,s=null,c=0;if(n)for(let f of n)c+=f[vp].requiredVars,f.create&&(f.targetIdx=0,(o??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(r)for(let f=0;f<r.length;f++){let p=r[f];if(typeof p!="function")for(let m of p.bindings){c+=m[vp].requiredVars;let y=f+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let f of r){let p=typeof f=="function"?f:f.type,m=kc(p);u.push(m)}return qp(0,null,Zx(o,s),1,c,u,null,null,null,[i],null)}function Zx(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function Tw(t){let e=t[vp].kind;return e==="input"||e==="twoWay"}var du=class extends bT{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=ni(n[U],pe),this.location=Zw(this._tNode,n),this.instance=Tt(this._tNode.index,n)[be],this.hostView=this.changeDetectorRef=new so(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=ng(r,i[U],i,e,n);this.previousInputValues.set(e,n);let s=Tt(r.index,i);Mu(s,1)}get injector(){return new iu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Xx(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}function eO(t,e){let n=t[ye],r=n.createComment(""),i=kt(e,t),o=n.parentNode(i);return su(n,o,r,n.nextSibling(i),!1),r}var tO=xT,ag=()=>!1;function nO(t,e,n){return ag(t,e,n)}function xT(t,e,n,r){if(t[Xt])return;let i;n.type&8?i=pt(r):i=eO(e,n),t[Xt]=i}function rO(t,e,n){if(t[Xt]&&t[xt])return!0;let r=n[at],i=e.index-pe;if(!r||nD(e)||OD(r,i))return!1;let s=dp(r,i),c=r.data[_u]?.[i],[u,l]=bx(s,c);return t[Xt]=u,t[xt]=l,!0}function iO(t,e,n,r){ag(t,n,e)||xT(t,e,n,r)}function OT(){tO=iO,ag=rO}var Rs=class{};var Ps=class extends Rs{injector;componentFactoryResolver=new _p(this);instance=null;constructor(e){super();let n=new zr([...e.providers,{provide:Rs,useValue:this},{provide:Lu,useValue:this.componentFactoryResolver}],e.parent||ys(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function cg(t,e,n=null){return new Ps({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var oO=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Fc(!1,n.type),i=r.length>0?cg([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=de({token:t,providedIn:"environment",factory:()=>new t(le(wt))})}return t})();function Bt(t){return Os(()=>{let e=kT(t),n=te(j({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Rp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(oO).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Vt.Emulated,styles:t.styles||lt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&jt("NgStandalone"),FT(n);let r=t.dependencies;return n.directiveDefs=Cw(r,sO),n.pipeDefs=Cw(r,hh),n.id=uO(n),n})}function sO(t){return Ki(t)||kc(t)}function ui(t){return Os(()=>({type:t.type,bootstrap:t.bootstrap||lt,declarations:t.declarations||lt,imports:t.imports||lt,exports:t.exports||lt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function aO(t,e){if(t==null)return er;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=Tu.None,u=null),n[o]=[r,c,u],e[o]=s}return n}function cO(t){if(t==null)return er;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function bt(t){return Os(()=>{let e=kT(t);return FT(e),e})}function ug(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function kT(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||er,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||lt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:aO(t.inputs,e),outputs:cO(t.outputs),debugInfo:null}}function FT(t){t.features?.forEach(e=>e(t))}function Cw(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function uO(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function lO(t){return Object.getPrototypeOf(t.prototype).constructor}function cn(t){let e=lO(t.type),n=!0,r=[t];for(;e;){let i;if(en(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new W(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Yh(t.inputs),s.declaredInputs=Yh(t.declaredInputs),s.outputs=Yh(t.outputs);let c=i.hostBindings;c&&gO(t,c);let u=i.viewQuery,l=i.contentQueries;if(u&&hO(t,u),l&&pO(t,l),dO(t,i),fI(t.outputs,i.outputs),en(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(t),c===cn&&(n=!1)}}e=Object.getPrototypeOf(e)}fO(r)}function dO(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function fO(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=io(i.hostAttrs,n=io(n,i.hostAttrs))}}function Yh(t){return t===er?{}:t===lt?[]:t}function hO(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function pO(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function gO(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function mO(t,e,n,r,i,o,s,c){if(n.firstCreatePass){t.mergedAttrs=io(t.mergedAttrs,t.attrs);let f=t.tView=qp(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),f.queries=n.queries.embeddedTView(t))}c&&(t.flags|=c),Zi(t,!1);let u=LT(n,e,t,r);Gc()&&Zp(n,e,u,t),oo(u,e);let l=lx(u,e,u,t);e[r+pe]=l,WD(e,l),nO(l,t,e)}function fu(t,e,n,r,i,o,s,c,u,l,f){let p=n+pe,m;if(e.firstCreatePass){if(m=Ru(e,p,4,s||null,c||null),l!=null){let y=tn(e.consts,l);m.localNames=[];for(let b=0;b<y.length;b+=2)m.localNames.push(y[b],-1)}}else m=e.data[p];return mO(m,t,e,n,r,i,o,u),l!=null&&eg(t,m,f),m}var LT=VT;function VT(t,e,n,r){return Dn(!0),e[ye].createComment("")}function yO(t,e,n,r){let i=!Du(e,n);Dn(i);let o=e[at]?.data[lD]?.[r]??null;if(o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o),i)return VT(t,e);let s=e[at],c=Pu(s,t,e,n);wu(s,r,c);let u=Bp(s,r);return xu(u,c)}function jT(){LT=yO}var yt=(function(t){return t[t.NOT_STARTED=0]="NOT_STARTED",t[t.IN_PROGRESS=1]="IN_PROGRESS",t[t.COMPLETE=2]="COMPLETE",t[t.FAILED=3]="FAILED",t})(yt||{}),bw=0,vO=1,Ae=(function(t){return t[t.Placeholder=0]="Placeholder",t[t.Loading=1]="Loading",t[t.Complete=2]="Complete",t[t.Error=3]="Error",t})(Ae||{});var _O=0,Bs=1;var EO=4,IO=5;var wO=7,ro=8,DO=9,lg=(function(t){return t[t.Manual=0]="Manual",t[t.Playthrough=1]="Playthrough",t})(lg||{});function Xc(t,e){let n=CO(t),r=e[n];if(r!==null){for(let i of r)i();e[n]=null}}function TO(t){Xc(1,t),Xc(0,t),Xc(2,t)}function CO(t){let e=EO;return t===1?e=IO:t===2&&(e=DO),e}function BT(t){return t+1}function lo(t,e){let n=t[U],r=BT(e.index);return t[r]}function Us(t,e){let n=BT(e.index);return t.data[n]}function bO(t,e,n){let r=e[U],i=Us(r,n);switch(t){case Ae.Complete:return i.primaryTmplIndex;case Ae.Loading:return i.loadingTmplIndex;case Ae.Error:return i.errorTmplIndex;case Ae.Placeholder:return i.placeholderTmplIndex;default:return null}}function Sw(t,e){return e===Ae.Placeholder?t.placeholderBlockConfig?.[bw]??null:e===Ae.Loading?t.loadingBlockConfig?.[bw]??null:null}function SO(t){return t.loadingBlockConfig?.[vO]??null}function Aw(t,e){if(!t||t.length===0)return e;let n=new Set(t);for(let r of e)n.add(r);return t.length===n.size?t:Array.from(n)}function AO(t,e){let n=e.primaryTmplIndex+pe;return ni(t,n)}var MO=(()=>{class t{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){let s=i.length>0?cg(i,r,o):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=de({token:t,providedIn:"environment",factory:()=>new t})}return t})();var UT=new $("");function Jh(t,e,n){return t.get(MO).getOrCreateInjector(e,t,n,"")}function NO(t,e,n){if(t instanceof no){let i=t.injector,o=t.parentInjector,s=Jh(o,e,n);return new no(i,s)}let r=t.get(wt);if(r!==t){let i=Jh(r,e,n);return new no(t,i)}return Jh(t,e,n)}function ri(t,e,n,r=!1){let i=n[Ge],o=i[U];if(nr(i))return;let s=lo(i,e),c=s[Bs],u=s[wO];if(!(u!==null&&t<u)&&Mw(c,t)&&Mw(s[_O]??-1,t)){let l=Us(o,e),p=!r&&!0&&(SO(l)!==null||Sw(l,Ae.Loading)!==null||Sw(l,Ae.Placeholder))?xO:PO;try{p(t,s,n,e,i)}catch(m){tg(i,m)}}}function RO(t,e){let n=t[xt]?.findIndex(i=>i.data[pD]===e[Bs])??-1;return{dehydratedView:n>-1?t[xt][n]:null,dehydratedViewIx:n}}function PO(t,e,n,r,i){ce(20);let o=bO(t,i,r);if(o!==null){e[Bs]=t;let s=i[U],c=o+pe,u=ni(s,c),l=0;ig(n,l);let f;if(t===Ae.Complete){let b=Us(s,r),M=b.providers;M&&M.length>0&&(f=NO(i[dt],b,M))}let{dehydratedView:p,dehydratedViewIx:m}=RO(n,e),y=Su(i,u,null,{injector:f,dehydratedView:p});if(Nu(n,y,l,Au(u,p)),Mu(y,2),m>-1&&n[xt]?.splice(m,1),(t===Ae.Complete||t===Ae.Error)&&Array.isArray(e[ro])){for(let b of e[ro])b();e[ro]=null}}ce(21)}function Mw(t,e){return t<e}function Nw(t,e,n){t.loadingPromise.then(()=>{t.loadingState===yt.COMPLETE?ri(Ae.Complete,e,n):t.loadingState===yt.FAILED&&ri(Ae.Error,e,n)})}var xO=null;var dg=new $("");function li(t){return!!t&&typeof t.then=="function"}function Vu(t){return!!t&&typeof t.subscribe=="function"}var HT=new $("");var fg=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=B(HT,{optional:!0})??[];injector=B(Rt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=vs(this.injector,i);if(li(o))n.push(o);else if(Vu(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),fo=new $("");function $T(){bf(()=>{let t="";throw new W(600,t)})}function GT(t){return t.isBoundToModule}var OO=10;var St=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=B(nn);afterRenderManager=B(Kp);zonelessEnabled=B(bs);rootEffectScheduler=B($h);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Qt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=B(ar);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Hr(n=>!n))}constructor(){B(cr,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=B(wt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Rt.NULL){return this._injector.get(st).run(()=>{ce(10);let s=n instanceof Fu;if(!this._injector.get(fg).done){let b="";throw new W(405,b)}let u;s?u=n:u=this._injector.get(Lu).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let l=GT(u)?void 0:this._injector.get(Rs),f=r||u.selector,p=u.create(i,[],f,l),m=p.location.nativeElement,y=p.injector.get(dg,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),As(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),ce(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ce(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Cu.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new W(101,!1);let n=z(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,z(n),this.afterTick.next(),ce(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(si,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<OO;)ce(14),this.synchronizeOnce(),ce(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!ws(i))continue;let o=r&&!this.zonelessEnabled?0:1;fT(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>ws(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;As(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(fo,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>As(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new W(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function As(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function kO(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}function qT(t,e,n){let r=e[dt],i=e[U];if(t.loadingState!==yt.NOT_STARTED)return t.loadingPromise??Promise.resolve();let o=lo(e,n),s=AO(i,t);t.loadingState=yt.IN_PROGRESS,Xc(1,o);let c=t.dependencyResolverFn,u=r.get(zc).add();return c?(t.loadingPromise=Promise.allSettled(c()).then(l=>{let f=!1,p=[],m=[];for(let y of l)if(y.status==="fulfilled"){let b=y.value,M=Ki(b)||kc(b);if(M)p.push(M);else{let N=hh(b);N&&m.push(N)}}else{f=!0;break}if(f){if(t.loadingState=yt.FAILED,t.errorTmplIndex===null){let b=new W(-750,!1);tg(e,b)}}else{t.loadingState=yt.COMPLETE;let y=s.tView;if(p.length>0){y.directiveRegistry=Aw(y.directiveRegistry,p);let b=p.map(N=>N.type),M=Fc(!1,...b);t.providers=M}m.length>0&&(y.pipeRegistry=Aw(y.pipeRegistry,m))}}),t.loadingPromise.finally(()=>{t.loadingPromise=null,u()})):(t.loadingPromise=Promise.resolve().then(()=>{t.loadingPromise=null,t.loadingState=yt.COMPLETE,u()}),t.loadingPromise)}function FO(t,e){return e[dt].get(UT,null,{optional:!0})?.behavior!==lg.Manual}function LO(t,e,n){let r=e[U],i=e[n.index];if(!FO(t,e))return;let o=lo(e,n),s=Us(r,n);switch(TO(o),s.loadingState){case yt.NOT_STARTED:ri(Ae.Loading,n,i),qT(s,e,n),s.loadingState===yt.IN_PROGRESS&&Nw(s,n,i);break;case yt.IN_PROGRESS:ri(Ae.Loading,n,i),Nw(s,n,i);break;case yt.COMPLETE:ri(Ae.Complete,n,i);break;case yt.FAILED:ri(Ae.Error,n,i);break;default:}}async function zT(t,e,n){let r=t.get(Eu);if(r.hydrating.has(e))return;let{parentBlockPromise:o,hydrationQueue:s}=YR(e,t);if(s.length===0)return;o!==null&&s.shift(),BO(r,s),o!==null&&await o;let c=s[0];r.has(c)?await Rw(t,s,n):r.awaitParentBlock(c,async()=>await Rw(t,s,n))}async function Rw(t,e,n){let r=t.get(Eu),i=r.hydrating,o=t.get(ar),s=o.add();for(let u=0;u<e.length;u++){let l=e[u],f=r.get(l);if(f!=null){if(await HO(f),await UO(t),VO(f)){Tx(f),Pw(e.slice(u),r);break}i.get(l).resolve()}else{jO(u,e,r),Pw(e.slice(u),r);break}}let c=e[e.length-1];await i.get(c)?.promise,o.remove(s),n&&n(e),Cx(r.get(c),e,r,t.get(St))}function VO(t){return lo(t.lView,t.tNode)[Bs]===Ae.Error}function jO(t,e,n){let r=t-1,i=r>-1?n.get(e[r]):null;i&&ku(i.lContainer)}function Pw(t,e){let n=e.hydrating;for(let r in t)n.get(r)?.reject();e.cleanup(t)}function BO(t,e){for(let n of e)t.hydrating.set(n,kO())}function UO(t){return new Promise(e=>Qp(e,{injector:t}))}async function HO(t){let{tNode:e,lView:n}=t,r=lo(n,e);return new Promise(i=>{$O(r,i),LO(2,n,e)})}function $O(t,e){Array.isArray(t[ro])||(t[ro]=[]),t[ro].push(e)}var N6=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Ep=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function Zh(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function GO(t,e,n,r){let i,o,s=0,c=t.length-1,u=void 0;if(Array.isArray(e)){z(r);let l=e.length-1;for(z(null);s<=c&&s<=l;){let f=t.at(s),p=e[s],m=Zh(s,f,s,p,n);if(m!==0){m<0&&t.updateValue(s,p),s++;continue}let y=t.at(c),b=e[l],M=Zh(c,y,l,b,n);if(M!==0){M<0&&t.updateValue(c,b),c--,l--;continue}let N=n(s,f),V=n(c,y),Z=n(s,p);if(Object.is(Z,V)){let re=n(l,b);Object.is(re,N)?(t.swap(s,c),t.updateValue(c,b),l--,c--):t.move(c,s),t.updateValue(s,p),s++;continue}if(i??=new hu,o??=Ow(t,s,c,n),Ip(t,i,s,Z))t.updateValue(s,p),s++,c++;else if(o.has(Z))i.set(N,t.detach(s)),c--;else{let re=t.create(s,e[s]);t.attach(s,re),s++,c++}}for(;s<=l;)xw(t,i,n,s,e[s]),s++}else if(e!=null){z(r);let l=e[Symbol.iterator]();z(null);let f=l.next();for(;!f.done&&s<=c;){let p=t.at(s),m=f.value,y=Zh(s,p,s,m,n);if(y!==0)y<0&&t.updateValue(s,m),s++,f=l.next();else{i??=new hu,o??=Ow(t,s,c,n);let b=n(s,m);if(Ip(t,i,s,b))t.updateValue(s,m),s++,c++,f=l.next();else if(!o.has(b))t.attach(s,t.create(s,m)),s++,c++,f=l.next();else{let M=n(s,p);i.set(M,t.detach(s)),c--}}}for(;!f.done;)xw(t,i,n,t.length,f.value),f=l.next()}for(;s<=c;)t.destroy(t.detach(c--));i?.forEach(l=>{t.destroy(l)})}function Ip(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function xw(t,e,n,r,i){if(Ip(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function Ow(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var hu=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function Ut(t,e,n,r,i,o,s,c){jt("NgControlFlow");let u=fe(),l=gt(),f=tn(l.consts,o);return fu(u,l,t,e,n,r,i,f,256,s,c),hg}function hg(t,e,n,r,i,o,s,c){jt("NgControlFlow");let u=fe(),l=gt(),f=tn(l.consts,o);return fu(u,l,t,e,n,r,i,f,512,s,c),hg}function Ht(t,e){jt("NgControlFlow");let n=fe(),r=Cs(),i=n[r]!==an?n[r]:-1,o=i!==-1?pu(n,pe+i):void 0,s=0;if(uo(n,r,t)){let c=z(null);try{if(o!==void 0&&ig(o,s),t!==-1){let u=pe+t,l=pu(n,u),f=Cp(n[U],u),p=TT(l,f,n),m=Su(n,f,e,{dehydratedView:p});Nu(l,m,s,Au(f,p))}}finally{z(c)}}else if(o!==void 0){let c=mT(o,s);c!==void 0&&(c[be]=e)}}var wp=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Se}};var Dp=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function pg(t,e,n,r,i,o,s,c,u,l,f,p,m){jt("NgControlFlow");let y=fe(),b=gt(),M=u!==void 0,N=fe(),V=c?s.bind(N[nt][be]):s,Z=new Dp(M,V);N[pe+t]=Z,fu(y,b,t+1,e,n,r,i,tn(b.consts,o),256),M&&fu(y,b,t+2,u,l,f,p,tn(b.consts,m),512)}var Tp=class extends Ep{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Se}at(e){return this.getLView(e)[be].$implicit}attach(e,n){let r=n[at];this.needsIndexUpdate||=e!==this.length,Nu(this.lContainer,n,e,Au(this.templateTNode,r)),qO(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,zO(this.lContainer,e),WO(this.lContainer,e)}create(e,n){let r=DT(this.lContainer,this.templateTNode.tView.ssrId),i=Su(this.hostLView,this.templateTNode,new wp(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Jp(e[U],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[be].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[be].$index=e}getLView(e){return KO(this.lContainer,e)}};function gg(t){let e=z(null),n=rr();try{let r=fe(),i=r[U],o=r[n],s=n+1,c=pu(r,s);if(o.liveCollection===void 0){let l=Cp(i,s);o.liveCollection=new Tp(c,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(GO(u,t,o.trackByFn,e),u.updateIndexes(),o.hasEmptyBlock){let l=Cs(),f=u.length===0;if(uo(r,l,f)){let p=n+2,m=pu(r,p);if(f){let y=Cp(i,p),b=TT(m,y,r),M=Su(r,y,void 0,{dehydratedView:b});Nu(m,M,0,Au(y,b))}else i.firstUpdatePass&&Ou(m),ig(m,0)}}}finally{z(e)}}function pu(t,e){return t[e]}function qO(t,e){if(t.length<=Se)return;let n=Se+e,r=t[n],i=r?r[ei]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[dt];IP(o,i),oi.delete(r),i.detachedLeaveAnimationFns=void 0}}function zO(t,e){if(t.length<=Se)return;let n=Se+e,r=t[n],i=r?r[ei]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function WO(t,e){return og(t,e)}function KO(t,e){return mT(t,e)}function Cp(t,e){return ni(t,e)}function Hs(t,e,n){let r=fe(),i=Cs();if(uo(r,i,e)){let o=gt(),s=JI();UP(s,r,t,e,r[ye],n)}return Hs}function kw(t,e,n,r,i){ng(e,t,n,i?"class":"style",r)}function x(t,e,n,r){let i=fe(),o=i[U],s=t+pe,c=o.firstCreatePass?MT(s,i,2,e,WP,FI(),n,r):o.data[s];if(oT(c,i,t,e,mg),Vc(c)){let u=i[U];nT(u,i,c),LD(u,c,i)}return r!=null&&eg(i,c),x}function O(){let t=gt(),e=Ct(),n=sT(e);return t.firstCreatePass&&NT(t,n),Sh(n)&&Ah(),Ch(),n.classesWithoutHost!=null&&yR(n)&&kw(t,n,fe(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&vR(n)&&kw(t,n,fe(),n.stylesWithoutHost,!1),O}function Ie(t,e,n,r){return x(t,e,n,r),O(),Ie}function Fe(t,e,n,r){let i=fe(),o=i[U],s=t+pe,c=o.firstCreatePass?Ux(s,o,2,e,n,r):o.data[s];return oT(c,i,t,e,mg),r!=null&&eg(i,c),Fe}function Le(){let t=Ct(),e=sT(t);return Sh(e)&&Ah(),Ch(),Le}function di(t,e,n,r){return Fe(t,e,n,r),Le(),di}var mg=(t,e,n,r,i)=>(Dn(!0),$p(e[ye],r,Fh()));function QO(t,e,n,r,i){let o=!Du(e,n);if(Dn(o),o)return $p(e[ye],r,Fh());let s=e[at],c=Pu(s,t,e,n);return xD(s,i)&&wu(s,i,c.nextSibling),s&&(eD(n)||tD(c))&&wn(n)&&(LI(n),$D(c)),c}function WT(){mg=QO}var YO=(t,e,n,r,i)=>(Dn(!0),UD(e[ye],""));function JO(t,e,n,r,i){let o,s=!Du(e,n);if(Dn(s),s)return UD(e[ye],"");let c=e[at],u=Pu(c,t,e,n),l=KR(c,i);return wu(c,i,u),o=xu(l,u),o}function KT(){YO=JO}function ju(){return fe()}var $s="en-US";var ZO=$s;function QT(t){typeof t=="string"&&(ZO=t.toLowerCase().replace(/_/g,"-"))}function ur(t,e,n){let r=fe(),i=gt(),o=Ct();return XO(i,r,r[ye],o,t,e,n),ur}function XO(t,e,n,r,i,o,s){let c=!0,u=null;if((r.type&3||s)&&(u??=Qh(r,e,o),$x(r,t,e,s,n,i,o,u)&&(c=!1)),c){let l=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let p=0;p<f.length;p+=2){let m=f[p],y=f[p+1];u??=Qh(r,e,o),Dw(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=Qh(r,e,o),Dw(r,e,p,i,i,u)}}function un(t=1){return YI(t)}function Kc(t,e){return t<<17|e<<2}function ai(t){return t>>17&32767}function e1(t){return(t&2)==2}function t1(t,e){return t&131071|e<<17}function bp(t){return t|2}function ao(t){return(t&131068)>>2}function Xh(t,e){return t&-131069|e<<2}function n1(t){return(t&1)===1}function Sp(t){return t|1}function r1(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,c=ai(s),u=ao(s);t[r]=n;let l=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||Wi(p,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let m=ai(t[c+1]);t[r+1]=Kc(m,c),m!==0&&(t[m+1]=Xh(t[m+1],r)),t[c+1]=t1(t[c+1],r)}else t[r+1]=Kc(c,0),c!==0&&(t[c+1]=Xh(t[c+1],r)),c=r;else t[r+1]=Kc(u,0),c===0?c=r:t[u+1]=Xh(t[u+1],r),u=r;l&&(t[r+1]=bp(t[r+1])),Fw(t,f,r,!0),Fw(t,f,r,!1),i1(e,f,t,r,o),s=Kc(c,u),o?e.classBindings=s:e.styleBindings=s}function i1(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Wi(o,e)>=0&&(n[r+1]=Sp(n[r+1]))}function Fw(t,e,n,r){let i=t[n+1],o=e===null,s=r?ai(i):ao(i),c=!1;for(;s!==0&&(c===!1||o);){let u=t[s],l=t[s+1];o1(u,e)&&(c=!0,t[s+1]=r?Sp(l):bp(l)),s=r?ai(l):ao(l)}c&&(t[n+1]=r?bp(i):Sp(i))}function o1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Wi(t,e)>=0:!1}function Cn(t,e){return s1(t,e,null,!0),Cn}function s1(t,e,n,r){let i=fe(),o=gt(),s=HI(2);if(o.firstUpdatePass&&c1(o,t,s,r),e!==an&&uo(i,s,e)){let c=o.data[rr()];h1(o,c,i,i[ye],t,i[s+1]=p1(e,n),r,s)}}function a1(t,e){return e>=t.expandoStartIndex}function c1(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[rr()],s=a1(t,n);g1(o,r)&&e===null&&!s&&(e=!1),e=u1(i,o,e,r),r1(i,o,e,n,s,r)}}function u1(t,e,n,r){let i=zI(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=ep(null,t,e,n,r),n=xs(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=ep(i,t,e,n,r),o===null){let u=l1(t,e,r);u!==void 0&&Array.isArray(u)&&(u=ep(null,t,e,u[1],r),u=xs(u,e.attrs,r),d1(t,e,r,u))}else o=f1(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function l1(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ao(r)!==0)return t[ai(r)]}function d1(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ai(i)]=r}function f1(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=xs(r,s,n)}return xs(r,e.attrs,n)}function ep(t,e,n,r,i){let o=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(o=e[c],r=xs(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function xs(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),_I(t,s,n?!0:e[++o]))}return t===void 0?null:t}function h1(t,e,n,r,i,o,s,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],f=n1(l)?Lw(u,e,n,i,ao(l),s):void 0;if(!gu(f)){gu(o)||e1(l)&&(o=Lw(u,null,n,i,c,s));let p=Eh(rr(),n);FP(r,s,p,i,o)}}function Lw(t,e,n,r,i,o){let s=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,m=n[i+1];m===an&&(m=p?lt:void 0);let y=p?Oc(m,r):f===r?m:void 0;if(l&&!gu(y)&&(y=Oc(u,r)),gu(y)&&(c=y,s))return c;let b=t[i+1];i=s?ai(b):ao(b)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=Oc(u,r))}return c}function gu(t){return t!==void 0}function p1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Kn(Up(t)))),t}function g1(t,e){return(t.flags&(e?8:16))!==0}function L(t,e=""){let n=fe(),r=gt(),i=t+pe,o=r.firstCreatePass?Ru(r,i,1,e,null):r.data[i],s=YT(r,n,o,e,t);n[i]=s,Gc()&&Zp(r,n,s,o),Zi(o,!1)}var YT=(t,e,n,r,i)=>(Dn(!0),BD(e[ye],r));function m1(t,e,n,r,i){let o=!Du(e,n);if(Dn(o),o)return BD(e[ye],r);let s=e[at];return Pu(s,t,e,n)}function JT(){YT=m1}function y1(t,e,n,r=""){return uo(t,Cs(),n)?e+ah(n)+r:an}function fi(t){return lr("",t),fi}function lr(t,e,n){let r=fe(),i=y1(r,t,e,n);return i!==an&&v1(r,rr(),i),lr}function v1(t,e,n){let r=Eh(e,t);fP(t[ye],r,n)}function _1(t,e,n){let r=gt();if(r.firstCreatePass){let i=en(t);Ap(n,r.data,r.blueprint,i,!0),Ap(e,r.data,r.blueprint,i,!1)}}function Ap(t,e,n,r,i){if(t=$e(t),Array.isArray(t))for(let o=0;o<t.length;o++)Ap(t[o],e,n,r,i);else{let o=gt(),s=fe(),c=Ct(),u=qr(t)?t:$e(t.provide),l=gh(t),f=c.providerIndexes&1048575,p=c.directiveStart,m=c.providerIndexes>>20;if(qr(t)||!t.multi){let y=new ii(l,i,ge,null),b=np(u,e,i?f:f+m,p);b===-1?(sp(nu(c,s),o,u),tp(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(y),s.push(y)):(n[b]=y,s[b]=y)}else{let y=np(u,e,f+m,p),b=np(u,e,f,f+m),M=y>=0&&n[y],N=b>=0&&n[b];if(i&&!N||!i&&!M){sp(nu(c,s),o,u);let V=w1(i?I1:E1,n.length,i,r,l,t);!i&&N&&(n[b].providerFactory=V),tp(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(V),s.push(V)}else{let V=ZT(n[i?b:y],l,!i&&r);tp(o,t,y>-1?y:b,V)}!i&&r&&N&&n[b].componentProviders++}}}function tp(t,e,n,r){let i=qr(e),o=TI(e);if(i||o){let u=(o?$e(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,u]):l[f+1].push(r,u)}else l.push(n,u)}}}function ZT(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function np(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function E1(t,e,n,r,i){return Mp(this.multi,[])}function I1(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let c=this.providerFactory.componentProviders,u=ru(r,r[U],this.providerFactory.index,i);s=u.slice(0,c),Mp(o,s);for(let l=c;l<u.length;l++)s.push(u[l])}else s=[],Mp(o,s);return s}function Mp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function w1(t,e,n,r,i,o){let s=new ii(t,n,ge,null);return s.multi=[],s.index=e,s.componentProviders=0,ZT(s,i,r&&!n),s}function Gs(t,e=[]){return n=>{n.providersResolver=(r,i)=>_1(r,i?i(t):t,e)}}function D1(t,e){let n=t[e];return n===an?void 0:n}function T1(t,e,n,r,i,o){let s=e+n;return uo(t,s,i)?Hx(t,s+1,o?r.call(o,i):r(i)):D1(t,s+1)}function yg(t,e){let n=gt(),r,i=t+pe;n.firstCreatePass?(r=C1(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Qn(r.type,!0)),s,c=et(ge);try{let u=tu(!1),l=o();return tu(u),Ih(n,fe(),i,l),l}finally{et(c)}}function C1(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function vg(t,e,n){let r=t+pe,i=fe(),o=MI(i,r);return b1(i,r)?T1(i,BI(),e,o.transform,n,o):o.transform(n)}function b1(t,e){return t[U].data[e].pure}var XT=(()=>{class t{applicationErrorHandler=B(nn);appRef=B(St);taskService=B(ar);ngZone=B(st);zonelessEnabled=B(bs);tracing=B(cr,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Xe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ps):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(B(Hh,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Vh:Lh;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ps+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Vh(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function eC(){return[{provide:Jn,useExisting:XT},{provide:st,useClass:gs},{provide:bs,useValue:!0}]}function S1(){return typeof $localize<"u"&&$localize.locale||$s}var Bu=new $("",{factory:()=>B(Bu,{optional:!0,skipSelf:!0})||S1()});function hi(t,e){return sc(t,e?.equal)}var Dg={JSACTION:"__jsaction",OWNER:"__owner"},iC={};function A1(t){return t[Dg.JSACTION]}function tC(t,e){t[Dg.JSACTION]=e}function M1(t){return iC[t]}function N1(t,e){iC[t]=e}var G={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"},R1=[G.MOUSEENTER,G.MOUSELEAVE,"pointerenter","pointerleave"],F6=[G.CLICK,G.DBLCLICK,G.FOCUSIN,G.FOCUSOUT,G.KEYDOWN,G.KEYUP,G.KEYPRESS,G.MOUSEOVER,G.MOUSEOUT,G.SUBMIT,G.TOUCHSTART,G.TOUCHEND,G.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],P1=[G.FOCUS,G.BLUR,G.ERROR,G.LOAD,G.TOGGLE],Tg=t=>P1.indexOf(t)>=0;function x1(t){return t===G.MOUSEENTER?G.MOUSEOVER:t===G.MOUSELEAVE?G.MOUSEOUT:t===G.POINTERENTER?G.POINTEROVER:t===G.POINTERLEAVE?G.POINTEROUT:t}function O1(t,e,n,r){let i=!1;Tg(e)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return t.addEventListener(e,n,o),{eventType:e,handler:n,capture:i,passive:r}}function k1(t,e){if(t.removeEventListener){let n=typeof e.passive=="boolean"?{capture:e.capture}:e.capture;t.removeEventListener(e.eventType,e.handler,n)}else t.detachEvent&&t.detachEvent(`on${e.eventType}`,e.handler)}function F1(t){t.preventDefault?t.preventDefault():t.returnValue=!1}var nC=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function L1(t){return t.which===2||t.which==null&&t.button===4}function V1(t){return nC&&t.metaKey||!nC&&t.ctrlKey||L1(t)||t.shiftKey}function j1(t,e,n){let r=t.relatedTarget;return(t.type===G.MOUSEOVER&&e===G.MOUSEENTER||t.type===G.MOUSEOUT&&e===G.MOUSELEAVE||t.type===G.POINTEROVER&&e===G.POINTERENTER||t.type===G.POINTEROUT&&e===G.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function B1(t,e){let n={};for(let r in t){if(r==="srcElement"||r==="target")continue;let i=r,o=t[i];typeof o!="function"&&(n[i]=o)}return t.type===G.MOUSEOVER?n.type=G.MOUSEENTER:t.type===G.MOUSEOUT?n.type=G.MOUSELEAVE:t.type===G.POINTEROVER?n.type=G.POINTERENTER:n.type=G.POINTERLEAVE,n.target=n.srcElement=e,n.bubbles=!1,n._originalEvent=t,n}var U1=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),Gu=class{element;handlerInfos=[];constructor(e){this.element=e}addEventListener(e,n,r){U1&&(this.element.style.cursor="pointer"),this.handlerInfos.push(O1(this.element,e,n(this.element),r))}cleanUp(){for(let e=0;e<this.handlerInfos.length;e++)k1(this.element,this.handlerInfos[e]);this.handlerInfos=[]}},H1={NAMESPACE_ACTION_SEPARATOR:".",EVENT_ACTION_SEPARATOR:":"};function dr(t){return t.eventType}function Cg(t,e){t.eventType=e}function Hu(t){return t.event}function oC(t,e){t.event=e}function sC(t){return t.targetElement}function aC(t,e){t.targetElement=e}function cC(t){return t.eic}function $1(t,e){t.eic=e}function G1(t){return t.timeStamp}function q1(t,e){t.timeStamp=e}function $u(t){return t.eia}function uC(t,e,n){t.eia=[e,n]}function _g(t){t.eia=void 0}function Uu(t){return t[1]}function z1(t){return t.eirp}function lC(t,e){t.eirp=e}function dC(t){return t.eir}function fC(t,e){t.eir=e}function hC(t){return{eventType:t.eventType,event:t.event,targetElement:t.targetElement,eic:t.eic,eia:t.eia,timeStamp:t.timeStamp,eirp:t.eirp,eiack:t.eiack,eir:t.eir}}function W1(t,e,n,r,i,o,s,c){return{eventType:t,event:e,targetElement:n,eic:r,timeStamp:i,eia:o,eirp:s,eiack:c}}var Eg=class t{eventInfo;constructor(e){this.eventInfo=e}getEventType(){return dr(this.eventInfo)}setEventType(e){Cg(this.eventInfo,e)}getEvent(){return Hu(this.eventInfo)}setEvent(e){oC(this.eventInfo,e)}getTargetElement(){return sC(this.eventInfo)}setTargetElement(e){aC(this.eventInfo,e)}getContainer(){return cC(this.eventInfo)}setContainer(e){$1(this.eventInfo,e)}getTimestamp(){return G1(this.eventInfo)}setTimestamp(e){q1(this.eventInfo,e)}getAction(){let e=$u(this.eventInfo);if(e)return{name:e[0],element:e[1]}}setAction(e){if(!e){_g(this.eventInfo);return}uC(this.eventInfo,e.name,e.element)}getIsReplay(){return z1(this.eventInfo)}setIsReplay(e){lC(this.eventInfo,e)}getResolved(){return dC(this.eventInfo)}setResolved(e){fC(this.eventInfo,e)}clone(){return new t(hC(this.eventInfo))}},K1={},Q1=/\s*;\s*/,Y1=G.CLICK,Ig=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:e=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=e,this.clickModSupport=n}resolveEventType(e){this.clickModSupport&&dr(e)===G.CLICK&&V1(Hu(e))?Cg(e,G.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e)}resolveAction(e){dC(e)||(this.populateAction(e,sC(e)),fC(e,!0))}resolveParentAction(e){let n=$u(e),r=n&&Uu(n);_g(e);let i=r&&this.getParentNode(r);i&&this.populateAction(e,i)}populateAction(e,n){let r=n;for(;r&&r!==cC(e)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,e),!$u(e));)r=this.getParentNode(r);let i=$u(e);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&(dr(e)===G.MOUSEENTER||dr(e)===G.MOUSELEAVE||dr(e)===G.POINTERENTER||dr(e)===G.POINTERLEAVE)))if(j1(Hu(e),dr(e),Uu(i))){let o=B1(Hu(e),Uu(i));oC(e,o),aC(e,Uu(i))}else _g(e)}getParentNode(e){let n=e[Dg.OWNER];if(n)return n;let r=e.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(e,n){let r=this.parseActions(e),i=r[dr(n)];i!==void 0&&uC(n,i,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,n,r)}parseActions(e){let n=A1(e);if(!n){let r=e.getAttribute(Wc.JSACTION);if(!r)n=K1,tC(e,n);else{if(n=M1(r),!n){n={};let i=r.split(Q1);for(let o=0;o<i.length;o++){let s=i[o];if(!s)continue;let c=s.indexOf(H1.EVENT_ACTION_SEPARATOR),u=c!==-1,l=u?s.substr(0,c).trim():Y1,f=u?s.substr(c+1).trim():s;n[l]=f}N1(r,n)}tC(e,n)}}return n}addA11yClickSupport(e,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=e,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},pC=(function(t){return t[t.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",t})(pC||{}),wg=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(e,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=e,this.actionResolver=n,this.eventReplayer=r}dispatch(e){let n=new Eg(e);this.actionResolver?.resolveEventType(e),this.actionResolver?.resolveAction(e);let r=n.getAction();if(r&&J1(r.element,n)&&F1(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(e){this.replayEventInfoWrappers.push(e),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function J1(t,e){return t.tagName==="A"&&(e.getEventType()===G.CLICK||e.getEventType()===G.CLICKMOD)}var gC=Symbol.for("propagationStopped"),bg={REPLAY:101};var Z1="`preventDefault` called during event replay.";var X1="`composedPath` called during event replay.",qu=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(e,n=!0){this.dispatchDelegate=e,this.clickModSupport=n,this.actionResolver=new Ig({clickModSupport:n}),this.dispatcher=new wg(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(e){this.dispatcher.dispatch(e)}dispatchToDelegate(e){for(e.getIsReplay()&&nk(e),ek(e);e.getAction();){if(rk(e),Tg(e.getEventType())&&e.getAction().element!==e.getTargetElement()||(this.dispatchDelegate(e.getEvent(),e.getAction().name),tk(e)))return;this.actionResolver.resolveParentAction(e.eventInfo)}}};function ek(t){let e=t.getEvent(),n=t.getEvent().stopPropagation.bind(e),r=()=>{e[gC]=!0,n()};pi(e,"stopPropagation",r),pi(e,"stopImmediatePropagation",r)}function tk(t){return!!t.getEvent()[gC]}function nk(t){let e=t.getEvent(),n=t.getTargetElement(),r=e.preventDefault.bind(e);pi(e,"target",n),pi(e,"eventPhase",bg.REPLAY),pi(e,"preventDefault",()=>{throw r(),new Error(Z1+"")}),pi(e,"composedPath",()=>{throw new Error(X1+"")})}function rk(t){let e=t.getEvent(),n=t.getAction()?.element;n&&pi(e,"currentTarget",n,{configurable:!0})}function pi(t,e,n,{configurable:r=!1}={}){Object.defineProperty(t,e,{value:n,configurable:r})}function mC(t,e){t.ecrd(n=>{e.dispatch(n)},pC.I_AM_THE_JSACTION_FRAMEWORK)}function ik(t){return t?.q??[]}function ok(t){t&&(rC(t.c,t.et,t.h),rC(t.c,t.etc,t.h,!0))}function rC(t,e,n,r){for(let i=0;i<e.length;i++)t.removeEventListener(e[i],n,r)}var sk=!1,yC=(()=>{class t{static MOUSE_SPECIAL_SUPPORT=sk;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,i){let o=W1(n,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(n){if(!this.dispatcher){lC(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,i){if(n in this.eventHandlers||!this.containerManager||!t.MOUSE_SPECIAL_SUPPORT&&R1.indexOf(n)>=0)return;let o=(c,u,l)=>{this.handleEvent(c,u,l)};this.eventHandlers[n]=o;let s=x1(r||n);if(s!==n){let c=this.browserEventTypeToExtraEventTypes[s]||[];c.push(n),this.browserEventTypeToExtraEventTypes[s]=c}this.containerManager.addEventListener(s,c=>u=>{o(n,u,c)},i)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),ok(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let i=n[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let s=0;s<o.length;s++){let c=hC(i);Cg(c,o[s]),this.handleEventInfo(c)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return t})();function vC(t,e=window){return ik(e._ejsas?.[t])}function Sg(t,e=window){e._ejsas&&(e._ejsas[t]=void 0)}var Ag=new $(""),Vk=new $("");function qs(t){return!t.moduleRef}function jk(t){let e=qs(t)?t.r3Injector:t.moduleRef.injector,n=e.get(st);return n.run(()=>{qs(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(nn),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),qs(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Ag);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Ag);s.add(o),t.moduleRef.onDestroy(()=>{As(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return Uk(r,n,()=>{let o=e.get(ar),s=o.add(),c=e.get(fg);return c.runInitializers(),c.donePromise.then(()=>{let u=e.get(Bu,$s);if(QT(u||$s),!e.get(Vk,!0))return qs(t)?e.get(St):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(qs(t)){let f=e.get(St);return t.rootComponent!==void 0&&f.bootstrap(t.rootComponent),f}else return Bk?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var Bk;function Uk(t,e,n){try{let r=n();return li(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Wu=null;function Hk(t=[],e){return Rt.create({name:e,providers:[{provide:ms,useValue:"platform"},{provide:Ag,useValue:new Set([()=>Wu=null])},...t]})}function $k(t=[]){if(Wu)return Wu;let e=Hk(t);return Wu=e,$T(),Gk(e),e}function Gk(t){let e=t.get(yu,null);vs(t,()=>{e?.forEach(n=>n())})}var Mg=(()=>{class t{static __NG_ELEMENT_ID__=qk}return t})();function qk(t){return zk(Ct(),fe(),(t&16)===16)}function zk(t,e,n){if(wn(t)&&!n){let r=Tt(t.index,e);return new so(r,r)}else if(t.type&175){let r=e[nt];return new so(r,e)}return null}function DC(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;ce(8);try{let o=i?.injector??$k(r),s=[eC(),nw,...n||[]],c=new Ps({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return jk({r3Injector:c.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{ce(9)}}var zu=new WeakSet,_C="",Ku=[];function EC(t){return t.get(Fp,yD)}function TC(){let t=[{provide:Fp,useFactory:()=>{let e=!0;{let n=B(sn);e=!!window._ejsas?.[n]}return e&&jt("NgEventReplay"),e}}];return t.push({provide:En,useValue:()=>{let e=B(St),{injector:n}=e;if(!zu.has(e)){let r=B(Lp);if(EC(n)){CD();let i=n.get(sn),o=DD(i,(s,c,u)=>{s.nodeType===Node.ELEMENT_NODE&&(_D(s,c,u),ED(s,r))});e.onDestroy(o)}}},multi:!0},{provide:fo,useFactory:()=>{let e=B(St),{injector:n}=e;return()=>{if(!EC(n)||zu.has(e))return;zu.add(e);let r=n.get(sn);e.onDestroy(()=>{zu.delete(e),Sg(r)}),e.whenStable().then(()=>{if(e.destroyed)return;let i=n.get(wD);Wk(i,n);let o=n.get(Lp);o.get(_C)?.forEach(ID),o.delete(_C);let s=i.instance;PD(n)?e.onDestroy(()=>s.cleanUp()):s.cleanUp()})}},multi:!0}),t}var Wk=(t,e)=>{let n=e.get(sn),r=window._ejsas[n],i=t.instance=new yC(new Gu(r.c));for(let c of r.et)i.addEvent(c);for(let c of r.etc)i.addEvent(c);let o=vC(n);i.replayEarlyEventInfos(o),Sg(n);let s=new qu(c=>{Kk(e,c,c.currentTarget)});mC(i,s)};function Kk(t,e,n){let r=(n&&n.getAttribute(Vs))??"";/d\d+/.test(r)?Qk(r,t,e,n):e.eventPhase===bg.REPLAY&&Vp(e,n)}function Qk(t,e,n,r){Ku.push({event:n,currentTarget:r}),zT(e,t,Yk)}function Yk(t){let e=[...Ku],n=new Set(t);Ku=[];for(let{event:r,currentTarget:i}of e){let o=i.getAttribute(Vs);n.has(o)?Vp(r,i):Ku.push({event:r,currentTarget:i})}}var IC=!1;function Jk(){IC||(IC=!0,MD(),WT(),JT(),KT(),jT(),OT(),wT(),iT())}function Zk(t){return t.whenStable()}function CC(){let t=[{provide:Ls,useFactory:()=>{let e=!0;return e=!!B(ci,{optional:!0})?.get(jp,null),e&&jt("NgHydration"),e}},{provide:En,useValue:()=>{vT(!1),B(Ls)&&(kD(Fs()),Jk())},multi:!0}];return t.push({provide:kp,useFactory:()=>B(Ls)},{provide:fo,useFactory:()=>{if(B(Ls)){let e=B(St);return()=>{Zk(e).then(()=>{e.destroyed||sg(e)})}}return()=>{}},multi:!0}),tr(t)}var bC=null;function fr(){return bC}function Ng(t){bC??=t}var Ws=class{};function Xk(t,e){return new W(2100,!1)}var Rg=class{createSubscription(e,n,r){return mt(()=>e.subscribe({next:n,error:r}))}dispose(e){mt(()=>e.unsubscribe())}},Pg=class{createSubscription(e,n,r){return e.then(i=>n?.(i),i=>r?.(i)),{unsubscribe:()=>{n=null,r=null}}}dispose(e){e.unsubscribe()}},eF=new Pg,tF=new Rg,xg=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=B(nn);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r),r=>this.applicationErrorHandler(r))}_selectStrategy(n){if(li(n))return eF;if(Vu(n))return tF;throw Xk(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(ge(Mg,16))};static \u0275pipe=ug({name:"async",type:t,pure:!1})}return t})();var hr=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ui({type:t});static \u0275inj=Xn({})}return t})();function Og(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ks=class{};var kg="browser";function Qs(t){return t===kg}var Ys=class{_doc;constructor(e){this._doc=e}manager},Qu=(()=>{class t extends Ys{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(le(Ft))};static \u0275prov=de({token:t,factory:t.\u0275fac})}return t})(),Zu=new $(""),jg=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof Qu));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof Qu);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new W(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(le(Zu),le(st))};static \u0275prov=de({token:t,factory:t.\u0275fac})}return t})(),Fg="ng-app-id";function SC(t){for(let e of t)e.remove()}function AC(t,e){let n=e.createElement("style");return n.textContent=t,n}function iF(t,e,n,r){let i=t.head?.querySelectorAll(`style[${Fg}="${e}"],link[${Fg}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Fg),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Vg(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Bg=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,iF(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,AC);r?.forEach(i=>this.addUsage(i,this.external,Vg))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(SC(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])SC(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,AC(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Vg(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(le(Ft),le(sn),le(vu,8),le(Tn))};static \u0275prov=de({token:t,factory:t.\u0275fac})}return t})(),Lg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ug=/%COMP%/g;var NC="%COMP%",oF=`_nghost-${NC}`,sF=`_ngcontent-${NC}`,aF=!0,cF=new $("",{factory:()=>aF});function uF(t){return sF.replace(Ug,t)}function lF(t){return oF.replace(Ug,t)}function RC(t,e){return e.map(n=>n.replace(Ug,t))}var Hg=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,c,u=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=c,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new Js(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Ju?i.applyToHost(n):i instanceof Zs&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Vt.Emulated:o=new Ju(u,l,r,this.appId,f,s,c,p,m);break;case Vt.ShadowDom:return new Yu(u,n,r,s,c,this.nonce,p,m,l);case Vt.ExperimentalIsolatedShadowDom:return new Yu(u,n,r,s,c,this.nonce,p,m);default:o=new Zs(u,l,r,f,s,c,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(le(jg),le(Bg),le(sn),le(cF),le(Ft),le(st),le(vu),le(cr,8))};static \u0275prov=de({token:t,factory:t.\u0275fac})}return t})(),Js=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Lg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(MC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(MC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new W(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Lg[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Lg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(on.DashCase|on.Important)?e.style.setProperty(n,r,i&on.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&on.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=fr().getGlobalEventTarget(this.doc,e),!e))throw new W(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function MC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Yu=class extends Js{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,r,i,o,s,c,u,l){super(e,i,o,c,u),this.hostEl=n,this.sharedStylesHost=l,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let f=r.styles;f=RC(r.id,f);for(let m of f){let y=document.createElement("style");s&&y.setAttribute("nonce",s),y.textContent=m,this.shadowRoot.appendChild(y)}let p=r.getExternalStyles?.();if(p)for(let m of p){let y=Vg(m,i);s&&y.setAttribute("nonce",s),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Zs=class extends Js{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,c,u,l){super(e,o,s,c,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=l?RC(l,f):f,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&oi.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ju=class extends Zs{contentAttr;hostAttr;constructor(e,n,r,i,o,s,c,u,l){let f=i+"-"+r.id;super(e,n,r,o,s,c,u,l,f),this.contentAttr=uF(f),this.hostAttr=lF(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Xu=class t extends Ws{supportsDOMEvents=!0;static makeCurrent(){Ng(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=dF();return n==null?null:fF(n)}resetBaseElement(){Xs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Og(document.cookie,e)}},Xs=null;function dF(){return Xs=Xs||document.head.querySelector("base"),Xs?Xs.getAttribute("href"):null}function fF(t){return new URL(t,document.baseURI).pathname}var hF=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:t.\u0275fac})}return t})(),PC=["alt","control","meta","shift"],pF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gF={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},xC=(()=>{class t extends Ys{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),c=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>fr().onAndCancel(n,s.domEventName,c,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),PC.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=pF[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),PC.forEach(s=>{if(s!==i){let c=gF[s];c(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(le(Ft))};static \u0275prov=de({token:t,factory:t.\u0275fac})}return t})();function $g(t,e,n){let r=j({rootComponent:t,platformRef:n?.platformRef},mF(e));return DC(r)}function mF(t){return{appProviders:[...IF,...t?.providers??[]],platformProviders:EF}}function yF(){Xu.makeCurrent()}function vF(){return new Zt}function _F(){return Pp(document),document}var EF=[{provide:Tn,useValue:kg},{provide:yu,useValue:yF,multi:!0},{provide:Ft,useFactory:_F}];var IF=[{provide:ms,useValue:"root"},{provide:Zt,useFactory:vF},{provide:Zu,useClass:Qu,multi:!0},{provide:Zu,useClass:xC,multi:!0},Hg,Bg,jg,{provide:si,useExisting:Hg},{provide:Ks,useClass:hF},[]];var ea=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(c=>o.indexOf(c)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var wF="text/plain",DF="application/json",p7=`${DF}, ${wF}, */*`;var qg=(function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t})(qg||{}),Gg=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(e,n=200,r="OK"){this.headers=e.headers||new ea,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.responseType=e.responseType,this.ok=this.status>=200&&this.status<300}};var el=class t extends Gg{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=qg.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected,responseType:e.responseType??this.responseType})}};var OC=new $("");var TF=new $(""),CF="b",bF="h",SF="s",AF="st",MF="u",NF="rt",zg=new $(""),RF=["GET","HEAD"];function PF(t,e){let y=B(zg),{isCacheActive:n}=y,r=as(y,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!RF.includes(o)||!r.includeRequestsWithAuthHeaders&&xF(t)||r.filter?.(t)===!1)return e(t);let s=B(ci);if(B(TF,{optional:!0}))throw new W(2803,!1);let u=t.url,l=OF(t,u),f=s.get(l,null),p=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(p=i.includeHeaders),f){let{[CF]:b,[NF]:M,[bF]:N,[SF]:V,[AF]:Z,[MF]:re}=f,Oe=b;switch(M){case"arraybuffer":Oe=new TextEncoder().encode(b).buffer;break;case"blob":Oe=new Blob([b]);break}let qe=new ea(N);return Lf(new el({body:Oe,headers:qe,status:V,statusText:Z,url:re}))}return e(t)}function xF(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function kC(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function OF(t,e){let{params:n,method:r,responseType:i}=t,o=kC(n),s=t.serializeBody();s instanceof URLSearchParams?s=kC(s):typeof s!="string"&&(s="");let c=[r,i,e,s,o].join("|"),u=kF(c);return u}function kF(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function FC(t){return[{provide:zg,useFactory:()=>(jt("NgHttpTransferCache"),j({isCacheActive:!0},t))},{provide:OC,useValue:PF,multi:!0},{provide:fo,multi:!0,useFactory:()=>{let e=B(St),n=B(zg);return()=>{e.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var tl=(function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t[t.IncrementalHydration=4]="IncrementalHydration",t})(tl||{});function FF(t,e=[],n={}){return{\u0275kind:t,\u0275providers:e}}function LC(){return FF(tl.EventReplay,TC())}function VC(...t){let e=[],n=new Set;for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);let r=n.has(tl.HttpTransferCacheOptions);return tr([[],CC(),n.has(tl.NoHttpTransferCache)||r?[]:FC({}),e])}var jC={providers:[Uh(),VC(LC())]};var KC=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(ge(js),ge(co))};static \u0275dir=bt({type:t})}return t})(),LF=(()=>{class t extends KC{static \u0275fac=(()=>{let n;return function(i){return(n||(n=mu(t)))(i||t)}})();static \u0275dir=bt({type:t,features:[cn]})}return t})(),QC=new $("");var VF={provide:QC,useExisting:Zn(()=>dl),multi:!0};function jF(){let t=fr()?fr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var BF=new $(""),dl=(()=>{class t extends KC{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!jF())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(ge(js),ge(co),ge(BF,8))};static \u0275dir=bt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ur("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Gs([VF]),cn]})}return t})();function Jg(t){return t==null||Zg(t)===0}function Zg(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var YC=new $(""),JC=new $(""),UF=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,bn=class{static min(e){return HF(e)}static max(e){return $F(e)}static required(e){return GF(e)}static requiredTrue(e){return qF(e)}static email(e){return zF(e)}static minLength(e){return WF(e)}static maxLength(e){return KF(e)}static pattern(e){return QF(e)}static nullValidator(e){return ZC()}static compose(e){return ib(e)}static composeAsync(e){return sb(e)}};function HF(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function $F(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function GF(t){return Jg(t.value)?{required:!0}:null}function qF(t){return t.value===!0?null:{required:!0}}function zF(t){return Jg(t.value)||UF.test(t.value)?null:{email:!0}}function WF(t){return e=>{let n=e.value?.length??Zg(e.value);return n===null||n===0?null:n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}function KF(t){return e=>{let n=e.value?.length??Zg(e.value);return n!==null&&n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}function QF(t){if(!t)return ZC;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Jg(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function ZC(t){return null}function XC(t){return t!=null}function eb(t){return li(t)?ls(t):t}function tb(t){let e={};return t.forEach(n=>{e=n!=null?j(j({},e),n):e}),Object.keys(e).length===0?null:e}function nb(t,e){return e.map(n=>n(t))}function YF(t){return!t.validate}function rb(t){return t.map(e=>YF(e)?e:n=>e.validate(n))}function ib(t){if(!t)return null;let e=t.filter(XC);return e.length==0?null:function(n){return tb(nb(n,e))}}function ob(t){return t!=null?ib(rb(t)):null}function sb(t){if(!t)return null;let e=t.filter(XC);return e.length==0?null:function(n){let r=nb(n,e).map(eb);return Vf(r).pipe(Hr(tb))}}function ab(t){return t!=null?sb(rb(t)):null}function BC(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function cb(t){return t._rawValidators}function ub(t){return t._rawAsyncValidators}function Wg(t){return t?Array.isArray(t)?t:[t]:[]}function il(t,e){return Array.isArray(t)?t.includes(e):t===e}function UC(t,e){let n=Wg(e);return Wg(t).forEach(i=>{il(n,i)||n.push(i)}),n}function HC(t,e){return Wg(e).filter(n=>!il(t,n))}var ol=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ob(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ab(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},go=class extends ol{name;get formDirective(){return null}get path(){return null}},oa=class extends ol{_parent=null;name=null;valueAccessor=null},sl=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var lb=(()=>{class t extends sl{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(ge(oa,2))};static \u0275dir=bt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Cn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[cn]})}return t})(),db=(()=>{class t extends sl{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(ge(go,10))};static \u0275dir=bt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Cn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[cn]})}return t})();var ta="VALID",nl="INVALID",ho="PENDING",na="DISABLED",pr=class{},al=class extends pr{value;source;constructor(e,n){super(),this.value=e,this.source=n}},ra=class extends pr{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},ia=class extends pr{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},po=class extends pr{status;source;constructor(e,n){super(),this.status=e,this.source=n}},Kg=class extends pr{source;constructor(e){super(),this.source=e}},sa=class extends pr{source;constructor(e){super(),this.source=e}};function Xg(t){return(fl(t)?t.validators:t)||null}function JF(t){return Array.isArray(t)?ob(t):t||null}function em(t,e){return(fl(e)?e.asyncValidators:t)||null}function ZF(t){return Array.isArray(t)?ab(t):t||null}function fl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function fb(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new W(1e3,"");if(!r[n])throw new W(1001,"")}function hb(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new W(1002,"")})}var mo=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return mt(this.statusReactive)}set status(e){mt(()=>this.statusReactive.set(e))}_status=hi(()=>this.statusReactive());statusReactive=ct(void 0);get valid(){return this.status===ta}get invalid(){return this.status===nl}get pending(){return this.status==ho}get disabled(){return this.status===na}get enabled(){return this.status!==na}errors;get pristine(){return mt(this.pristineReactive)}set pristine(e){mt(()=>this.pristineReactive.set(e))}_pristine=hi(()=>this.pristineReactive());pristineReactive=ct(!0);get dirty(){return!this.pristine}get touched(){return mt(this.touchedReactive)}set touched(e){mt(()=>this.touchedReactive.set(e))}_touched=hi(()=>this.touchedReactive());touchedReactive=ct(!1);get untouched(){return!this.touched}_events=new Qt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(UC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(UC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(HC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(HC(e,this._rawAsyncValidators))}hasValidator(e){return il(this._rawValidators,e)}hasAsyncValidator(e){return il(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(te(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ia(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new ia(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(te(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ra(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new ra(!0,r))}markAsPending(e={}){this.status=ho;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new po(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(te(j({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=na,this.errors=null,this._forEachChild(i=>{i.disable(te(j({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new al(this.value,r)),this._events.next(new po(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(te(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ta,this._forEachChild(r=>{r.enable(te(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(te(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ta||this.status===ho)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new al(this.value,n)),this._events.next(new po(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(te(j({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?na:ta}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ho,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=eb(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new po(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new ot,this.statusChanges=new ot}_calculateStatus(){return this._allControlsDisabled()?na:this.errors?nl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ho)?ho:this._anyControlsHaveStatus(nl)?nl:ta}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new ra(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new ia(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){fl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=JF(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=ZF(this._rawAsyncValidators)}},cl=class extends mo{constructor(e,n,r){super(Xg(n),em(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){hb(this,!0,e),Object.keys(e).forEach(r=>{fb(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,te(j({},n),{onlySelf:!0}))}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new sa(this))}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Qg=class extends cl{};var pb=new $("",{factory:()=>tm}),tm="always";function XF(t,e){return[...e.path,t]}function $C(t,e,n=tm){nm(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),tL(t,e),rL(t,e),nL(t,e),eL(t,e)}function GC(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ll(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function ul(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function eL(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function nm(t,e){let n=cb(t);e.validator!==null?t.setValidators(BC(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=ub(t);e.asyncValidator!==null?t.setAsyncValidators(BC(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();ul(e._rawValidators,i),ul(e._rawAsyncValidators,i)}function ll(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=cb(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=ub(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return ul(e._rawValidators,r),ul(e._rawAsyncValidators,r),n}function tL(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&gb(t,e)})}function nL(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&gb(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function gb(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function rL(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function iL(t,e){t==null,nm(t,e)}function oL(t,e){return ll(t,e)}function sL(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function aL(t){return Object.getPrototypeOf(t.constructor)===LF}function cL(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function uL(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===dl?n=o:aL(o)?r=o:i=o}),i||r||n||null}function lL(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function qC(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function zC(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var rl=class extends mo{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(Xg(n),em(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(zC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),n.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new sa(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){qC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){qC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){zC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var dL=t=>t instanceof rl;var mb=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=bt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var Yg=class extends mo{constructor(e,n,r){super(Xg(n),em(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){Array.isArray(e)?e.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){hb(this,!1,e),e.forEach((r,i)=>{fb(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],te(j({},n),{onlySelf:!0}))}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new sa(this))}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};var fL=(()=>{class t extends go{callSetDisabledState;get submitted(){return mt(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=hi(()=>this._submittedReactive());_submittedReactive=ct(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(n,r,i){super(),this.callSetDisabledState=i,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this.onChanges(n)}ngOnDestroy(){this.onDestroy()}onChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(ll(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(n){let r=this.form.get(n.path);return $C(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){GC(n.control||null,n,!1),lL(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}getFormArray(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}updateModel(n,r){this.form.get(n.path).setValue(r)}onReset(){this.resetForm()}resetForm(n=void 0,r={}){this.form.reset(n,r),this._submittedReactive.set(!1)}onSubmit(n){return this.submitted=!0,cL(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new Kg(this.control)),n?.target?.method==="dialog"}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(GC(r||null,n),dL(i)&&($C(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);iL(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&oL(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){nm(this.form,this),this._oldForm&&ll(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(r){return new(r||t)(ge(YC,10),ge(JC,10),ge(pb,8))};static \u0275dir=bt({type:t,features:[cn,ks]})}return t})();var yb=new $("");var hL={provide:oa,useExisting:Zn(()=>rm)},rm=(()=>{class t extends oa{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new ot;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=uL(this,o)}ngOnChanges(n){this._added||this._setUpControl(),sL(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return XF(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||t)(ge(go,13),ge(YC,10),ge(JC,10),ge(QC,10),ge(yb,8))};static \u0275dir=bt({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Gs([hL]),cn,ks]})}return t})();var pL={provide:go,useExisting:Zn(()=>im)},im=(()=>{class t extends fL{form=null;ngSubmit=new ot;get control(){return this.form}static \u0275fac=(()=>{let n;return function(i){return(n||(n=mu(t)))(i||t)}})();static \u0275dir=bt({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&ur("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Gs([pL]),cn]})}return t})();var gL=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ui({type:t});static \u0275inj=Xn({})}return t})();function WC(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var vb=(()=>{class t{useNonNullable=!1;get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return WC(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new cl(i,o)}record(n,r=null){let i=this._reduceControls(n);return new Qg(i,r)}control(n,r,i){let o={};return this.useNonNullable?(WC(r)?o=r:(o.validators=r,o.asyncValidators=i),new rl(n,te(j({},o),{nonNullable:!0}))):new rl(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new Yg(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof rl)return n;if(n instanceof mo)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var _b=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:yb,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:pb,useValue:n.callSetDisabledState??tm}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ui({type:t});static \u0275inj=Xn({imports:[gL]})}return t})();var Eb={production:!1,firebaseConfig:{apiKey:"AIzaSyBmXD8uON5R5S4-Vxhq1aAQdJnZxYPgF5o",authDomain:"tapajos-kite-vibes.firebaseapp.com",projectId:"tapajos-kite-vibes",storageBucket:"tapajos-kite-vibes.firebasestorage.app",messagingSenderId:"1103490357",appId:"1:1103490357:web:6fd81c08bb2a7b3e8f95be"}};var Ib=()=>{};var Tb=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},yL=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Cb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=o>>2,p=(o&3)<<4|c>>4,m=(c&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[f],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Tb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new sm;let m=o<<2|c>>4;if(r.push(m),l!==64){let y=c<<4&240|l>>2;if(r.push(y),p!==64){let b=l<<6&192|p;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},sm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},vL=function(t){let e=Tb(t);return Cb.encodeByteArray(e,!0)},ca=function(t){return vL(t).replace(/\./g,"")},pl=function(t){try{return Cb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function bb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var _L=()=>bb().__FIREBASE_DEFAULTS__,EL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},IL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&pl(t[1]);return e&&JSON.parse(e)},gl=()=>{try{return Ib()||_L()||EL()||IL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cm=t=>gl()?.emulatorHosts?.[t],Sb=t=>{let e=cm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},um=()=>gl()?.config,lm=t=>gl()?.[`_${t}`];var hl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function gr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ml(t){return(await fetch(t,{credentials:"include"})).ok}function Ab(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=j({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ca(JSON.stringify(n)),ca(JSON.stringify(s)),""].join(".")}var aa={};function wL(){let t={prod:[],emulator:[]};for(let e of Object.keys(aa))aa[e]?t.emulator.push(e):t.prod.push(e);return t}function DL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var wb=!1;function yl(t,e){if(typeof window>"u"||typeof document>"u"||!gr(window.location.host)||aa[t]===e||aa[t]||wb)return;aa[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=wL().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{wb=!0,s()},m}function f(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=DL(r),y=n("text"),b=document.getElementById(y)||document.createElement("span"),M=n("learnmore"),N=document.getElementById(M)||document.createElement("a"),V=n("preprendIcon"),Z=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let re=m.element;c(re),f(N,M);let Oe=l();u(Z,V),re.append(Z,b,N,Oe),document.body.appendChild(re)}o?(b.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Be(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Mb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function TL(){let t=gl()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Nb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Rb(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Pb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xb(){let t=Be();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ob(){return!TL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dm(){try{return typeof indexedDB=="object"}catch{return!1}}function kb(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}var CL="FirebaseError",vt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=CL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sn.prototype.create)}},Sn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?bL(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new vt(i,c,r)}};function bL(t,e){return t.replace(SL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var SL=/\{\$([^}]+)}/g;function Fb(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function dn(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(Db(o)&&Db(s)){if(!dn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Db(t){return t!==null&&typeof t=="object"}function ua(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Lb(t,e){let n=new am(t,e);return n.subscribe.bind(n)}var am=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");AL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=om),i.error===void 0&&(i.error=om),i.complete===void 0&&(i.complete=om);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function AL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function om(){}var pK=14400*1e3;function rt(t){return t&&t._delegate?t._delegate:t}var At=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var gi="[DEFAULT]";var fm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new hl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){let n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NL(e))try{this.getOrInitializeService({instanceIdentifier:gi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=gi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gi){return this.instances.has(e)}getOptions(e=gi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){let r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ML(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=gi){return this.component?this.component.multipleInstances?e:gi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function ML(t){return t===gi?void 0:t}function NL(t){return t.instantiationMode==="EAGER"}var vl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new fm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var RL=[],ne=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(ne||{}),PL={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},xL=ne.INFO,OL={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},kL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=OL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},mr=class{constructor(e){this.name=e,this._logLevel=xL,this._logHandler=kL,this._userLogHandler=null,RL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}};var FL=(t,e)=>e.some(n=>t instanceof n),Vb,jb;function LL(){return Vb||(Vb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VL(){return jb||(jb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Bb=new WeakMap,pm=new WeakMap,Ub=new WeakMap,hm=new WeakMap,mm=new WeakMap;function jL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(fn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Bb.set(n,t)}).catch(()=>{}),mm.set(e,t),e}function BL(t){if(pm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});pm.set(t,e)}var gm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ub.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Hb(t){gm=t(gm)}function UL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(_l(this),e,...n);return Ub.set(r,e.sort?e.sort():[e]),fn(r)}:VL().includes(t)?function(...e){return t.apply(_l(this),e),fn(Bb.get(this))}:function(...e){return fn(t.apply(_l(this),e))}}function HL(t){return typeof t=="function"?UL(t):(t instanceof IDBTransaction&&BL(t),FL(t,LL())?new Proxy(t,gm):t)}function fn(t){if(t instanceof IDBRequest)return jL(t);if(hm.has(t))return hm.get(t);let e=HL(t);return e!==t&&(hm.set(t,e),mm.set(e,t)),e}var _l=t=>mm.get(t);function Gb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),c=fn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(fn(s.result),u.oldVersion,u.newVersion,fn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var $L=["get","getKey","getAll","getAllKeys","count"],GL=["put","add","delete","clear"],ym=new Map;function $b(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ym.get(e))return ym.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=GL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$L.includes(n)))return;let o=async function(s,...c){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(await Promise.all([l[n](...c),i&&u.done]))[0]};return ym.set(e,o),o}Hb(t=>te(j({},t),{get:(e,n,r)=>$b(e,n)||t.get(e,n,r),has:(e,n)=>!!$b(e,n)||t.has(e,n)}));var _m=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function qL(t){return t.getComponent()?.type==="VERSION"}var Em="@firebase/app",qb="0.14.6";var An=new mr("@firebase/app"),zL="@firebase/app-compat",WL="@firebase/analytics-compat",KL="@firebase/analytics",QL="@firebase/app-check-compat",YL="@firebase/app-check",JL="@firebase/auth",ZL="@firebase/auth-compat",XL="@firebase/database",eV="@firebase/data-connect",tV="@firebase/database-compat",nV="@firebase/functions",rV="@firebase/functions-compat",iV="@firebase/installations",oV="@firebase/installations-compat",sV="@firebase/messaging",aV="@firebase/messaging-compat",cV="@firebase/performance",uV="@firebase/performance-compat",lV="@firebase/remote-config",dV="@firebase/remote-config-compat",fV="@firebase/storage",hV="@firebase/storage-compat",pV="@firebase/firestore",gV="@firebase/ai",mV="@firebase/firestore-compat",yV="firebase",vV="12.6.0";var Im="[DEFAULT]",_V={[Em]:"fire-core",[zL]:"fire-core-compat",[KL]:"fire-analytics",[WL]:"fire-analytics-compat",[YL]:"fire-app-check",[QL]:"fire-app-check-compat",[JL]:"fire-auth",[ZL]:"fire-auth-compat",[XL]:"fire-rtdb",[eV]:"fire-data-connect",[tV]:"fire-rtdb-compat",[nV]:"fire-fn",[rV]:"fire-fn-compat",[iV]:"fire-iid",[oV]:"fire-iid-compat",[sV]:"fire-fcm",[aV]:"fire-fcm-compat",[cV]:"fire-perf",[uV]:"fire-perf-compat",[lV]:"fire-rc",[dV]:"fire-rc-compat",[fV]:"fire-gcs",[hV]:"fire-gcs-compat",[pV]:"fire-fst",[mV]:"fire-fst-compat",[gV]:"fire-vertex","fire-js":"fire-js",[yV]:"fire-js-all"};var El=new Map,EV=new Map,wm=new Map;function zb(t,e){try{t.container.addComponent(e)}catch(n){An.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vr(t){let e=t.name;if(wm.has(e))return An.debug(`There were multiple attempts to register component ${e}.`),!1;wm.set(e,t);for(let n of El.values())zb(n,t);for(let n of EV.values())zb(n,t);return!0}function da(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _t(t){return t==null?!1:t.settings!==void 0}var IV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yr=new Sn("app","Firebase",IV);var Dm=class{constructor(e,n,r){this._isDeleted=!1,this._options=j({},e),this._config=j({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new At("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}};var _r=vV;function bm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=j({name:Im,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw yr.create("bad-app-name",{appName:String(i)});if(n||(n=um()),!n)throw yr.create("no-options");let o=El.get(i);if(o){if(dn(n,o.options)&&dn(r,o.config))return o;throw yr.create("duplicate-app",{appName:i})}let s=new vl(i);for(let u of wm.values())s.addComponent(u);let c=new Dm(n,r,s);return El.set(i,c),c}function Il(t=Im){let e=El.get(t);if(!e&&t===Im&&um())return bm();if(!e)throw yr.create("no-app",{appName:t});return e}function $t(t,e,n){let r=_V[t]??t;n&&(r+=`-${n}`);let i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),An.warn(s.join(" "));return}vr(new At(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var wV="firebase-heartbeat-database",DV=1,la="firebase-heartbeat-store",vm=null;function Yb(){return vm||(vm=Gb(wV,DV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(la)}catch(n){console.warn(n)}}}}).catch(t=>{throw yr.create("idb-open",{originalErrorMessage:t.message})})),vm}async function TV(t){try{let n=(await Yb()).transaction(la),r=await n.objectStore(la).get(Jb(t));return await n.done,r}catch(e){if(e instanceof vt)An.warn(e.message);else{let n=yr.create("idb-get",{originalErrorMessage:e?.message});An.warn(n.message)}}}async function Wb(t,e){try{let r=(await Yb()).transaction(la,"readwrite");await r.objectStore(la).put(e,Jb(t)),await r.done}catch(n){if(n instanceof vt)An.warn(n.message);else{let r=yr.create("idb-set",{originalErrorMessage:n?.message});An.warn(r.message)}}}function Jb(t){return`${t.name}!${t.options.appId}`}var CV=1024,bV=30,Tm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Cm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Kb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>bV){let i=AV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){An.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=Kb(),{heartbeatsToSend:n,unsentEntries:r}=SV(this._heartbeatsCache.heartbeats),i=ca(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return An.warn(e),""}}};function Kb(){return new Date().toISOString().substring(0,10)}function SV(t,e=CV){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Qb(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Qb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Cm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dm()?kb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await TV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return Wb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return Wb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};function Qb(t){return ca(JSON.stringify({version:2,heartbeats:t})).length}function AV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function MV(t){vr(new At("platform-logger",e=>new _m(e),"PRIVATE")),vr(new At("heartbeat",e=>new Tm(e),"PRIVATE")),$t(Em,qb,t),$t(Em,qb,"esm2020"),$t("fire-js","")}MV("");var NV="firebase",RV="12.6.0";$t(NV,RV,"app");var Zb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xb={};var Mn,Sm;(function(){var t;function e(w,v){function E(){}E.prototype=v.prototype,w.F=v.prototype,w.prototype=new E,w.prototype.constructor=w,w.D=function(D,I,C){for(var _=Array(arguments.length-2),it=2;it<arguments.length;it++)_[it-2]=arguments[it];return v.prototype[I].apply(D,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,E){E||(E=0);let D=Array(16);if(typeof v=="string")for(var I=0;I<16;++I)D[I]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(I=0;I<16;++I)D[I]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=w.g[0],E=w.g[1],I=w.g[2];let C=w.g[3],_;_=v+(C^E&(I^C))+D[0]+3614090360&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(I^v&(E^I))+D[1]+3905402710&4294967295,C=v+(_<<12&4294967295|_>>>20),_=I+(E^C&(v^E))+D[2]+606105819&4294967295,I=C+(_<<17&4294967295|_>>>15),_=E+(v^I&(C^v))+D[3]+3250441966&4294967295,E=I+(_<<22&4294967295|_>>>10),_=v+(C^E&(I^C))+D[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(I^v&(E^I))+D[5]+1200080426&4294967295,C=v+(_<<12&4294967295|_>>>20),_=I+(E^C&(v^E))+D[6]+2821735955&4294967295,I=C+(_<<17&4294967295|_>>>15),_=E+(v^I&(C^v))+D[7]+4249261313&4294967295,E=I+(_<<22&4294967295|_>>>10),_=v+(C^E&(I^C))+D[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(I^v&(E^I))+D[9]+2336552879&4294967295,C=v+(_<<12&4294967295|_>>>20),_=I+(E^C&(v^E))+D[10]+4294925233&4294967295,I=C+(_<<17&4294967295|_>>>15),_=E+(v^I&(C^v))+D[11]+2304563134&4294967295,E=I+(_<<22&4294967295|_>>>10),_=v+(C^E&(I^C))+D[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(I^v&(E^I))+D[13]+4254626195&4294967295,C=v+(_<<12&4294967295|_>>>20),_=I+(E^C&(v^E))+D[14]+2792965006&4294967295,I=C+(_<<17&4294967295|_>>>15),_=E+(v^I&(C^v))+D[15]+1236535329&4294967295,E=I+(_<<22&4294967295|_>>>10),_=v+(I^C&(E^I))+D[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^I&(v^E))+D[6]+3225465664&4294967295,C=v+(_<<9&4294967295|_>>>23),_=I+(v^E&(C^v))+D[11]+643717713&4294967295,I=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(I^C))+D[0]+3921069994&4294967295,E=I+(_<<20&4294967295|_>>>12),_=v+(I^C&(E^I))+D[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^I&(v^E))+D[10]+38016083&4294967295,C=v+(_<<9&4294967295|_>>>23),_=I+(v^E&(C^v))+D[15]+3634488961&4294967295,I=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(I^C))+D[4]+3889429448&4294967295,E=I+(_<<20&4294967295|_>>>12),_=v+(I^C&(E^I))+D[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^I&(v^E))+D[14]+3275163606&4294967295,C=v+(_<<9&4294967295|_>>>23),_=I+(v^E&(C^v))+D[3]+4107603335&4294967295,I=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(I^C))+D[8]+1163531501&4294967295,E=I+(_<<20&4294967295|_>>>12),_=v+(I^C&(E^I))+D[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^I&(v^E))+D[2]+4243563512&4294967295,C=v+(_<<9&4294967295|_>>>23),_=I+(v^E&(C^v))+D[7]+1735328473&4294967295,I=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(I^C))+D[12]+2368359562&4294967295,E=I+(_<<20&4294967295|_>>>12),_=v+(E^I^C)+D[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^I)+D[8]+2272392833&4294967295,C=v+(_<<11&4294967295|_>>>21),_=I+(C^v^E)+D[11]+1839030562&4294967295,I=C+(_<<16&4294967295|_>>>16),_=E+(I^C^v)+D[14]+4259657740&4294967295,E=I+(_<<23&4294967295|_>>>9),_=v+(E^I^C)+D[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^I)+D[4]+1272893353&4294967295,C=v+(_<<11&4294967295|_>>>21),_=I+(C^v^E)+D[7]+4139469664&4294967295,I=C+(_<<16&4294967295|_>>>16),_=E+(I^C^v)+D[10]+3200236656&4294967295,E=I+(_<<23&4294967295|_>>>9),_=v+(E^I^C)+D[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^I)+D[0]+3936430074&4294967295,C=v+(_<<11&4294967295|_>>>21),_=I+(C^v^E)+D[3]+3572445317&4294967295,I=C+(_<<16&4294967295|_>>>16),_=E+(I^C^v)+D[6]+76029189&4294967295,E=I+(_<<23&4294967295|_>>>9),_=v+(E^I^C)+D[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^I)+D[12]+3873151461&4294967295,C=v+(_<<11&4294967295|_>>>21),_=I+(C^v^E)+D[15]+530742520&4294967295,I=C+(_<<16&4294967295|_>>>16),_=E+(I^C^v)+D[2]+3299628645&4294967295,E=I+(_<<23&4294967295|_>>>9),_=v+(I^(E|~C))+D[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~I))+D[7]+1126891415&4294967295,C=v+(_<<10&4294967295|_>>>22),_=I+(v^(C|~E))+D[14]+2878612391&4294967295,I=C+(_<<15&4294967295|_>>>17),_=E+(C^(I|~v))+D[5]+4237533241&4294967295,E=I+(_<<21&4294967295|_>>>11),_=v+(I^(E|~C))+D[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~I))+D[3]+2399980690&4294967295,C=v+(_<<10&4294967295|_>>>22),_=I+(v^(C|~E))+D[10]+4293915773&4294967295,I=C+(_<<15&4294967295|_>>>17),_=E+(C^(I|~v))+D[1]+2240044497&4294967295,E=I+(_<<21&4294967295|_>>>11),_=v+(I^(E|~C))+D[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~I))+D[15]+4264355552&4294967295,C=v+(_<<10&4294967295|_>>>22),_=I+(v^(C|~E))+D[6]+2734768916&4294967295,I=C+(_<<15&4294967295|_>>>17),_=E+(C^(I|~v))+D[13]+1309151649&4294967295,E=I+(_<<21&4294967295|_>>>11),_=v+(I^(E|~C))+D[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~I))+D[11]+3174756917&4294967295,C=v+(_<<10&4294967295|_>>>22),_=I+(v^(C|~E))+D[2]+718787259&4294967295,I=C+(_<<15&4294967295|_>>>17),_=E+(C^(I|~v))+D[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(I+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+I&4294967295,w.g[3]=w.g[3]+C&4294967295}r.prototype.v=function(w,v){v===void 0&&(v=w.length);let E=v-this.blockSize,D=this.C,I=this.h,C=0;for(;C<v;){if(I==0)for(;C<=E;)i(this,w,C),C+=this.blockSize;if(typeof w=="string"){for(;C<v;)if(D[I++]=w.charCodeAt(C++),I==this.blockSize){i(this,D),I=0;break}}else for(;C<v;)if(D[I++]=w[C++],I==this.blockSize){i(this,D),I=0;break}}this.h=I,this.o+=v},r.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;v=this.o*8;for(var E=w.length-8;E<w.length;++E)w[E]=v&255,v/=256;for(this.v(w),w=Array(16),v=0,E=0;E<4;++E)for(let D=0;D<32;D+=8)w[v++]=this.g[E]>>>D&255;return w};function o(w,v){var E=c;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=v(w)}function s(w,v){this.h=v;let E=[],D=!0;for(let I=w.length-1;I>=0;I--){let C=w[I]|0;D&&C==v||(E[I]=C,D=!1)}this.g=E}var c={};function u(w){return-128<=w&&w<128?o(w,function(v){return new s([v|0],v<0?-1:0)}):new s([w|0],w<0?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(w<0)return N(l(-w));let v=[],E=1;for(let D=0;w>=E;D++)v[D]=w/E|0,E*=4294967296;return new s(v,0)}function f(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return N(f(w.substring(1),v));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');let E=l(Math.pow(v,8)),D=p;for(let C=0;C<w.length;C+=8){var I=Math.min(8,w.length-C);let _=parseInt(w.substring(C,C+I),v);I<8?(I=l(Math.pow(v,I)),D=D.j(I).add(l(_))):(D=D.j(E),D=D.add(l(_)))}return D}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(M(this))return-N(this).m();let w=0,v=1;for(let E=0;E<this.g.length;E++){let D=this.i(E);w+=(D>=0?D:4294967296+D)*v,v*=4294967296}return w},t.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(b(this))return"0";if(M(this))return"-"+N(this).toString(w);let v=l(Math.pow(w,6));var E=this;let D="";for(;;){let I=Oe(E,v).g;E=V(E,I.j(v));let C=((E.g.length>0?E.g[0]:E.h)>>>0).toString(w);if(E=I,b(E))return C+D;for(;C.length<6;)C="0"+C;D=C+D}},t.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function b(w){if(w.h!=0)return!1;for(let v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function M(w){return w.h==-1}t.l=function(w){return w=V(this,w),M(w)?-1:b(w)?0:1};function N(w){let v=w.g.length,E=[];for(let D=0;D<v;D++)E[D]=~w.g[D];return new s(E,~w.h).add(m)}t.abs=function(){return M(this)?N(this):this},t.add=function(w){let v=Math.max(this.g.length,w.g.length),E=[],D=0;for(let I=0;I<=v;I++){let C=D+(this.i(I)&65535)+(w.i(I)&65535),_=(C>>>16)+(this.i(I)>>>16)+(w.i(I)>>>16);D=_>>>16,C&=65535,_&=65535,E[I]=_<<16|C}return new s(E,E[E.length-1]&-2147483648?-1:0)};function V(w,v){return w.add(N(v))}t.j=function(w){if(b(this)||b(w))return p;if(M(this))return M(w)?N(this).j(N(w)):N(N(this).j(w));if(M(w))return N(this.j(N(w)));if(this.l(y)<0&&w.l(y)<0)return l(this.m()*w.m());let v=this.g.length+w.g.length,E=[];for(var D=0;D<2*v;D++)E[D]=0;for(D=0;D<this.g.length;D++)for(let I=0;I<w.g.length;I++){let C=this.i(D)>>>16,_=this.i(D)&65535,it=w.i(I)>>>16,Bn=w.i(I)&65535;E[2*D+2*I]+=_*Bn,Z(E,2*D+2*I),E[2*D+2*I+1]+=C*Bn,Z(E,2*D+2*I+1),E[2*D+2*I+1]+=_*it,Z(E,2*D+2*I+1),E[2*D+2*I+2]+=C*it,Z(E,2*D+2*I+2)}for(w=0;w<v;w++)E[w]=E[2*w+1]<<16|E[2*w];for(w=v;w<2*v;w++)E[w]=0;return new s(E,0)};function Z(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function re(w,v){this.g=w,this.h=v}function Oe(w,v){if(b(v))throw Error("division by zero");if(b(w))return new re(p,p);if(M(w))return v=Oe(N(w),v),new re(N(v.g),N(v.h));if(M(v))return v=Oe(w,N(v)),new re(N(v.g),v.h);if(w.g.length>30){if(M(w)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,D=v;D.l(w)<=0;)E=qe(E),D=qe(D);var I=Ve(E,1),C=Ve(D,1);for(D=Ve(D,2),E=Ve(E,2);!b(D);){var _=C.add(D);_.l(w)<=0&&(I=I.add(E),C=_),D=Ve(D,1),E=Ve(E,1)}return v=V(w,I.j(v)),new re(I,v)}for(I=p;w.l(v)>=0;){for(E=Math.max(1,Math.floor(w.m()/v.m())),D=Math.ceil(Math.log(E)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),C=l(E),_=C.j(v);M(_)||_.l(w)>0;)E-=D,C=l(E),_=C.j(v);b(C)&&(C=m),I=I.add(C),w=V(w,_)}return new re(I,w)}t.B=function(w){return Oe(this,w).h},t.and=function(w){let v=Math.max(this.g.length,w.g.length),E=[];for(let D=0;D<v;D++)E[D]=this.i(D)&w.i(D);return new s(E,this.h&w.h)},t.or=function(w){let v=Math.max(this.g.length,w.g.length),E=[];for(let D=0;D<v;D++)E[D]=this.i(D)|w.i(D);return new s(E,this.h|w.h)},t.xor=function(w){let v=Math.max(this.g.length,w.g.length),E=[];for(let D=0;D<v;D++)E[D]=this.i(D)^w.i(D);return new s(E,this.h^w.h)};function qe(w){let v=w.g.length+1,E=[];for(let D=0;D<v;D++)E[D]=w.i(D)<<1|w.i(D-1)>>>31;return new s(E,w.h)}function Ve(w,v){let E=v>>5;v%=32;let D=w.g.length-E,I=[];for(let C=0;C<D;C++)I[C]=v>0?w.i(C+E)>>>v|w.i(C+E+1)<<32-v:w.i(C+E);return new s(I,w.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Sm=Xb.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,Mn=Xb.Integer=s}).apply(typeof Zb<"u"?Zb:typeof self<"u"?self:typeof window<"u"?window:{});var wl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Nn={};var Am,PV,yo,Mm,fa,Dl,Nm,Rm,Pm;(function(){var t,e=Object.defineProperty;function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof wl=="object"&&wl];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var T=a[g];if(!(T in h))break e;h=h[T]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}i("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(a){return a||function(d){var h=[],g;for(g in d)Object.prototype.hasOwnProperty.call(d,g)&&h.push([g,d[g]]);return h}});var o=o||{},s=this||self;function c(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function u(a,d,h){return a.call.apply(a.bind,arguments)}function l(a,d,h){return l=u,l.apply(null,arguments)}function f(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function p(a,d){function h(){}h.prototype=d.prototype,a.Z=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Ob=function(g,T,S){for(var P=Array(arguments.length-2),X=2;X<arguments.length;X++)P[X-2]=arguments[X];return d.prototype[T].apply(g,P)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function y(a){let d=a.length;if(d>0){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function b(a,d){for(let g=1;g<arguments.length;g++){let T=arguments[g];var h=typeof T;if(h=h!="object"?h:T?Array.isArray(T)?"array":h:"null",h=="array"||h=="object"&&typeof T.length=="number"){h=a.length||0;let S=T.length||0;a.length=h+S;for(let P=0;P<S;P++)a[h+P]=T[P]}else a.push(T)}}class M{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function N(a){s.setTimeout(()=>{throw a},0)}function V(){var a=w;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Z{constructor(){this.h=this.g=null}add(d,h){let g=re.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var re=new M(()=>new Oe,a=>a.reset());class Oe{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let qe,Ve=!1,w=new Z,v=()=>{let a=Promise.resolve(void 0);qe=()=>{a.then(E)}};function E(){for(var a;a=V();){try{a.h.call(a.g)}catch(h){N(h)}var d=re;d.j(a),d.h<100&&(d.h++,a.next=d.g,d.g=a)}Ve=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var C=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};s.addEventListener("test",h,d),s.removeEventListener("test",h,d)}catch{}return a})();function _(a){return/^[\s\xa0]*$/.test(a)}function it(a,d){I.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,d)}p(it,I),it.prototype.init=function(a,d){let h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget,d||(h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement)),this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&it.Z.h.call(this)},it.prototype.h=function(){it.Z.h.call(this);let a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Bn="closure_listenable_"+(Math.random()*1e6|0),yM=0;function vM(a,d,h,g,T){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=T,this.key=++yM,this.da=this.fa=!1}function Va(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ja(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function _M(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function E_(a){let d={};for(let h in a)d[h]=a[h];return d}let I_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w_(a,d){let h,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(h in g)a[h]=g[h];for(let S=0;S<I_.length;S++)h=I_[S],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function Ba(a){this.src=a,this.g={},this.h=0}Ba.prototype.add=function(a,d,h,g,T){let S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);let P=$d(a,d,g,T);return P>-1?(d=a[P],h||(d.fa=!1)):(d=new vM(d,this.src,S,!!g,T),d.fa=h,a.push(d)),d};function Hd(a,d){let h=d.type;if(h in a.g){var g=a.g[h],T=Array.prototype.indexOf.call(g,d,void 0),S;(S=T>=0)&&Array.prototype.splice.call(g,T,1),S&&(Va(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function $d(a,d,h,g){for(let T=0;T<a.length;++T){let S=a[T];if(!S.da&&S.listener==d&&S.capture==!!h&&S.ha==g)return T}return-1}var Gd="closure_lm_"+(Math.random()*1e6|0),qd={};function D_(a,d,h,g,T){if(g&&g.once)return C_(a,d,h,g,T);if(Array.isArray(d)){for(let S=0;S<d.length;S++)D_(a,d[S],h,g,T);return null}return h=Qd(h),a&&a[Bn]?a.J(d,h,c(g)?!!g.capture:!!g,T):T_(a,d,h,!1,g,T)}function T_(a,d,h,g,T,S){if(!d)throw Error("Invalid event type");let P=c(T)?!!T.capture:!!T,X=Wd(a);if(X||(a[Gd]=X=new Ba(a)),h=X.add(d,h,g,P,S),h.proxy)return h;if(g=EM(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)C||(T=P),T===void 0&&(T=!1),a.addEventListener(d.toString(),g,T);else if(a.attachEvent)a.attachEvent(S_(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function EM(){function a(h){return d.call(a.src,a.listener,h)}let d=IM;return a}function C_(a,d,h,g,T){if(Array.isArray(d)){for(let S=0;S<d.length;S++)C_(a,d[S],h,g,T);return null}return h=Qd(h),a&&a[Bn]?a.K(d,h,c(g)?!!g.capture:!!g,T):T_(a,d,h,!0,g,T)}function b_(a,d,h,g,T){if(Array.isArray(d))for(var S=0;S<d.length;S++)b_(a,d[S],h,g,T);else g=c(g)?!!g.capture:!!g,h=Qd(h),a&&a[Bn]?(a=a.i,S=String(d).toString(),S in a.g&&(d=a.g[S],h=$d(d,h,g,T),h>-1&&(Va(d[h]),Array.prototype.splice.call(d,h,1),d.length==0&&(delete a.g[S],a.h--)))):a&&(a=Wd(a))&&(d=a.g[d.toString()],a=-1,d&&(a=$d(d,h,g,T)),(h=a>-1?d[a]:null)&&zd(h))}function zd(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Bn])Hd(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(S_(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=Wd(d))?(Hd(h,a),h.h==0&&(h.src=null,d[Gd]=null)):Va(a)}}}function S_(a){return a in qd?qd[a]:qd[a]="on"+a}function IM(a,d){if(a.da)a=!0;else{d=new it(d,this);let h=a.listener,g=a.ha||a.src;a.fa&&zd(a),a=h.call(g,d)}return a}function Wd(a){return a=a[Gd],a instanceof Ba?a:null}var Kd="__closure_events_fn_"+(Math.random()*1e9>>>0);function Qd(a){return typeof a=="function"?a:(a[Kd]||(a[Kd]=function(d){return a.handleEvent(d)}),a[Kd])}function ze(){D.call(this),this.i=new Ba(this),this.M=this,this.G=null}p(ze,D),ze.prototype[Bn]=!0,ze.prototype.removeEventListener=function(a,d,h,g){b_(this,a,d,h,g)};function Je(a,d){var h,g=a.G;if(g)for(h=[];g;g=g.G)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new I(d,a);else if(d instanceof I)d.target=d.target||a;else{var T=d;d=new I(g,a),w_(d,T)}T=!0;let S,P;if(h)for(P=h.length-1;P>=0;P--)S=d.g=h[P],T=Ua(S,g,!0,d)&&T;if(S=d.g=a,T=Ua(S,g,!0,d)&&T,T=Ua(S,g,!1,d)&&T,h)for(P=0;P<h.length;P++)S=d.g=h[P],T=Ua(S,g,!1,d)&&T}ze.prototype.N=function(){if(ze.Z.N.call(this),this.i){var a=this.i;for(let d in a.g){let h=a.g[d];for(let g=0;g<h.length;g++)Va(h[g]);delete a.g[d],a.h--}}this.G=null},ze.prototype.J=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},ze.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function Ua(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();let T=!0;for(let S=0;S<d.length;++S){let P=d[S];if(P&&!P.da&&P.capture==h){let X=P.listener,ke=P.ha||P.src;P.fa&&Hd(a.i,P),T=X.call(ke,g)!==!1&&T}}return T&&!g.defaultPrevented}function wM(a,d){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=l(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:s.setTimeout(a,d||0)}function A_(a){a.g=wM(()=>{a.g=null,a.i&&(a.i=!1,A_(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class DM extends D{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:A_(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qo(a){D.call(this),this.h=a,this.g={}}p(qo,D);var M_=[];function N_(a){ja(a.g,function(d,h){this.g.hasOwnProperty(h)&&zd(d)},a),a.g={}}qo.prototype.N=function(){qo.Z.N.call(this),N_(this)},qo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yd=s.JSON.stringify,TM=s.JSON.parse,CM=class{stringify(a){return s.JSON.stringify(a,void 0)}parse(a){return s.JSON.parse(a,void 0)}};function R_(){}function P_(){}var zo={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Jd(){I.call(this,"d")}p(Jd,I);function Zd(){I.call(this,"c")}p(Zd,I);var xr={},x_=null;function Ha(){return x_=x_||new ze}xr.Ia="serverreachability";function O_(a){I.call(this,xr.Ia,a)}p(O_,I);function Wo(a){let d=Ha();Je(d,new O_(d))}xr.STAT_EVENT="statevent";function k_(a,d){I.call(this,xr.STAT_EVENT,a),this.stat=d}p(k_,I);function Ze(a){let d=Ha();Je(d,new k_(d,a))}xr.Ja="timingevent";function F_(a,d){I.call(this,xr.Ja,a),this.size=d}p(F_,I);function Ko(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){a()},d)}function Qo(){this.g=!0}Qo.prototype.ua=function(){this.g=!1};function bM(a,d,h,g,T,S){a.info(function(){if(a.g)if(S){var P="",X=S.split("&");for(let me=0;me<X.length;me++){var ke=X[me].split("=");if(ke.length>1){let je=ke[0];ke=ke[1];let Kt=je.split("_");P=Kt.length>=2&&Kt[1]=="type"?P+(je+"="+ke+"&"):P+(je+"=redacted&")}}}else P=null;else P=S;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+d+`
`+h+`
`+P})}function SM(a,d,h,g,T,S,P){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+d+`
`+h+`
`+S+" "+P})}function ki(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+MM(a,h)+(g?" "+g:"")})}function AM(a,d){a.info(function(){return"TIMEOUT: "+d})}Qo.prototype.info=function(){};function MM(a,d){if(!a.g)return d;if(!d)return null;try{let S=JSON.parse(d);if(S){for(a=0;a<S.length;a++)if(Array.isArray(S[a])){var h=S[a];if(!(h.length<2)){var g=h[1];if(Array.isArray(g)&&!(g.length<1)){var T=g[0];if(T!="noop"&&T!="stop"&&T!="close")for(let P=1;P<g.length;P++)g[P]=""}}}}return Yd(S)}catch{return d}}var $a={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},L_={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},V_;function Xd(){}p(Xd,R_),Xd.prototype.g=function(){return new XMLHttpRequest},V_=new Xd;function Yo(a){return encodeURIComponent(String(a))}function NM(a){var d=1;a=a.split(":");let h=[];for(;d>0&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function Un(a,d,h,g){this.j=a,this.i=d,this.l=h,this.S=g||1,this.V=new qo(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new j_}function j_(){this.i=null,this.g="",this.h=!1}var B_={},ef={};function tf(a,d,h){a.M=1,a.A=qa(Wt(d)),a.u=h,a.R=!0,U_(a,null)}function U_(a,d){a.F=Date.now(),Ga(a),a.B=Wt(a.A);var h=a.B,g=a.S;Array.isArray(g)||(g=[String(g)]),eE(h.i,"t",g),a.C=0,h=a.j.L,a.h=new j_,a.g=vE(a.j,h?d:null,!a.u),a.P>0&&(a.O=new DM(l(a.Y,a,a.g),a.P)),d=a.V,h=a.g,g=a.ba;var T="readystatechange";Array.isArray(T)||(T&&(M_[0]=T.toString()),T=M_);for(let S=0;S<T.length;S++){let P=D_(h,T[S],g||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=a.J?E_(a.J):{},a.u?(a.v||(a.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,d)):(a.v="GET",a.g.ea(a.B,a.v,null,d)),Wo(),bM(a.i,a.v,a.B,a.l,a.S,a.u)}Un.prototype.ba=function(a){a=a.target;let d=this.O;d&&Gn(a)==3?d.j():this.Y(a)},Un.prototype.Y=function(a){try{if(a==this.g)e:{let X=Gn(this.g),ke=this.g.ya(),me=this.g.ca();if(!(X<3)&&(X!=3||this.g&&(this.h.h||this.g.la()||aE(this.g)))){this.K||X!=4||ke==7||(ke==8||me<=0?Wo(3):Wo(2)),nf(this);var d=this.g.ca();this.X=d;var h=RM(this);if(this.o=d==200,SM(this.i,this.v,this.B,this.l,this.S,X,d),this.o){if(this.U&&!this.L){t:{if(this.g){var g,T=this.g;if((g=T.g?T.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(g)){var S=g;break t}}S=null}if(a=S)ki(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,rf(this,a);else{this.o=!1,this.m=3,Ze(12),Or(this),Jo(this);break e}}if(this.R){a=!0;let je;for(;!this.K&&this.C<h.length;)if(je=PM(this,h),je==ef){X==4&&(this.m=4,Ze(14),a=!1),ki(this.i,this.l,null,"[Incomplete Response]");break}else if(je==B_){this.m=4,Ze(15),ki(this.i,this.l,h,"[Invalid Chunk]"),a=!1;break}else ki(this.i,this.l,je,null),rf(this,je);if(H_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),X!=4||h.length!=0||this.h.h||(this.m=1,Ze(16),a=!1),this.o=this.o&&a,!a)ki(this.i,this.l,h,"[Invalid Chunked Response]"),Or(this),Jo(this);else if(h.length>0&&!this.W){this.W=!0;var P=this.j;P.g==this&&P.aa&&!P.P&&(P.j.info("Great, no buffering proxy detected. Bytes received: "+h.length),df(P),P.P=!0,Ze(11))}}else ki(this.i,this.l,h,null),rf(this,h);X==4&&Or(this),this.o&&!this.K&&(X==4?pE(this.j,this):(this.o=!1,Ga(this)))}else zM(this.g),d==400&&h.indexOf("Unknown SID")>0?(this.m=3,Ze(12)):(this.m=0,Ze(13)),Or(this),Jo(this)}}}catch{}finally{}};function RM(a){if(!H_(a))return a.g.la();let d=aE(a.g);if(d==="")return"";let h="",g=d.length,T=Gn(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return Or(a),Jo(a),"";a.h.i=new s.TextDecoder}for(let S=0;S<g;S++)a.h.h=!0,h+=a.h.i.decode(d[S],{stream:!(T&&S==g-1)});return d.length=0,a.h.g+=h,a.C=0,a.h.g}function H_(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function PM(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?ef:(h=Number(d.substring(h,g)),isNaN(h)?B_:(g+=1,g+h>d.length?ef:(d=d.slice(g,g+h),a.C=g+h,d)))}Un.prototype.cancel=function(){this.K=!0,Or(this)};function Ga(a){a.T=Date.now()+a.H,$_(a,a.H)}function $_(a,d){if(a.D!=null)throw Error("WatchDog timer not null");a.D=Ko(l(a.aa,a),d)}function nf(a){a.D&&(s.clearTimeout(a.D),a.D=null)}Un.prototype.aa=function(){this.D=null;let a=Date.now();a-this.T>=0?(AM(this.i,this.B),this.M!=2&&(Wo(),Ze(17)),Or(this),this.m=2,Jo(this)):$_(this,this.T-a)};function Jo(a){a.j.I==0||a.K||pE(a.j,a)}function Or(a){nf(a);var d=a.O;d&&typeof d.dispose=="function"&&d.dispose(),a.O=null,N_(a.V),a.g&&(d=a.g,a.g=null,d.abort(),d.dispose())}function rf(a,d){try{var h=a.j;if(h.I!=0&&(h.g==a||of(h.h,a))){if(!a.L&&of(h.h,a)&&h.I==3){try{var g=h.Ba.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!h.v){if(h.g)if(h.g.F+3e3<a.F)Ja(h),Qa(h);else break e;lf(h),Ze(18)}}else h.xa=T[1],0<h.xa-h.K&&T[2]<37500&&h.F&&h.A==0&&!h.C&&(h.C=Ko(l(h.Va,h),6e3));z_(h.h)<=1&&h.ta&&(h.ta=void 0)}else Fr(h,11)}else if((a.L||h.g==a)&&Ja(h),!_(d))for(T=h.Ba.g.parse(d),d=0;d<T.length;d++){let me=T[d],je=me[0];if(!(je<=h.K))if(h.K=je,me=me[1],h.I==2)if(me[0]=="c"){h.M=me[1],h.ba=me[2];let Kt=me[3];Kt!=null&&(h.ka=Kt,h.j.info("VER="+h.ka));let Lr=me[4];Lr!=null&&(h.za=Lr,h.j.info("SVER="+h.za));let qn=me[5];qn!=null&&typeof qn=="number"&&qn>0&&(g=1.5*qn,h.O=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let zn=a.g;if(zn){let Xa=zn.g?zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xa){var S=g.h;S.g||Xa.indexOf("spdy")==-1&&Xa.indexOf("quic")==-1&&Xa.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(sf(S,S.h),S.h=null))}if(g.G){let ff=zn.g?zn.g.getResponseHeader("X-HTTP-Session-Id"):null;ff&&(g.wa=ff,ve(g.J,g.G,ff))}}h.I=3,h.l&&h.l.ra(),h.aa&&(h.T=Date.now()-a.F,h.j.info("Handshake RTT: "+h.T+"ms")),g=h;var P=a;if(g.na=yE(g,g.L?g.ba:null,g.W),P.L){W_(g.h,P);var X=P,ke=g.O;ke&&(X.H=ke),X.D&&(nf(X),Ga(X)),g.g=P}else fE(g);h.i.length>0&&Ya(h)}else me[0]!="stop"&&me[0]!="close"||Fr(h,7);else h.I==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?Fr(h,7):uf(h):me[0]!="noop"&&h.l&&h.l.qa(me),h.A=0)}}Wo(4)}catch{}}var xM=class{constructor(a,d){this.g=a,this.map=d}};function G_(a){this.l=a||10,s.PerformanceNavigationTiming?(a=s.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function q_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function z_(a){return a.h?1:a.g?a.g.size:0}function of(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function sf(a,d){a.g?a.g.add(d):a.h=d}function W_(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}G_.prototype.cancel=function(){if(this.i=K_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function K_(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.G);return d}return y(a.i)}var Q_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function OM(a,d){if(a){a=a.split("&");for(let h=0;h<a.length;h++){let g=a[h].indexOf("="),T,S=null;g>=0?(T=a[h].substring(0,g),S=a[h].substring(g+1)):T=a[h],d(T,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}function Hn(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;a instanceof Hn?(this.l=a.l,Zo(this,a.j),this.o=a.o,this.g=a.g,Xo(this,a.u),this.h=a.h,af(this,tE(a.i)),this.m=a.m):a&&(d=String(a).match(Q_))?(this.l=!1,Zo(this,d[1]||"",!0),this.o=es(d[2]||""),this.g=es(d[3]||"",!0),Xo(this,d[4]),this.h=es(d[5]||"",!0),af(this,d[6]||"",!0),this.m=es(d[7]||"")):(this.l=!1,this.i=new ns(null,this.l))}Hn.prototype.toString=function(){let a=[];var d=this.j;d&&a.push(ts(d,Y_,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(ts(d,Y_,!0),"@"),a.push(Yo(h).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.u,h!=null&&a.push(":",String(h))),(h=this.h)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(ts(h,h.charAt(0)=="/"?LM:FM,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",ts(h,jM)),a.join("")},Hn.prototype.resolve=function(a){let d=Wt(this),h=!!a.j;h?Zo(d,a.j):h=!!a.o,h?d.o=a.o:h=!!a.g,h?d.g=a.g:h=a.u!=null;var g=a.h;if(h)Xo(d,a.u);else if(h=!!a.h){if(g.charAt(0)!="/")if(this.g&&!this.h)g="/"+g;else{var T=d.h.lastIndexOf("/");T!=-1&&(g=d.h.slice(0,T+1)+g)}if(T=g,T==".."||T==".")g="";else if(T.indexOf("./")!=-1||T.indexOf("/.")!=-1){g=T.lastIndexOf("/",0)==0,T=T.split("/");let S=[];for(let P=0;P<T.length;){let X=T[P++];X=="."?g&&P==T.length&&S.push(""):X==".."?((S.length>1||S.length==1&&S[0]!="")&&S.pop(),g&&P==T.length&&S.push("")):(S.push(X),g=!0)}g=S.join("/")}else g=T}return h?d.h=g:h=a.i.toString()!=="",h?af(d,tE(a.i)):h=!!a.m,h&&(d.m=a.m),d};function Wt(a){return new Hn(a)}function Zo(a,d,h){a.j=h?es(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Xo(a,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);a.u=d}else a.u=null}function af(a,d,h){d instanceof ns?(a.i=d,BM(a.i,a.l)):(h||(d=ts(d,VM)),a.i=new ns(d,a.l))}function ve(a,d,h){a.i.set(d,h)}function qa(a){return ve(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function es(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ts(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,kM),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function kM(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Y_=/[#\/\?@]/g,FM=/[#\?:]/g,LM=/[#\?]/g,VM=/[#\?@]/g,jM=/#/g;function ns(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function kr(a){a.g||(a.g=new Map,a.h=0,a.i&&OM(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=ns.prototype,t.add=function(a,d){kr(this),this.i=null,a=Fi(this,a);let h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function J_(a,d){kr(a),d=Fi(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function Z_(a,d){return kr(a),d=Fi(a,d),a.g.has(d)}t.forEach=function(a,d){kr(this),this.g.forEach(function(h,g){h.forEach(function(T){a.call(d,T,g,this)},this)},this)};function X_(a,d){kr(a);let h=[];if(typeof d=="string")Z_(a,d)&&(h=h.concat(a.g.get(Fi(a,d))));else for(a=Array.from(a.g.values()),d=0;d<a.length;d++)h=h.concat(a[d]);return h}t.set=function(a,d){return kr(this),this.i=null,a=Fi(this,a),Z_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=X_(this,a),a.length>0?String(a[0]):d):d};function eE(a,d,h){J_(a,d),h.length>0&&(a.i=null,a.g.set(Fi(a,d),y(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(let g=0;g<d.length;g++){var h=d[g];let T=Yo(h);h=X_(this,h);for(let S=0;S<h.length;S++){let P=T;h[S]!==""&&(P+="="+Yo(h[S])),a.push(P)}}return this.i=a.join("&")};function tE(a){let d=new ns;return d.i=a.i,a.g&&(d.g=new Map(a.g),d.h=a.h),d}function Fi(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function BM(a,d){d&&!a.j&&(kr(a),a.i=null,a.g.forEach(function(h,g){let T=g.toLowerCase();g!=T&&(J_(this,g),eE(this,T,h))},a)),a.j=d}function UM(a,d){let h=new Qo;if(s.Image){let g=new Image;g.onload=f($n,h,"TestLoadImage: loaded",!0,d,g),g.onerror=f($n,h,"TestLoadImage: error",!1,d,g),g.onabort=f($n,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=f($n,h,"TestLoadImage: timeout",!1,d,g),s.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function HM(a,d){let h=new Qo,g=new AbortController,T=setTimeout(()=>{g.abort(),$n(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(S=>{clearTimeout(T),S.ok?$n(h,"TestPingServer: ok",!0,d):$n(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),$n(h,"TestPingServer: error",!1,d)})}function $n(a,d,h,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(h)}catch{}}function $M(){this.g=new CM}function za(a){this.i=a.Sb||null,this.h=a.ab||!1}p(za,R_),za.prototype.g=function(){return new Wa(this.i,this.h)};function Wa(a,d){ze.call(this),this.H=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Wa,ze),t=Wa.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=d,this.readyState=1,is(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(d.body=a),(this.H||s).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,rs(this)),this.readyState=0},t.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,is(this)),this.g&&(this.readyState=3,is(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;nE(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function nE(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}t.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?rs(this):is(this),this.readyState==3&&nE(this)}},t.Oa=function(a){this.g&&(this.response=this.responseText=a,rs(this))},t.Na=function(a){this.g&&(this.response=a,rs(this))},t.ga=function(){this.g&&rs(this)};function rs(a){a.readyState=4,a.l=null,a.j=null,a.B=null,is(a)}t.setRequestHeader=function(a,d){this.A.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function is(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Wa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function rE(a){let d="";return ja(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function cf(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=rE(h),typeof a=="string"?h!=null&&Yo(h):ve(a,d,h))}function we(a){ze.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(we,ze);var GM=/^https?$/i,qM=["POST","PUT"];t=we.prototype,t.Fa=function(a){this.H=a},t.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():V_.g(),this.g.onreadystatechange=m(l(this.Ca,this));try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){iE(this,S);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)h.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())h.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),T=s.FormData&&a instanceof s.FormData,!(Array.prototype.indexOf.call(qM,d,void 0)>=0)||g||T||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,P]of h)this.g.setRequestHeader(S,P);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(S){iE(this,S)}};function iE(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.o=5,oE(a),Ka(a)}function oE(a){a.A||(a.A=!0,Je(a,"complete"),Je(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,Je(this,"complete"),Je(this,"abort"),Ka(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ka(this,!0)),we.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?sE(this):this.Xa())},t.Xa=function(){sE(this)};function sE(a){if(a.h&&typeof o<"u"){if(a.v&&Gn(a)==4)setTimeout(a.Ca.bind(a),0);else if(Je(a,"readystatechange"),Gn(a)==4){a.h=!1;try{let S=a.ca();e:switch(S){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=S===0){let P=String(a.D).match(Q_)[1]||null;!P&&s.self&&s.self.location&&(P=s.self.location.protocol.slice(0,-1)),g=!GM.test(P?P.toLowerCase():"")}h=g}if(h)Je(a,"complete"),Je(a,"success");else{a.o=6;try{var T=Gn(a)>2?a.g.statusText:""}catch{T=""}a.l=T+" ["+a.ca()+"]",oE(a)}}finally{Ka(a)}}}}function Ka(a,d){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);let h=a.g;a.g=null,d||Je(a,"ready");try{h.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Gn(a){return a.g?a.g.readyState:0}t.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),TM(d)}};function aE(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function zM(a){let d={};a=(a.g&&Gn(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(_(a[g]))continue;var h=NM(a[g]);let T=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=d[T]||[];d[T]=S,S.push(h)}_M(d,function(g){return g.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function os(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function cE(a){this.za=0,this.i=[],this.j=new Qo,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=os("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=os("baseRetryDelayMs",5e3,a),this.Za=os("retryDelaySeedMs",1e4,a),this.Ta=os("forwardChannelMaxRetries",2,a),this.va=os("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new G_(a&&a.concurrentRequestLimit),this.Ba=new $M,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=cE.prototype,t.ka=8,t.I=1,t.connect=function(a,d,h,g){Ze(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.J=yE(this,null,this.W),Ya(this)};function uf(a){if(uE(a),a.I==3){var d=a.V++,h=Wt(a.J);if(ve(h,"SID",a.M),ve(h,"RID",d),ve(h,"TYPE","terminate"),ss(a,h),d=new Un(a,a.j,d),d.M=2,d.A=qa(Wt(h)),h=!1,s.navigator&&s.navigator.sendBeacon)try{h=s.navigator.sendBeacon(d.A.toString(),"")}catch{}!h&&s.Image&&(new Image().src=d.A,h=!0),h||(d.g=vE(d.j,null),d.g.ea(d.A)),d.F=Date.now(),Ga(d)}mE(a)}function Qa(a){a.g&&(df(a),a.g.cancel(),a.g=null)}function uE(a){Qa(a),a.v&&(s.clearTimeout(a.v),a.v=null),Ja(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&s.clearTimeout(a.m),a.m=null)}function Ya(a){if(!q_(a.h)&&!a.m){a.m=!0;var d=a.Ea;qe||v(),Ve||(qe(),Ve=!0),w.add(d,a),a.D=0}}function WM(a,d){return z_(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=d.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=Ko(l(a.Ea,a,d),gE(a,a.D)),a.D++,!0)}t.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;let T=new Un(this,this.j,a),S=this.o;if(this.U&&(S?(S=E_(S),w_(S,this.U)):S=this.U),this.u!==null||this.R||(T.J=S,S=null),this.S)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,d>4096){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=dE(this,T,d),h=Wt(this.J),ve(h,"RID",a),ve(h,"CVER",22),this.G&&ve(h,"X-HTTP-Session-Id",this.G),ss(this,h),S&&(this.R?d="headers="+Yo(rE(S))+"&"+d:this.u&&cf(h,this.u,S)),sf(this.h,T),this.Ra&&ve(h,"TYPE","init"),this.S?(ve(h,"$req",d),ve(h,"SID","null"),T.U=!0,tf(T,h,null)):tf(T,h,d),this.I=2}}else this.I==3&&(a?lE(this,a):this.i.length==0||q_(this.h)||lE(this))};function lE(a,d){var h;d?h=d.l:h=a.V++;let g=Wt(a.J);ve(g,"SID",a.M),ve(g,"RID",h),ve(g,"AID",a.K),ss(a,g),a.u&&a.o&&cf(g,a.u,a.o),h=new Un(a,a.j,h,a.D+1),a.u===null&&(h.J=a.o),d&&(a.i=d.G.concat(a.i)),d=dE(a,h,1e3),h.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),sf(a.h,h),tf(h,g,d)}function ss(a,d){a.H&&ja(a.H,function(h,g){ve(d,g,h)}),a.l&&ja({},function(h,g){ve(d,g,h)})}function dE(a,d,h){h=Math.min(a.i.length,h);let g=a.l?l(a.l.Ka,a.l,a):null;e:{var T=a.i;let X=-1;for(;;){let ke=["count="+h];X==-1?h>0?(X=T[0].g,ke.push("ofs="+X)):X=0:ke.push("ofs="+X);let me=!0;for(let je=0;je<h;je++){var S=T[je].g;let Kt=T[je].map;if(S-=X,S<0)X=Math.max(0,T[je].g-100),me=!1;else try{S="req"+S+"_"||"";try{var P=Kt instanceof Map?Kt:Object.entries(Kt);for(let[Lr,qn]of P){let zn=qn;c(qn)&&(zn=Yd(qn)),ke.push(S+Lr+"="+encodeURIComponent(zn))}}catch(Lr){throw ke.push(S+"type="+encodeURIComponent("_badmap")),Lr}}catch{g&&g(Kt)}}if(me){P=ke.join("&");break e}}P=void 0}return a=a.i.splice(0,h),d.G=a,P}function fE(a){if(!a.g&&!a.v){a.Y=1;var d=a.Da;qe||v(),Ve||(qe(),Ve=!0),w.add(d,a),a.A=0}}function lf(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=Ko(l(a.Da,a),gE(a,a.A)),a.A++,!0)}t.Da=function(){if(this.v=null,hE(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=Ko(l(this.Wa,this),a)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ze(10),Qa(this),hE(this))};function df(a){a.B!=null&&(s.clearTimeout(a.B),a.B=null)}function hE(a){a.g=new Un(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var d=Wt(a.na);ve(d,"RID","rpc"),ve(d,"SID",a.M),ve(d,"AID",a.K),ve(d,"CI",a.F?"0":"1"),!a.F&&a.ia&&ve(d,"TO",a.ia),ve(d,"TYPE","xmlhttp"),ss(a,d),a.u&&a.o&&cf(d,a.u,a.o),a.O&&(a.g.H=a.O);var h=a.g;a=a.ba,h.M=1,h.A=qa(Wt(d)),h.u=null,h.R=!0,U_(h,a)}t.Va=function(){this.C!=null&&(this.C=null,Qa(this),lf(this),Ze(19))};function Ja(a){a.C!=null&&(s.clearTimeout(a.C),a.C=null)}function pE(a,d){var h=null;if(a.g==d){Ja(a),df(a),a.g=null;var g=2}else if(of(a.h,d))h=d.G,W_(a.h,d),g=1;else return;if(a.I!=0){if(d.o)if(g==1){h=d.u?d.u.length:0,d=Date.now()-d.F;var T=a.D;g=Ha(),Je(g,new F_(g,h)),Ya(a)}else fE(a);else if(T=d.m,T==3||T==0&&d.X>0||!(g==1&&WM(a,d)||g==2&&lf(a)))switch(h&&h.length>0&&(d=a.h,d.i=d.i.concat(h)),T){case 1:Fr(a,5);break;case 4:Fr(a,10);break;case 3:Fr(a,6);break;default:Fr(a,2)}}}function gE(a,d){let h=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(h*=2),h*d}function Fr(a,d){if(a.j.info("Error code "+d),d==2){var h=l(a.bb,a),g=a.Ua;let T=!g;g=new Hn(g||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Zo(g,"https"),qa(g),T?UM(g.toString(),h):HM(g.toString(),h)}else Ze(2);a.I=0,a.l&&a.l.pa(d),mE(a),uE(a)}t.bb=function(a){a?(this.j.info("Successfully pinged google.com"),Ze(2)):(this.j.info("Failed to ping google.com"),Ze(1))};function mE(a){if(a.I=0,a.ja=[],a.l){let d=K_(a.h);(d.length!=0||a.i.length!=0)&&(b(a.ja,d),b(a.ja,a.i),a.h.i.length=0,y(a.i),a.i.length=0),a.l.oa()}}function yE(a,d,h){var g=h instanceof Hn?Wt(h):new Hn(h);if(g.g!="")d&&(g.g=d+"."+g.g),Xo(g,g.u);else{var T=s.location;g=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;let S=new Hn(null);g&&Zo(S,g),d&&(S.g=d),T&&Xo(S,T),h&&(S.h=h),g=S}return h=a.G,d=a.wa,h&&d&&ve(g,h,d),ve(g,"VER",a.ka),ss(a,g),g}function vE(a,d,h){if(d&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Aa&&!a.ma?new we(new za({ab:h})):new we(a.ma),d.Fa(a.L),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function _E(){}t=_E.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Za(){}Za.prototype.g=function(a,d){return new ut(a,d)};function ut(a,d){ze.call(this),this.g=new cE(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(a?a["X-WebChannel-Client-Profile"]=d.sa:a={"X-WebChannel-Client-Profile":d.sa}),this.g.U=a,(a=d&&d.Qb)&&!_(a)&&(this.g.u=a),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!_(d)&&(this.g.G=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Li(this)}p(ut,ze),ut.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ut.prototype.close=function(){uf(this.g)},ut.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.v&&(h={},h.__data__=Yd(a),a=h);d.i.push(new xM(d.Ya++,a)),d.I==3&&Ya(d)},ut.prototype.N=function(){this.g.l=null,delete this.j,uf(this.g),delete this.g,ut.Z.N.call(this)};function EE(a){Jd.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}p(EE,Jd);function IE(){Zd.call(this),this.status=1}p(IE,Zd);function Li(a){this.g=a}p(Li,_E),Li.prototype.ra=function(){Je(this.g,"a")},Li.prototype.qa=function(a){Je(this.g,new EE(a))},Li.prototype.pa=function(a){Je(this.g,new IE)},Li.prototype.oa=function(){Je(this.g,"b")},Za.prototype.createWebChannel=Za.prototype.g,ut.prototype.send=ut.prototype.o,ut.prototype.open=ut.prototype.m,ut.prototype.close=ut.prototype.close,Pm=Nn.createWebChannelTransport=function(){return new Za},Rm=Nn.getStatEventTarget=function(){return Ha()},Nm=Nn.Event=xr,Dl=Nn.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},$a.NO_ERROR=0,$a.TIMEOUT=8,$a.HTTP_ERROR=6,fa=Nn.ErrorCode=$a,L_.COMPLETE="complete",Mm=Nn.EventType=L_,P_.EventType=zo,zo.OPEN="a",zo.CLOSE="b",zo.ERROR="c",zo.MESSAGE="d",ze.prototype.listen=ze.prototype.J,yo=Nn.WebChannel=P_,PV=Nn.FetchXmlHttpFactory=za,we.prototype.listenOnce=we.prototype.K,we.prototype.getLastError=we.prototype.Ha,we.prototype.getLastErrorCode=we.prototype.ya,we.prototype.getStatus=we.prototype.ca,we.prototype.getResponseJson=we.prototype.La,we.prototype.getResponseText=we.prototype.la,we.prototype.send=we.prototype.ea,we.prototype.setWithCredentials=we.prototype.Fa,Am=Nn.XhrIo=we}).apply(typeof wl<"u"?wl:typeof self<"u"?self:typeof window<"u"?window:{});var e0="@firebase/firestore",t0="4.9.2";var Ue=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ue.UNAUTHENTICATED=new Ue(null),Ue.GOOGLE_CREDENTIALS=new Ue("google-credentials-uid"),Ue.FIRST_PARTY=new Ue("first-party-uid"),Ue.MOCK_USER=new Ue("mock-user");var jo="12.3.0";var Ii=new mr("@firebase/firestore");function vo(){return Ii.logLevel}function F(t,...e){if(Ii.logLevel<=ne.DEBUG){let n=e.map(Dv);Ii.debug(`Firestore (${jo}): ${t}`,...n)}}function Pn(t,...e){if(Ii.logLevel<=ne.ERROR){let n=e.map(Dv);Ii.error(`Firestore (${jo}): ${t}`,...n)}}function bo(t,...e){if(Ii.logLevel<=ne.WARN){let n=e.map(Dv);Ii.warn(`Firestore (${jo}): ${t}`,...n)}}function Dv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function q(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,z0(t,r,n)}function z0(t,e,n){let r=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Pn(r),new Error(r)}function ue(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||z0(e,i,r)}function Y(t,e){return t}var A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},k=class extends vt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Rn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Nl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Vm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ue.UNAUTHENTICATED))}shutdown(){}},jm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Bm=class{constructor(e){this.t=e,this.currentUser=Ue.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ue(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Rn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Rn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},c=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Rn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ue(typeof r.accessToken=="string",31837,{l:r}),new Nl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ue(e===null||typeof e=="string",2055,{h:e}),new Ue(e)}},Um=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ue.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Hm=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Um(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ue.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Rl=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},$m=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_t(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ue(this.o===void 0,3512);let r=o=>{o.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,F("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Rl(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ue(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Rl(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function xV(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var _a=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=xV(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function ie(t,e){return t<e?-1:t>e?1:0}function Gm(t,e){let n=Math.min(t.length,e.length);for(let r=0;r<n;r++){let i=t.charAt(r),o=e.charAt(r);if(i!==o)return xm(i)===xm(o)?ie(i,o):xm(i)?1:-1}return ie(t.length,e.length)}var OV=55296,kV=57343;function xm(t){let e=t.charCodeAt(0);return e>=OV&&e<=kV}function So(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var n0="__name__",Pl=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&q(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&q(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ie(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):Gm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Mn.fromString(e.substring(4,e.length-2))}},Ee=class t extends Pl{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new k(A.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},FV=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Et=class t extends Pl{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return FV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===n0}static keyField(){return new t([n0])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new k(A.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new k(A.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new k(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new k(A.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var H=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ee.fromString(e))}static fromName(e){return new t(Ee.fromString(e).popFirst(5))}static empty(){return new t(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ee.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ee(e.slice()))}};function W0(t,e,n){if(!n)throw new k(A.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LV(t,e,n,r){if(e===!0&&r===!0)throw new k(A.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function r0(t){if(!H.isDocumentKey(t))throw new k(A.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function i0(t){if(H.isDocumentKey(t))throw new k(A.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function K0(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ud(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":q(12329,{type:typeof t})}function pa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new k(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=ud(t);throw new k(A.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Pe(t,e){let n={typeString:t};return e&&(n.value=e),n}function Na(t,e){if(!K0(t))throw new k(A.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new k(A.INVALID_ARGUMENT,n);return!0}var o0=-62135596800,s0=1e6,xe=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*s0);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new k(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new k(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<o0)throw new k(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new k(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/s0}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Na(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-o0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};xe._jsonSchemaVersion="firestore/timestamp/1.0",xe._jsonSchema={type:Pe("string",xe._jsonSchemaVersion),seconds:Pe("number"),nanoseconds:Pe("number")};var J=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new xe(0,0))}static max(){return new t(new xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ea=-1,qm=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};qm.UNKNOWN_ID=-1;function VV(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new xe(n+1,0):new xe(n,r));return new wi(i,H.empty(),e)}function jV(t){return new wi(t.readTime,t.key,Ea)}var wi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(J.min(),H.empty(),Ea)}static max(){return new t(J.max(),H.empty(),Ea)}};function BV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:ie(t.largestBatchId,e.largestBatchId))}var UV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",zm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function Bo(t){if(t.code!==A.FAILED_PRECONDITION||t.message!==UV)throw t;F("LocalStore","Unexpectedly lost primary lease")}var R=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(f=>{s[l]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function HV(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Uo(t){return t.name==="IndexedDbTransactionError"}var Tv=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>r.writeSequenceNumber(i))}ae(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ue&&this.ue(n),n}}t.ce=-1;return t})(),Cv=-1;function ld(t){return t==null}function Ia(t){return t===0&&1/t==-1/0}function $V(t){return typeof t=="number"&&Number.isInteger(t)&&!Ia(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Q0="";function GV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=a0(e)),e=qV(t.get(n),e);return a0(e)}function qV(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case Q0:n+="";break;default:n+=o}}return n}function a0(t){return t+Q0+""}var zV="remoteDocuments",Y0="owner";var J0="mutationQueues";var Z0="mutations";var X0="documentMutations",WV="remoteDocumentsV14";var eS="remoteDocumentGlobal";var tS="targets";var nS="targetDocuments";var rS="targetGlobal",iS="collectionParents";var oS="clientMetadata";var sS="bundles";var aS="namedQueries";var KV="indexConfiguration";var QV="indexState";var YV="indexEntries";var cS="documentOverlays";var JV="globals";var ZV=[J0,Z0,X0,zV,tS,Y0,rS,nS,oS,eS,iS,sS,aS],JK=[...ZV,cS],XV=[J0,Z0,X0,WV,tS,Y0,rS,nS,oS,eS,iS,sS,aS,cS],e2=XV,t2=[...e2,KV,QV,YV];var ZK=[...t2,JV];function c0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Mi(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Te=class t{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wo(this.root,e,this.comparator,!1)}getReverseIterator(){return new wo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wo(this.root,e,this.comparator,!0)}},wo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},pn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw q(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw q(27949);return e+(this.isRed()?0:1)}};pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw q(57766)}get value(){throw q(16141)}get color(){throw q(16727)}get left(){throw q(29726)}get right(){throw q(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var He=class t{constructor(e){this.comparator=e,this.data=new Te(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xl(this.data.getIterator())}getIteratorFrom(e){return new xl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},xl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var hn=class t{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new t([])}unionWith(e){let n=new He(Et.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return So(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Ol=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ye=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ol("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ye.EMPTY_BYTE_STRING=new Ye("");var n2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xn(t){if(ue(!!t,39018),typeof t=="string"){let e=0,n=n2.exec(t);if(ue(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_e(t.seconds),nanos:_e(t.nanos)}}function _e(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function On(t){return typeof t=="string"?Ye.fromBase64String(t):Ye.fromUint8Array(t)}var lS="server_timestamp",dS="__type__",fS="__previous_value__",hS="__local_write_time__";function bv(t){return(t?.mapValue?.fields||{})[dS]?.stringValue===lS}function dd(t){let e=t.mapValue.fields[fS];return bv(e)?dd(e):e}function wa(t){let e=xn(t.mapValue.fields[hS].timestampValue);return new xe(e.seconds,e.nanos)}var Wm=class{constructor(e,n,r,i,o,s,c,u,l,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=f}},kl="(default)",Fl=class t{constructor(e,n){this.projectId=e,this.database=n||kl}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===kl}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Sv="__type__",pS="__max__",Tl={mapValue:{fields:{__type__:{stringValue:pS}}}},Av="__vector__",Ao="value";function Tr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bv(t)?4:mS(t)?9007199254740991:gS(t)?10:11:q(28295,{value:t})}function yn(t,e){if(t===e)return!0;let n=Tr(t);if(n!==Tr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wa(t).isEqual(wa(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=xn(i.timestampValue),c=xn(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return On(i.bytesValue).isEqual(On(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return _e(i.geoPointValue.latitude)===_e(o.geoPointValue.latitude)&&_e(i.geoPointValue.longitude)===_e(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return _e(i.integerValue)===_e(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=_e(i.doubleValue),c=_e(o.doubleValue);return s===c?Ia(s)===Ia(c):isNaN(s)&&isNaN(c)}return!1})(t,e);case 9:return So(t.arrayValue.values||[],e.arrayValue.values||[],yn);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(c0(s)!==c0(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!yn(s[u],c[u])))return!1;return!0})(t,e);default:return q(52216,{left:t})}}function Da(t,e){return(t.values||[]).find(n=>yn(n,e))!==void 0}function Mo(t,e){if(t===e)return 0;let n=Tr(t),r=Tr(e);if(n!==r)return ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(t.booleanValue,e.booleanValue);case 2:return(function(o,s){let c=_e(o.integerValue||o.doubleValue),u=_e(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(t,e);case 3:return u0(t.timestampValue,e.timestampValue);case 4:return u0(wa(t),wa(e));case 5:return Gm(t.stringValue,e.stringValue);case 6:return(function(o,s){let c=On(o),u=On(s);return c.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=ie(c[l],u[l]);if(f!==0)return f}return ie(c.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){let c=ie(_e(o.latitude),_e(s.latitude));return c!==0?c:ie(_e(o.longitude),_e(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return l0(t.arrayValue,e.arrayValue);case 10:return(function(o,s){let c=o.fields||{},u=s.fields||{},l=c[Ao]?.arrayValue,f=u[Ao]?.arrayValue,p=ie(l?.values?.length||0,f?.values?.length||0);return p!==0?p:l0(l,f)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Tl.mapValue&&s===Tl.mapValue)return 0;if(o===Tl.mapValue)return 1;if(s===Tl.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let m=Gm(u[p],f[p]);if(m!==0)return m;let y=Mo(c[u[p]],l[f[p]]);if(y!==0)return y}return ie(u.length,f.length)})(t.mapValue,e.mapValue);default:throw q(23264,{he:n})}}function u0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ie(t,e);let n=xn(t),r=xn(e),i=ie(n.seconds,r.seconds);return i!==0?i:ie(n.nanos,r.nanos)}function l0(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Mo(n[i],r[i]);if(o)return o}return ie(n.length,r.length)}function No(t){return Km(t)}function Km(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let r=xn(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return On(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return H.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Km(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Km(n.fields[s])}`;return i+"}"})(t.mapValue):q(61005,{value:t})}function Sl(t){switch(Tr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=dd(t);return e?16+Sl(e):16;case 5:return 2*t.stringValue.length;case 6:return On(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Sl(o),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Mi(r.fields,(o,s)=>{i+=o.length+Sl(s)}),i})(t.mapValue);default:throw q(13486,{value:t})}}function d0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qm(t){return!!t&&"integerValue"in t}function Mv(t){return!!t&&"arrayValue"in t}function f0(t){return!!t&&"nullValue"in t}function h0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Al(t){return!!t&&"mapValue"in t}function gS(t){return(t?.mapValue?.fields||{})[Sv]?.stringValue===Av}function ga(t){if(t.geoPointValue)return{geoPointValue:j({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:j({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Mi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ga(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ga(t.arrayValue.values[n]);return e}return j({},t)}function mS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===pS}var eQ={mapValue:{fields:{[Sv]:{stringValue:Av},[Ao]:{arrayValue:{}}}}};var Gt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Al(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ga(n)}setAll(e){let n=Et.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=ga(s):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Al(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Al(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Mi(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(ga(this.value))}};function yS(t){let e=[];return Mi(t.fields,(n,r)=>{let i=new Et([n]);if(Al(r)){let o=yS(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new hn(e)}var qt=class t{constructor(e,n,r,i,o,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,J.min(),J.min(),J.min(),Gt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,J.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,J.min(),J.min(),Gt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,J.min(),J.min(),Gt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ro=class{constructor(e,n){this.position=e,this.inclusive=n}};function p0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=H.comparator(H.fromName(s.referenceValue),n.key):r=Mo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function g0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yn(t.position[n],e.position[n]))return!1;return!0}var Di=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function r2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ll=class{},Re=class t extends Ll{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Jm(e,n,r):n==="array-contains"?new ey(e,r):n==="in"?new ty(e,r):n==="not-in"?new ny(e,r):n==="array-contains-any"?new ry(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Zm(e,r):new Xm(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Mo(n,this.value)):n!==null&&Tr(this.value)===Tr(n)&&this.matchesComparison(Mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},zt=class t extends Ll{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new t(e,n)}matches(e){return vS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function vS(t){return t.op==="and"}function _S(t){return i2(t)&&vS(t)}function i2(t){for(let e of t.filters)if(e instanceof zt)return!1;return!0}function Ym(t){if(t instanceof Re)return t.field.canonicalString()+t.op.toString()+No(t.value);if(_S(t))return t.filters.map(e=>Ym(e)).join(",");{let e=t.filters.map(n=>Ym(n)).join(",");return`${t.op}(${e})`}}function ES(t,e){return t instanceof Re?(function(r,i){return i instanceof Re&&r.op===i.op&&r.field.isEqual(i.field)&&yn(r.value,i.value)})(t,e):t instanceof zt?(function(r,i){return i instanceof zt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&ES(s,i.filters[c]),!0):!1})(t,e):void q(19439)}function IS(t){return t instanceof Re?(function(n){return`${n.field.canonicalString()} ${n.op} ${No(n.value)}`})(t):t instanceof zt?(function(n){return n.op.toString()+" {"+n.getFilters().map(IS).join(" ,")+"}"})(t):"Filter"}var Jm=class extends Re{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){let n=H.comparator(e.key,this.key);return this.matchesComparison(n)}},Zm=class extends Re{constructor(e,n){super(e,"in",n),this.keys=wS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Xm=class extends Re{constructor(e,n){super(e,"not-in",n),this.keys=wS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function wS(t,e){return(e.arrayValue?.values||[]).map(n=>H.fromName(n.referenceValue))}var ey=class extends Re{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Mv(n)&&Da(n.arrayValue,this.value)}},ty=class extends Re{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Da(this.value.arrayValue,n)}},ny=class extends Re{constructor(e,n){super(e,"not-in",n)}matches(e){if(Da(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Da(this.value.arrayValue,n)}},ry=class extends Re{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Mv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Da(this.value.arrayValue,r))}};var iy=class{constructor(e,n=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Te=null}};function m0(t,e=null,n=[],r=[],i=null,o=null,s=null){return new iy(t,e,n,r,i,o,s)}function Nv(t){let e=Y(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ym(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>No(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>No(r)).join(",")),e.Te=n}return e.Te}function Rv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!r2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ES(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!g0(t.startAt,e.startAt)&&g0(t.endAt,e.endAt)}function oy(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Cr=class{constructor(e,n=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function o2(t,e,n,r,i,o,s,c){return new Cr(t,e,n,r,i,o,s,c)}function Pv(t){return new Cr(t)}function y0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function DS(t){return t.collectionGroup!==null}function ma(t){let e=Y(t);if(e.Ie===null){e.Ie=[];let n=new Set;for(let o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new He(Et.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Di(o,r))}),n.has(Et.keyField().canonicalString())||e.Ie.push(new Di(Et.keyField(),r))}return e.Ie}function gn(t){let e=Y(t);return e.Ee||(e.Ee=s2(e,ma(t))),e.Ee}function s2(t,e){if(t.limitType==="F")return m0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Di(i.field,o)});let n=t.endAt?new Ro(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ro(t.startAt.position,t.startAt.inclusive):null;return m0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function sy(t,e){let n=t.filters.concat([e]);return new Cr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ay(t,e,n){return new Cr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fd(t,e){return Rv(gn(t),gn(e))&&t.limitType===e.limitType}function TS(t){return`${Nv(gn(t))}|lt:${t.limitType}`}function _o(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>IS(i)).join(", ")}]`),ld(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>No(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>No(i)).join(",")),`Target(${r})`})(gn(t))}; limitType=${t.limitType})`}function hd(t,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):H.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(let o of ma(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,c,u){let l=p0(s,c,u);return s.inclusive?l<=0:l<0})(r.startAt,ma(r),i)||r.endAt&&!(function(s,c,u){let l=p0(s,c,u);return s.inclusive?l>=0:l>0})(r.endAt,ma(r),i))})(t,e)}function a2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function CS(t){return(e,n)=>{let r=!1;for(let i of ma(t)){let o=c2(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function c2(t,e,n){let r=t.field.isKeyField()?H.comparator(e.key,n.key):(function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?Mo(u,l):q(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return q(19790,{direction:t.dir})}}var kn=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Mi(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return uS(this.inner)}size(){return this.innerSize}};var u2=new Te(H.comparator);function Fn(){return u2}var bS=new Te(H.comparator);function ha(...t){let e=bS;for(let n of t)e=e.insert(n.key,n);return e}function SS(t){let e=bS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function mi(){return ya()}function AS(){return ya()}function ya(){return new kn(t=>t.toString(),(t,e)=>t.isEqual(e))}var l2=new Te(H.comparator),d2=new He(H.comparator);function oe(...t){let e=d2;for(let n of t)e=e.add(n);return e}var f2=new He(ie);function h2(){return f2}function xv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ia(e)?"-0":e}}function MS(t){return{integerValue:""+t}}function p2(t,e){return $V(e)?MS(e):xv(t,e)}var Po=class{constructor(){this._=void 0}};function g2(t,e,n){return t instanceof xo?(function(i,o){let s={fields:{[dS]:{stringValue:lS},[hS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&bv(o)&&(o=dd(o)),o&&(s.fields[fS]=o),{mapValue:s}})(n,e):t instanceof Ti?RS(t,e):t instanceof Ci?PS(t,e):(function(i,o){let s=NS(i,o),c=v0(s)+v0(i.Ae);return Qm(s)&&Qm(i.Ae)?MS(c):xv(i.serializer,c)})(t,e)}function m2(t,e,n){return t instanceof Ti?RS(t,e):t instanceof Ci?PS(t,e):n}function NS(t,e){return t instanceof Oo?(function(r){return Qm(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var xo=class extends Po{},Ti=class extends Po{constructor(e){super(),this.elements=e}};function RS(t,e){let n=xS(e);for(let r of t.elements)n.some(i=>yn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ci=class extends Po{constructor(e){super(),this.elements=e}};function PS(t,e){let n=xS(e);for(let r of t.elements)n=n.filter(i=>!yn(i,r));return{arrayValue:{values:n}}}var Oo=class extends Po{constructor(e,n){super(),this.serializer=e,this.Ae=n}};function v0(t){return _e(t.integerValue||t.doubleValue)}function xS(t){return Mv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function y2(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Ti&&i instanceof Ti||r instanceof Ci&&i instanceof Ci?So(r.elements,i.elements,yn):r instanceof Oo&&i instanceof Oo?yn(r.Ae,i.Ae):r instanceof xo&&i instanceof xo})(t.transform,e.transform)}var cy=class{constructor(e,n){this.version=e,this.transformResults=n}},_i=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ml(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ko=class{};function OS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Vl(t.key,_i.none()):new bi(t.key,t.data,_i.none());{let n=t.data,r=Gt.empty(),i=new He(Et.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ln(t.key,r,new hn(i.toArray()),_i.none())}}function v2(t,e,n){t instanceof bi?(function(i,o,s){let c=i.value.clone(),u=E0(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Ln?(function(i,o,s){if(!Ml(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=E0(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(kS(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function va(t,e,n,r){return t instanceof bi?(function(o,s,c,u){if(!Ml(o.precondition,s))return c;let l=o.value.clone(),f=I0(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ln?(function(o,s,c,u){if(!Ml(o.precondition,s))return c;let l=I0(o.fieldTransforms,u,s),f=s.data;return f.setAll(kS(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(t,e,n,r):(function(o,s,c){return Ml(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c})(t,e,n)}function _2(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=NS(r.transform,i||null);o!=null&&(n===null&&(n=Gt.empty()),n.set(r.field,o))}return n||null}function _0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&So(r,i,(o,s)=>y2(o,s))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var bi=class extends ko{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Ln=class extends ko{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function kS(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function E0(t,e,n){let r=new Map;ue(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,m2(s,c,n[i]))}return r}function I0(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,g2(o,s,e))}return r}var Vl=class extends ko{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},uy=class extends ko{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var ly=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&v2(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=va(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=va(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=AS();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(i.key)?null:c;let u=OS(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&So(this.mutations,e.mutations,(n,r)=>_0(n,r))&&So(this.baseMutations,e.baseMutations,(n,r)=>_0(n,r))}},dy=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ue(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return l2})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var fy=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var hy=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Me,se;function E2(t){switch(t){case A.OK:return q(64938);case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0;default:return q(15467,{code:t})}}function FS(t){if(t===void 0)return Pn("GRPC error has no .code"),A.UNKNOWN;switch(t){case Me.OK:return A.OK;case Me.CANCELLED:return A.CANCELLED;case Me.UNKNOWN:return A.UNKNOWN;case Me.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case Me.INTERNAL:return A.INTERNAL;case Me.UNAVAILABLE:return A.UNAVAILABLE;case Me.UNAUTHENTICATED:return A.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case Me.NOT_FOUND:return A.NOT_FOUND;case Me.ALREADY_EXISTS:return A.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return A.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case Me.ABORTED:return A.ABORTED;case Me.OUT_OF_RANGE:return A.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return A.UNIMPLEMENTED;case Me.DATA_LOSS:return A.DATA_LOSS;default:return q(39323,{code:t})}}(se=Me||(Me={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";var I2=null;function w2(){return new TextEncoder}var D2=new Mn([4294967295,4294967295],0);function w0(t){let e=w2().encode(t),n=new Sm;return n.update(e),new Uint8Array(n.digest())}function D0(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Mn([n,r],0),new Mn([i,o],0)]}var py=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yi(`Invalid padding: ${n}`);if(r<0)throw new yi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new yi(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Mn.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Mn.fromNumber(r)));return i.compare(D2)===1&&(i=new Mn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let n=w0(e),[r,i]=D0(n);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.ge===0)return;let n=w0(e),[r,i]=D0(n);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);this.Se(s)}}Se(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},yi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var jl=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ta.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(J.min(),i,new Te(ie),Fn(),oe())}},Ta=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,oe(),oe(),oe())}};var Do=class{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}},Bl=class{constructor(e,n){this.targetId=e,this.Ce=n}},Ul=class{constructor(e,n,r=Ye.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Hl=class{constructor(){this.ve=0,this.Fe=T0(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=oe(),n=oe(),r=oe();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:q(38017,{changeType:o})}}),new Ta(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=T0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ue(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}},gy=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=Fn(),this.Je=Cl(),this.He=Cl(),this.Ye=new Te(ie)}Ze(e){for(let n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(let n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{let r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:q(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){let n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){let o=i.target;if(oy(o))if(r===0){let s=new H(o.path);this.et(n,s,qt.newNoDocument(s,J.min()))}else ue(r===1,20013,{expectedCount:r});else{let s=this._t(n);if(s!==r){let c=this.ut(e),u=c?this.ct(c,e,s):1;if(u!==0){this.it(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,l)}I2?.lt((function(f,p,m,y,b){let M={localCacheCount:f,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},N=p.unchangedNames;return N&&(M.bloomFilter={applied:b===0,hashCount:N?.hashCount??0,bitmapLength:N?.bits?.bitmap?.length??0,padding:N?.bits?.padding??0,mightContain:V=>y?.mightContain(V)??!1}),M})(s,e.Ce,this.Ge.ht(),c,u))}}}}ut(e){let n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,c;try{s=On(r).toUint8Array()}catch(u){if(u instanceof Ol)return bo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new py(s,i,o)}catch(u){return bo(u instanceof yi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){let r=this.Ge.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Ge.ht(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(n,o,null),i++)}),i}Tt(e){let n=new Map;this.ze.forEach((o,s)=>{let c=this.ot(s);if(c){if(o.current&&oy(c.target)){let u=new H(c.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,qt.newNoDocument(u,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=oe();this.He.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.ot(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));let i=new jl(e,n,this.Ye,this.je,r);return this.je=Fn(),this.Je=Cl(),this.He=Cl(),this.Ye=new Te(ie),i}Xe(e,n){if(!this.rt(e))return;let r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;let i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){let n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Hl,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new He(ie),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new He(ie),this.Je=this.Je.insert(e,n)),n}rt(e){let n=this.ot(e)!==null;return n||F("WatchChangeAggregator","Detected inactive target",e),n}ot(e){let n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Hl),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}};function Cl(){return new Te(H.comparator)}function T0(){return new Te(H.comparator)}var T2={asc:"ASCENDING",desc:"DESCENDING"},C2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},b2={and:"AND",or:"OR"},my=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function yy(t,e){return t.useProto3Json||ld(e)?e:{value:e}}function $l(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function S2(t,e){return $l(t,e.toTimestamp())}function mn(t){return ue(!!t,49232),J.fromTimestamp((function(n){let r=xn(n);return new xe(r.seconds,r.nanos)})(t))}function Ov(t,e){return vy(t,e).canonicalString()}function vy(t,e){let n=(function(i){return new Ee(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function VS(t){let e=Ee.fromString(t);return ue($S(e),10190,{key:e.toString()}),e}function _y(t,e){return Ov(t.databaseId,e.path)}function Om(t,e){let n=VS(e);if(n.get(1)!==t.databaseId.projectId)throw new k(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new k(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(BS(n))}function jS(t,e){return Ov(t.databaseId,e)}function A2(t){let e=VS(t);return e.length===4?Ee.emptyPath():BS(e)}function Ey(t){return new Ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BS(t){return ue(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function C0(t,e,n){return{name:_y(t,e),fields:n.value.mapValue.fields}}function M2(t,e){let n;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:q(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,f){return l.useProto3Json?(ue(f===void 0||typeof f=="string",58123),Ye.fromBase64String(f||"")):(ue(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Ye.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&(function(l){let f=l.code===void 0?A.UNKNOWN:FS(l.code);return new k(f,l.message||"")})(s);n=new Ul(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Om(t,r.document.name),o=mn(r.document.updateTime),s=r.document.createTime?mn(r.document.createTime):J.min(),c=new Gt({mapValue:{fields:r.document.fields}}),u=qt.newFoundDocument(i,o,s,c),l=r.targetIds||[],f=r.removedTargetIds||[];n=new Do(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Om(t,r.document),o=r.readTime?mn(r.readTime):J.min(),s=qt.newNoDocument(i,o),c=r.removedTargetIds||[];n=new Do([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Om(t,r.document),o=r.removedTargetIds||[];n=new Do([],o,i,null)}else{if(!("filter"in e))return q(11601,{Rt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new hy(i,o),c=r.targetId;n=new Bl(c,s)}}return n}function N2(t,e){let n;if(e instanceof bi)n={update:C0(t,e.key,e.value)};else if(e instanceof Vl)n={delete:_y(t,e.key)};else if(e instanceof Ln)n={update:C0(t,e.key,e.data),updateMask:j2(e.fieldMask)};else{if(!(e instanceof uy))return q(16599,{Vt:e.type});n={verify:_y(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let c=s.transform;if(c instanceof xo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ti)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ci)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Oo)return{fieldPath:s.field.canonicalString(),increment:c.Ae};throw q(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:S2(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:q(27497)})(t,e.precondition)),n}function R2(t,e){return t&&t.length>0?(ue(e!==void 0,14353),t.map(n=>(function(i,o){let s=i.updateTime?mn(i.updateTime):mn(o);return s.isEqual(J.min())&&(s=mn(o)),new cy(s,i.transformResults||[])})(n,e))):[]}function P2(t,e){return{documents:[jS(t,e.path)]}}function x2(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jS(t,i);let o=(function(l){if(l.length!==0)return HS(zt.create(l,"and"))})(e.filters);o&&(n.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(f=>(function(m){return{field:Eo(m.field),direction:F2(m.dir)}})(f))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);let c=yy(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{ft:n,parent:i}}function O2(t){let e=A2(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ue(r===1,65062);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=(function(p){let m=US(p);return m instanceof zt&&_S(m)?m.getFilters():[m]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map(m=>(function(b){return new Di(Io(b.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(m))})(n.orderBy));let c=null;n.limit&&(c=(function(p){let m;return m=typeof p=="object"?p.value:p,ld(m)?null:m})(n.limit));let u=null;n.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new Ro(y,m)})(n.startAt));let l=null;return n.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new Ro(y,m)})(n.endAt)),o2(e,i,s,o,c,"F",u,l)}function k2(t,e){let n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return q(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function US(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Io(n.unaryFilter.field);return Re.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Io(n.unaryFilter.field);return Re.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Io(n.unaryFilter.field);return Re.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Io(n.unaryFilter.field);return Re.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return q(61313);default:return q(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Re.create(Io(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return q(58110);default:return q(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return zt.create(n.compositeFilter.filters.map(r=>US(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return q(1026)}})(n.compositeFilter.op))})(t):q(30097,{filter:t})}function F2(t){return T2[t]}function L2(t){return C2[t]}function V2(t){return b2[t]}function Eo(t){return{fieldPath:t.canonicalString()}}function Io(t){return Et.fromServerFormat(t.fieldPath)}function HS(t){return t instanceof Re?(function(n){if(n.op==="=="){if(h0(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NAN"}};if(f0(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(h0(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NOT_NAN"}};if(f0(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(n.field),op:L2(n.op),value:n.value}}})(t):t instanceof zt?(function(n){let r=n.getFilters().map(i=>HS(i));return r.length===1?r[0]:{compositeFilter:{op:V2(n.op),filters:r}}})(t):q(54877,{filter:t})}function j2(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $S(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Ca=class t{constructor(e,n,r,i,o=J.min(),s=J.min(),c=Ye.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Iy=class{constructor(e){this.yt=e}};function B2(t){let e=O2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ay(e,e.limit,"L"):e}var Gl=class{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(_e(e.integerValue));else if("doubleValue"in e){let r=_e(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Ia(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=xn(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(On(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?mS(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):gS(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):q(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){let r=e.fields||{};this.Ft(n,55);for(let i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){let r=e.fields||{};this.Ft(n,53);let i=Ao,o=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(_e(o)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){let r=e.values||[];this.Ft(n,50);for(let i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),H.fromName(e).path.forEach(r=>{this.Ft(n,60),this.Ut(r,n)})}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}};Gl.Kt=new Gl;var wy=class{constructor(){this.Cn=new Dy}addToCollectionParentIndex(e,n){return this.Cn.add(n),R.resolve()}getCollectionParents(e,n){return R.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return R.resolve()}deleteFieldIndex(e,n){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,n){return R.resolve()}getDocumentsMatchingTarget(e,n){return R.resolve(null)}getIndexType(e,n){return R.resolve(0)}getFieldIndexes(e,n){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,n){return R.resolve(wi.min())}getMinOffsetFromCollectionGroup(e,n){return R.resolve(wi.min())}updateCollectionGroup(e,n,r){return R.resolve()}updateIndexEntries(e,n){return R.resolve()}},Dy=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new He(Ee.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new He(Ee.comparator)).toArray()}};var tQ=new Uint8Array(0);var b0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GS=41943040,Mt=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Mt.DEFAULT_COLLECTION_PERCENTILE=10,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mt.DEFAULT=new Mt(GS,Mt.DEFAULT_COLLECTION_PERCENTILE,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mt.DISABLED=new Mt(-1,0,0);var ba=class t{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new t(0)}static cr(){return new t(-1)}};var S0="LruGarbageCollector",U2=1048576;function A0([t,e],[n,r]){let i=ie(t,n);return i===0?ie(e,r):i}var Ty=class{constructor(e){this.Ir=e,this.buffer=new He(A0),this.Er=0}dr(){return++this.Er}Ar(e){let n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();A0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},Cy=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){F(S0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Uo(n)?F(S0,"Ignoring IndexedDB error during garbage collection: ",n):await Bo(n)}await this.Vr(3e5)})}},by=class{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return R.resolve(Tv.ce);let r=new Ty(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(F("LruGarbageCollector","Garbage collection skipped; disabled"),R.resolve(b0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),b0):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,c,u,l,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),vo()<=ne.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-f}ms`),R.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function H2(t,e){return new by(t,e)}var Sy=class{constructor(){this.changes=new kn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?R.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Ay=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var My=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&va(r.mutation,i,hn.empty(),xe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){let i=mi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=ha();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=mi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,r,i){let o=Fn(),s=ya(),c=(function(){return ya()})();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Ln)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),va(f.mutation,l,f.mutation.getFieldMask(),xe.now())):s.set(l.key,hn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),n.forEach((l,f)=>c.set(l,new Ay(f,s.get(l)??null))),c))}recalculateAndSaveOverlays(e,n){let r=ya(),i=new Te((s,c)=>s-c),o=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||hn.empty();f=c.applyToLocalView(l,f),r.set(u,f);let p=(i.get(c.batchId)||oe()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,p=AS();f.forEach(m=>{if(!o.has(m)){let y=OS(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return R.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return H.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):DS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):R.resolve(mi()),c=Ea,u=o;return s.next(l=>R.forEach(l,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(f)?R.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,oe())).next(f=>({batchId:c,changes:SS(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=ha();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=ha();return this.indexManager.getCollectionParents(e,o).next(c=>R.forEach(c,u=>{let l=(function(p,m){return new Cr(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,qt.newInvalidDocument(f)))});let c=ha();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&va(f.mutation,l,hn.empty(),xe.now()),hd(n,l)&&(c=c.insert(u,l))}),c})}};var Ny=class{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return R.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:mn(i.createTime)}})(n)),R.resolve()}getNamedQuery(e,n){return R.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:B2(i.bundledQuery),readTime:mn(i.readTime)}})(n)),R.resolve()}};var Ry=class{constructor(){this.overlays=new Te(H.comparator),this.qr=new Map}getOverlay(e,n){return R.resolve(this.overlays.get(n))}getOverlays(e,n){let r=mi();return R.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),R.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),R.resolve()}getOverlaysForCollection(e,n,r){let i=mi(),o=n.length+1,s=new H(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return R.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Te((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=mi(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=mi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return R.resolve(c)}St(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new fy(n,r));let o=this.qr.get(n);o===void 0&&(o=oe(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}};var Py=class{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(e){return R.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,R.resolve()}};var Sa=class{constructor(){this.Qr=new He(Ne.$r),this.Ur=new He(Ne.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){let r=new Ne(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Ne(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){let n=new H(new Ee([])),r=new Ne(n,e),i=new Ne(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){let n=new H(new Ee([])),r=new Ne(n,e),i=new Ne(n,e+1),o=oe();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ne(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ne=class{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return H.comparator(e.key,n.key)||ie(e.Yr,n.Yr)}static Kr(e,n){return ie(e.Yr,n.Yr)||H.comparator(e.key,n.key)}};var xy=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new He(Ne.$r)}checkEmpty(e){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new ly(o,n,r,i);this.mutationQueue.push(s);for(let c of i)this.Zr=this.Zr.add(new Ne(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return R.resolve(s)}lookupMutationBatch(e,n){return R.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.ei(r),o=i<0?0:i;return R.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?Cv:this.tr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ne(n,0),i=new Ne(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{let c=this.Xr(s.Yr);o.push(c)}),R.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new He(ie);return n.forEach(i=>{let o=new Ne(i,0),s=new Ne(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],c=>{r=r.add(c.Yr)})}),R.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;H.isDocumentKey(o)||(o=o.child(""));let s=new Ne(new H(o),0),c=new He(ie);return this.Zr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Yr)),!0)},s),R.resolve(this.ti(c))}ti(e){let n=[];return e.forEach(r=>{let i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ue(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return R.forEach(n.mutations,i=>{let o=new Ne(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){let r=new Ne(n,0),i=this.Zr.firstAfterOrEqual(r);return R.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,R.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){let n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Oy=class{constructor(e){this.ri=e,this.docs=(function(){return new Te(H.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():qt.newInvalidDocument(n))}getEntries(e,n){let r=Fn();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():qt.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Fn(),s=n.path,c=new H(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||BV(jV(f),r)<=0||(i.has(f.key)||hd(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return R.resolve(o)}getAllFromCollectionGroup(e,n,r,i){q(9500)}ii(e,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ky(this)}getSize(e){return R.resolve(this.size)}},ky=class extends Sy{constructor(e){super(),this.Nr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),R.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}};var Fy=class{constructor(e){this.persistence=e,this.si=new kn(n=>Nv(n),Rv),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.oi=0,this._i=new Sa,this.targetCount=0,this.ai=ba.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),R.resolve()}Pr(e){this.si.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.ai=new ba(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,R.resolve()}updateTargetData(e,n){return this.Pr(n),R.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.si.forEach((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),R.waitFor(o).next(()=>i)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,n){let r=this.si.get(n)||null;return R.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),R.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),R.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),R.resolve()}getMatchingKeysForTargetId(e,n){let r=this._i.Hr(n);return R.resolve(r)}containsKey(e,n){return R.resolve(this._i.containsKey(n))}};var ql=class{constructor(e,n){this.ui={},this.overlays={},this.ci=new Tv(0),this.li=!1,this.li=!0,this.hi=new Py,this.referenceDelegate=e(this),this.Pi=new Fy(this),this.indexManager=new wy,this.remoteDocumentCache=(function(i){return new Oy(i)})(r=>this.referenceDelegate.Ti(r)),this.serializer=new Iy(n),this.Ii=new Ny(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ry,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new xy(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){F("MemoryPersistence","Starting transaction:",e);let i=new Ly(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return R.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}},Ly=class extends zm{constructor(e){super(),this.currentSequenceNumber=e}},Vy=class t{constructor(e){this.persistence=e,this.Ri=new Sa,this.Vi=null}static mi(e){return new t(e)}get fi(){if(this.Vi)return this.Vi;throw q(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),R.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),R.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.fi,r=>{let i=H.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,J.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return R.or([()=>R.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}},zl=class t{constructor(e,n){this.persistence=e,this.pi=new kn(r=>GV(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=H2(this,n)}static mi(e,n){return new t(e,n)}Ei(){}di(e){return R.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){let n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return R.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?R.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(c=>{c||(r++,o.removeEntry(s,J.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),R.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),R.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),R.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),R.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Sl(e.data.value)),n}br(e,n,r){return R.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.pi.get(n);return R.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var jy=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=oe(),i=oe();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var By=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Uy=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Ob()?8:HV(Be())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new By;return this.Ss(e,n,s).next(c=>{if(o.result=c,this.Vs)return this.bs(e,n,s,c.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(vo()<=ne.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",_o(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),R.resolve()):(vo()<=ne.DEBUG&&F("QueryEngine","Query:",_o(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(vo()<=ne.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",_o(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gn(n))):R.resolve())}ys(e,n){if(y0(n))return R.resolve(null);let r=gn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ay(n,null,"F"),r=gn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=oe(...o);return this.ps.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.Ds(n,c);return this.Cs(n,l,s,u.readTime)?this.ys(e,ay(n,null,"F")):this.vs(e,l,n,u)}))})))}ws(e,n,r,i){return y0(n)||i.isEqual(J.min())?R.resolve(null):this.ps.getDocuments(e,r).next(o=>{let s=this.Ds(n,o);return this.Cs(n,s,r,i)?R.resolve(null):(vo()<=ne.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_o(n)),this.vs(e,s,n,VV(i,Ea)).next(c=>c))})}Ds(e,n){let r=new He(CS(e));return n.forEach((i,o)=>{hd(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return vo()<=ne.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",_o(n)),this.ps.getDocumentsMatchingQuery(e,n,wi.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var kv="LocalStore",$2=3e8,Hy=class{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Te(ie),this.xs=new kn(o=>Nv(o),Rv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new My(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}};function G2(t,e,n,r){return new Hy(t,e,n,r)}async function qS(t,e){let n=Y(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=oe();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Ls:l,removedBatchIds:s,addedBatchIds:c}))})})}function q2(t,e){let n=Y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,u,l,f){let p=l.batch,m=p.keys(),y=R.resolve();return m.forEach(b=>{y=y.next(()=>f.getEntry(u,b)).next(M=>{let N=l.docVersions.get(b);ue(N!==null,48541),M.version.compareTo(N)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),f.addEntry(M)))})}),y.next(()=>c.mutationQueue.removeMutationBatch(u,p))})(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let u=oe();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u})(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function zS(t){let e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function z2(t,e){let n=Y(t),r=e.snapshotVersion,i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;let c=[];e.targetChanges.forEach((f,p)=>{let m=i.get(p);if(!m)return;c.push(n.Pi.removeMatchingKeys(o,f.removedDocuments,p).next(()=>n.Pi.addMatchingKeys(o,f.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Ye.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(p,y),(function(M,N,V){return M.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=$2?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(m,y,f)&&c.push(n.Pi.updateTargetData(o,y))});let u=Fn(),l=oe();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(W2(o,s,e.documentUpdates).next(f=>{u=f.ks,l=f.qs})),!r.isEqual(J.min())){let f=n.Pi.getLastRemoteSnapshotVersion(o).next(p=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(f)}return R.waitFor(c).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Ms=i,o))}function W2(t,e,n){let r=oe(),i=oe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Fn();return n.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):F(kv,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{ks:s,qs:i}})}function K2(t,e){let n=Y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Cv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Q2(t,e){let n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,R.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new Ca(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function $y(t,e,n){let r=Y(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Uo(s))throw s;F(kv,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function M0(t,e,n){let r=Y(t),i=J.min(),o=oe();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,f){let p=Y(u),m=p.xs.get(f);return m!==void 0?R.resolve(p.Ms.get(m)):p.Pi.getTargetData(l,f)})(r,s,gn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:J.min(),n?o:oe())).next(c=>(Y2(r,a2(e),c),{documents:c,Qs:o})))}function Y2(t,e,n){let r=t.Os.get(e)||J.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}var Wl=class{constructor(){this.activeTargetIds=h2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Gy=class{constructor(){this.Mo=new Wl,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Wl,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var qy=class{Oo(e){}shutdown(){}};var N0="ConnectivityMonitor",Kl=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){F(N0,"Network connectivity changed: AVAILABLE");for(let e of this.qo)e(0)}ko(){F(N0,"Network connectivity changed: UNAVAILABLE");for(let e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var bl=null;function zy(){return bl===null?bl=(function(){return 268435456+Math.round(2147483648*Math.random())})():bl++,"0x"+bl.toString(16)}var km="RestConnection",J2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Wy=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===kl?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){let s=zy(),c=this.zo(e,n.toUriEncodedString());F(km,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,o);let{host:l}=new URL(c),f=gr(l);return this.Jo(e,c,u,r,f).then(p=>(F(km,`Received RPC '${e}' ${s}: `,p),p),p=>{throw bo(km,`RPC '${e}' ${s} failed with error: `,p,"url: ",c,"request:",r),p})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){let r=J2[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}};var Ky=class{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}};var Ke="WebChannelConnection",Qy=class extends Wy{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){let s=zy();return new Promise((c,u)=>{let l=new Am;l.setWithCredentials(!0),l.listenOnce(Mm.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case fa.NO_ERROR:let p=l.getResponseJson();F(Ke,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),c(p);break;case fa.TIMEOUT:F(Ke,`RPC '${e}' ${s} timed out`),u(new k(A.DEADLINE_EXCEEDED,"Request time out"));break;case fa.HTTP_ERROR:let m=l.getStatus();if(F(Ke,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let b=y?.error;if(b&&b.status&&b.message){let M=(function(V){let Z=V.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(Z)>=0?Z:A.UNKNOWN})(b.status);u(new k(M,b.message))}else u(new k(A.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new k(A.UNAVAILABLE,"Connection failed."));break;default:q(9055,{l_:e,streamId:s,h_:l.getLastErrorCode(),P_:l.getLastError()})}}finally{F(Ke,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(i);F(Ke,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",f,r,15)})}T_(e,n,r){let i=zy(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Pm(),c=Rm(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=o.join("");F(Ke,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=s.createWebChannel(f,u);this.I_(p);let m=!1,y=!1,b=new Ky({Yo:N=>{y?F(Ke,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(m||(F(Ke,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),F(Ke,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},Zo:()=>p.close()}),M=(N,V,Z)=>{N.listen(V,re=>{try{Z(re)}catch(Oe){setTimeout(()=>{throw Oe},0)}})};return M(p,yo.EventType.OPEN,()=>{y||(F(Ke,`RPC '${e}' stream ${i} transport opened.`),b.o_())}),M(p,yo.EventType.CLOSE,()=>{y||(y=!0,F(Ke,`RPC '${e}' stream ${i} transport closed`),b.a_(),this.E_(p))}),M(p,yo.EventType.ERROR,N=>{y||(y=!0,bo(Ke,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),b.a_(new k(A.UNAVAILABLE,"The operation could not be completed")))}),M(p,yo.EventType.MESSAGE,N=>{if(!y){let V=N.data[0];ue(!!V,16349);let Z=V,re=Z?.error||Z[0]?.error;if(re){F(Ke,`RPC '${e}' stream ${i} received error:`,re);let Oe=re.status,qe=(function(v){let E=Me[v];if(E!==void 0)return FS(E)})(Oe),Ve=re.message;qe===void 0&&(qe=A.INTERNAL,Ve="Unknown error status: "+Oe+" with message "+re.message),y=!0,b.a_(new k(qe,Ve)),p.close()}else F(Ke,`RPC '${e}' stream ${i} received:`,V),b.u_(V)}}),M(c,Nm.STAT_EVENT,N=>{N.stat===Dl.PROXY?F(Ke,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Dl.NOPROXY&&F(Ke,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}};function Fm(){return typeof document<"u"?document:null}function pd(t){return new my(t,!0)}var Ql=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}};var R0="PersistentStream",Yl=class{constructor(e,n,r,i,o,s,c,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ql(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===A.RESOURCE_EXHAUSTED?(Pn(n.toString()),Pn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===A.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;let e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{let i=new k(A.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){let r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return F(R0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(F(R0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Yy=class extends Yl{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();let n=M2(this.serializer,e),r=(function(o){if(!("targetChange"in o))return J.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?J.min():s.readTime?mn(s.readTime):J.min()})(e);return this.listener.H_(n,r)}Y_(e){let n={};n.database=Ey(this.serializer),n.addTarget=(function(o,s){let c,u=s.target;if(c=oy(u)?{documents:P2(o,u)}:{query:x2(o,u).ft},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=LS(o,s.resumeToken);let l=yy(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(J.min())>0){c.readTime=$l(o,s.snapshotVersion.toTimestamp());let l=yy(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c})(this.serializer,e);let r=k2(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){let n={};n.database=Ey(this.serializer),n.removeTarget=e,this.q_(n)}},Jy=class extends Yl{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ue(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ue(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ue(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let n=R2(e.writeResults,e.commitTime),r=mn(e.commitTime);return this.listener.na(r,n)}ra(){let e={};e.database=Ey(this.serializer),this.q_(e)}ea(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>N2(this.serializer,r))};this.q_(n)}};var Zy=class{},Xy=class extends Zy{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new k(A.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,vy(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new k(A.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Ho(e,vy(n,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new k(A.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}},ev=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pn(n),this.aa=!1):F("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};var Si="RemoteStore",tv=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{Ni(this)&&(F(Si,"Restarting streams for network reachability change."),await(async function(u){let l=Y(u);l.Ea.add(4),await Ra(l),l.Ra.set("Unknown"),l.Ea.delete(4),await gd(l)})(this))})}),this.Ra=new ev(r,i)}};async function gd(t){if(Ni(t))for(let e of t.da)await e(!0)}async function Ra(t){for(let e of t.da)await e(!1)}function WS(t,e){let n=Y(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),jv(n)?Vv(n):Ho(n).O_()&&Lv(n,e))}function Fv(t,e){let n=Y(t),r=Ho(n);n.Ia.delete(e),r.O_()&&KS(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ni(n)&&n.Ra.set("Unknown"))}function Lv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ho(t).Y_(e)}function KS(t,e){t.Va.Ue(e),Ho(t).Z_(e)}function Vv(t){t.Va=new gy({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ho(t).start(),t.Ra.ua()}function jv(t){return Ni(t)&&!Ho(t).x_()&&t.Ia.size>0}function Ni(t){return Y(t).Ea.size===0}function QS(t){t.Va=void 0}async function Z2(t){t.Ra.set("Online")}async function X2(t){t.Ia.forEach((e,n)=>{Lv(t,e)})}async function ej(t,e){QS(t),jv(t)?(t.Ra.ha(e),Vv(t)):t.Ra.set("Unknown")}async function tj(t,e,n){if(t.Ra.set("Online"),e instanceof Ul&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let c of o.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,s),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){F(Si,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jl(t,r)}else if(e instanceof Do?t.Va.Ze(e):e instanceof Bl?t.Va.st(e):t.Va.tt(e),!n.isEqual(J.min()))try{let r=await zS(t.localStore);n.compareTo(r)>=0&&await(function(o,s){let c=o.Va.Tt(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.Ia.get(l);f&&o.Ia.set(l,f.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let f=o.Ia.get(u);if(!f)return;o.Ia.set(u,f.withResumeToken(Ye.EMPTY_BYTE_STRING,f.snapshotVersion)),KS(o,u);let p=new Ca(f.target,u,l,f.sequenceNumber);Lv(o,p)}),o.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){F(Si,"Failed to raise snapshot:",r),await Jl(t,r)}}async function Jl(t,e,n){if(!Uo(e))throw e;t.Ea.add(1),await Ra(t),t.Ra.set("Offline"),n||(n=()=>zS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{F(Si,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await gd(t)})}function YS(t,e){return e().catch(n=>Jl(t,n,e))}async function md(t){let e=Y(t),n=br(e),r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cv;for(;nj(e);)try{let i=await K2(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,rj(e,i)}catch(i){await Jl(e,i)}JS(e)&&ZS(e)}function nj(t){return Ni(t)&&t.Ta.length<10}function rj(t,e){t.Ta.push(e);let n=br(t);n.O_()&&n.X_&&n.ea(e.mutations)}function JS(t){return Ni(t)&&!br(t).x_()&&t.Ta.length>0}function ZS(t){br(t).start()}async function ij(t){br(t).ra()}async function oj(t){let e=br(t);for(let n of t.Ta)e.ea(n.mutations)}async function sj(t,e,n){let r=t.Ta.shift(),i=dy.from(r,e,n);await YS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await md(t)}async function aj(t,e){e&&br(t).X_&&await(async function(r,i){if((function(s){return E2(s)&&s!==A.ABORTED})(i.code)){let o=r.Ta.shift();br(r).B_(),await YS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await md(r)}})(t,e),JS(t)&&ZS(t)}async function P0(t,e){let n=Y(t);n.asyncQueue.verifyOperationInProgress(),F(Si,"RemoteStore received new credentials");let r=Ni(n);n.Ea.add(3),await Ra(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await gd(n)}async function cj(t,e){let n=Y(t);e?(n.Ea.delete(2),await gd(n)):e||(n.Ea.add(2),await Ra(n),n.Ra.set("Unknown"))}function Ho(t){return t.ma||(t.ma=(function(n,r,i){let o=Y(n);return o.sa(),new Yy(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Z2.bind(null,t),t_:X2.bind(null,t),r_:ej.bind(null,t),H_:tj.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),jv(t)?Vv(t):t.Ra.set("Unknown")):(await t.ma.stop(),QS(t))})),t.ma}function br(t){return t.fa||(t.fa=(function(n,r,i){let o=Y(n);return o.sa(),new Jy(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:ij.bind(null,t),r_:aj.bind(null,t),ta:oj.bind(null,t),na:sj.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await md(t)):(await t.fa.stop(),t.Ta.length>0&&(F(Si,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}var nv=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,c=new t(e,n,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new k(A.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Bv(t,e){if(Pn("AsyncQueue",`${e}: ${t}`),Uo(t))return new k(A.UNAVAILABLE,`${e}: ${t}`);throw t}var Zl=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=ha(),this.sortedSet=new Te(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Xl=class{constructor(){this.ga=new Te(H.comparator)}track(e){let n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):q(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){let e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}},Fo=class t{constructor(e,n,r,i,o,s,c,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(c=>{s.push({type:0,doc:c})}),new t(e,n,Zl.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var rv=class{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}},iv=class{constructor(){this.queries=x0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){let i=Y(n),o=i.queries;i.queries=x0(),o.forEach((s,c)=>{for(let u of c.Sa)u.onError(r)})})(this,new k(A.ABORTED,"Firestore shutting down"))}};function x0(){return new kn(t=>TS(t),fd)}async function uj(t,e){let n=Y(t),r=3,i=e.query,o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new rv,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){let c=Bv(s,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Uv(n)}async function lj(t,e){let n=Y(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function dj(t,e){let n=Y(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let c of s.Sa)c.Fa(i)&&(r=!0);s.wa=i}}r&&Uv(n)}function fj(t,e,n){let r=Y(t),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(n);r.queries.delete(e)}function Uv(t){t.Ca.forEach(e=>{e.next()})}var ov,O0;(O0=ov||(ov={})).Ma="default",O0.Cache="cache";var sv=class{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Fo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;let r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;let n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ov.Cache}};var ed=class{constructor(e){this.key=e}},td=class{constructor(e){this.key=e}},av=class{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=oe(),this.mutatedKeys=oe(),this.eu=CS(e),this.tu=new Zl(this.eu)}get nu(){return this.Ya}ru(e,n){let r=n?n.iu:new Xl,i=n?n.tu:this.tu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let m=i.get(f),y=hd(this.query,p)?p:null,b=!!m&&this.mutatedKeys.has(m.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),N=!1;m&&y?m.data.isEqual(y.data)?b!==M&&(r.track({type:3,doc:y}),N=!0):this.su(m,y)||(r.track({type:2,doc:y}),N=!0,(u&&this.eu(y,u)>0||l&&this.eu(y,l)<0)&&(c=!0)):!m&&y?(r.track({type:0,doc:y}),N=!0):m&&!y&&(r.track({type:1,doc:m}),N=!0,(u||l)&&(c=!0)),N&&(y?(s=s.add(y),o=M?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{tu:s,iu:r,Cs:c,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let s=e.iu.ya();s.sort((f,p)=>(function(y,b){let M=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q(20277,{Rt:N})}};return M(y)-M(b)})(f.type,p.type)||this.eu(f.doc,p.doc)),this.ou(r),i=i??!1;let c=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,l=u!==this.Za;return this.Za=u,s.length!==0||l?{snapshot:new Fo(this.query,e.tu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Xl,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Xa;this.Xa=oe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});let n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new td(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new ed(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=oe();let n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}},Hv="SyncEngine",cv=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},uv=class{constructor(e){this.key=e,this.hu=!1}},lv=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new kn(c=>TS(c),fd),this.Iu=new Map,this.Eu=new Set,this.du=new Te(H.comparator),this.Au=new Map,this.Ru=new Sa,this.Vu={},this.mu=new Map,this.fu=ba.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};async function hj(t,e,n=!0){let r=iA(t),i,o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await XS(r,e,n,!0),i}async function pj(t,e){let n=iA(t);await XS(n,e,!0,!1)}async function XS(t,e,n,r){let i=await Q2(t.localStore,gn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),c;return r&&(c=await gj(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&WS(t.remoteStore,i),c}async function gj(t,e,n,r,i){t.pu=(p,m,y)=>(async function(M,N,V,Z){let re=N.view.ru(V);re.Cs&&(re=await M0(M.localStore,N.query,!1).then(({documents:w})=>N.view.ru(w,re)));let Oe=Z&&Z.targetChanges.get(N.targetId),qe=Z&&Z.targetMismatches.get(N.targetId)!=null,Ve=N.view.applyChanges(re,M.isPrimaryClient,Oe,qe);return F0(M,N.targetId,Ve.au),Ve.snapshot})(t,p,m,y);let o=await M0(t.localStore,e,!0),s=new av(e,o.Qs),c=s.ru(o.documents),u=Ta.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(c,t.isPrimaryClient,u);F0(t,n,l.au);let f=new cv(e,n,s);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),l.snapshot}async function mj(t,e,n){let r=Y(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!fd(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await $y(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Fv(r.remoteStore,i.targetId),dv(r,i.targetId)}).catch(Bo)):(dv(r,i.targetId),await $y(r.localStore,i.targetId,!0))}async function yj(t,e){let n=Y(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Fv(n.remoteStore,r.targetId))}async function vj(t,e,n){let r=Cj(t);try{let i=await(function(s,c){let u=Y(s),l=xe.now(),f=c.reduce((y,b)=>y.add(b.key),oe()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=Fn(),M=oe();return u.Ns.getEntries(y,f).next(N=>{b=N,b.forEach((V,Z)=>{Z.isValidDocument()||(M=M.add(V))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,b)).next(N=>{p=N;let V=[];for(let Z of c){let re=_2(Z,p.get(Z.key).overlayedDocument);re!=null&&V.push(new Ln(Z.key,re,yS(re.value.mapValue),_i.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,V,c)}).next(N=>{m=N;let V=N.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(y,N.batchId,V)})}).then(()=>({batchId:m.batchId,changes:SS(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,c,u){let l=s.Vu[s.currentUser.toKey()];l||(l=new Te(ie)),l=l.insert(c,u),s.Vu[s.currentUser.toKey()]=l})(r,i.batchId,n),await Pa(r,i.changes),await md(r.remoteStore)}catch(i){let o=Bv(i,"Failed to persist write");n.reject(o)}}async function eA(t,e){let n=Y(t);try{let r=await z2(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Au.get(o);s&&(ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?ue(s.hu,14607):i.removedDocuments.size>0&&(ue(s.hu,42227),s.hu=!1))}),await Pa(n,r,e)}catch(r){await Bo(r)}}function k0(t,e,n){let r=Y(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Tu.forEach((o,s)=>{let c=s.view.va(e);c.snapshot&&i.push(c.snapshot)}),(function(s,c){let u=Y(s);u.onlineState=c;let l=!1;u.queries.forEach((f,p)=>{for(let m of p.Sa)m.va(c)&&(l=!0)}),l&&Uv(u)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _j(t,e,n){let r=Y(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Au.get(e),o=i&&i.key;if(o){let s=new Te(H.comparator);s=s.insert(o,qt.newNoDocument(o,J.min()));let c=oe().add(o),u=new jl(J.min(),new Map,new Te(ie),s,c);await eA(r,u),r.du=r.du.remove(o),r.Au.delete(e),$v(r)}else await $y(r.localStore,e,!1).then(()=>dv(r,e,n)).catch(Bo)}async function Ej(t,e){let n=Y(t),r=e.batch.batchId;try{let i=await q2(n.localStore,e);nA(n,r,null),tA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pa(n,i)}catch(i){await Bo(i)}}async function Ij(t,e,n){let r=Y(t);try{let i=await(function(s,c){let u=Y(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(ue(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})})(r.localStore,e);nA(r,e,n),tA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Pa(r,i)}catch(i){await Bo(i)}}function tA(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function nA(t,e,n){let r=Y(t),i=r.Vu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function dv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||rA(t,r)})}function rA(t,e){t.Eu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(Fv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),$v(t))}function F0(t,e,n){for(let r of n)r instanceof ed?(t.Ru.addReference(r.key,e),wj(t,r)):r instanceof td?(F(Hv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||rA(t,r.key)):q(19791,{wu:r})}function wj(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(F(Hv,"New document in limbo: "+n),t.Eu.add(r),$v(t))}function $v(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Eu.values().next().value;t.Eu.delete(e);let n=new H(Ee.fromString(e)),r=t.fu.next();t.Au.set(r,new uv(n)),t.du=t.du.insert(n,r),WS(t.remoteStore,new Ca(gn(Pv(n.path)),r,"TargetPurposeLimboResolution",Tv.ce))}}async function Pa(t,e,n){let r=Y(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((c,u)=>{s.push(r.pu(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient){let f=l?!l.fromCache:n?.targetChanges.get(u.targetId)?.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(l){i.push(l);let f=jy.As(u.targetId,l);o.push(f)}}))}),await Promise.all(s),r.Pu.H_(i),await(async function(u,l){let f=Y(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>R.forEach(l,m=>R.forEach(m.Es,y=>f.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>R.forEach(m.ds,y=>f.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Uo(p))throw p;F(kv,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=f.Ms.get(m),b=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(b);f.Ms=f.Ms.insert(m,M)}}})(r.localStore,o))}async function Dj(t,e){let n=Y(t);if(!n.currentUser.isEqual(e)){F(Hv,"User change. New user:",e.toKey());let r=await qS(n.localStore,e);n.currentUser=e,(function(o,s){o.mu.forEach(c=>{c.forEach(u=>{u.reject(new k(A.CANCELLED,s))})}),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pa(n,r.Ls)}}function Tj(t,e){let n=Y(t),r=n.Au.get(e);if(r&&r.hu)return oe().add(r.key);{let i=oe(),o=n.Iu.get(e);if(!o)return i;for(let s of o){let c=n.Tu.get(s);i=i.unionWith(c.view.nu)}return i}}function iA(t){let e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_j.bind(null,e),e.Pu.H_=dj.bind(null,e.eventManager),e.Pu.yu=fj.bind(null,e.eventManager),e}function Cj(t){let e=Y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ej.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ij.bind(null,e),e}var oA=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=pd(n.databaseInfo.databaseId),this.sharedClientState=this.Du(n),this.persistence=this.Cu(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Fu(n,this.localStore),this.indexBackfillerScheduler=this.Mu(n,this.localStore)}Fu(n,r){return null}Mu(n,r){return null}vu(n){return G2(this.persistence,new Uy,n.initialUser,this.serializer)}Cu(n){return new ql(Vy.mi,this.serializer)}Du(n){return new Gy}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return t.provider={build:()=>new t},t})(),fv=class extends oA{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ue(this.persistence.referenceDelegate instanceof zl,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Cy(r,e.asyncQueue,n)}Cu(e){let n=this.cacheSizeBytes!==void 0?Mt.withCacheSize(this.cacheSizeBytes):Mt.DEFAULT;return new ql(r=>zl.mi(r,n),this.serializer)}};var bj=(()=>{class t{async initialize(n,r){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>k0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Dj.bind(null,this.syncEngine),await cj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new iv})()}createDatastore(n){let r=pd(n.databaseInfo.databaseId),i=(function(s){return new Qy(s)})(n.databaseInfo);return(function(s,c,u,l){return new Xy(s,c,u,l)})(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return(function(i,o,s,c,u){return new tv(i,o,s,c,u)})(this.localStore,this.datastore,n.asyncQueue,r=>k0(this.syncEngine,r,0),(function(){return Kl.v()?new Kl:new qy})())}createSyncEngine(n,r){return(function(o,s,c,u,l,f,p){let m=new lv(o,s,c,u,l,f);return p&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){let i=Y(r);F(Si,"RemoteStore shutting down."),i.Ea.add(5),await Ra(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}return t.provider={build:()=>new t},t})();var hv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Pn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Sr="FirestoreClient",pv=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ue.UNAUTHENTICATED,this.clientId=_a.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{F(Sr,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(F(Sr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Bv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function Lm(t,e){t.asyncQueue.verifyOperationInProgress(),F(Sr,"Initializing OfflineComponentProvider");let n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await qS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function L0(t,e){t.asyncQueue.verifyOperationInProgress();let n=await Sj(t);F(Sr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>P0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>P0(e.remoteStore,i)),t._onlineComponents=e}async function Sj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){F(Sr,"Using user provided OfflineComponentProvider");try{await Lm(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===A.FAILED_PRECONDITION||i.code===A.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;bo("Error using user provided cache. Falling back to memory cache: "+n),await Lm(t,new oA)}}else F(Sr,"Using default OfflineComponentProvider"),await Lm(t,new fv(void 0));return t._offlineComponents}async function sA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(F(Sr,"Using user provided OnlineComponentProvider"),await L0(t,t._uninitializedComponentsProvider._online)):(F(Sr,"Using default OnlineComponentProvider"),await L0(t,new bj))),t._onlineComponents}function Aj(t){return sA(t).then(e=>e.syncEngine)}async function V0(t){let e=await sA(t),n=e.eventManager;return n.onListen=hj.bind(null,e.syncEngine),n.onUnlisten=mj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=yj.bind(null,e.syncEngine),n}function aA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var j0=new Map;var cA="firestore.googleapis.com",B0=!0,nd=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new k(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cA,this.ssl=B0}else this.host=e.host,this.ssl=e.ssl??B0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<U2)throw new k(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new k(A.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new k(A.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new k(A.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Lo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nd({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new k(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new k(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nd(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Vm;switch(r.type){case"firstParty":return new Hm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new k(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=j0.get(n);r&&(F("ComponentProvider","Removing Datastore"),j0.delete(n),r.terminate())})(this),Promise.resolve()}};function Mj(t,e,n,r={}){t=pa(t,Lo);let i=gr(e),o=t._getSettings(),s=te(j({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;i&&(ml(`https://${c}`),yl("Firestore",!0)),o.host!==cA&&o.host!==c&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=te(j({},o),{host:c,ssl:i,emulatorOptions:r});if(!dn(u,s)&&(t._setSettings(u),r.mockUserToken)){let l,f;if(typeof r.mockUserToken=="string")l=r.mockUserToken,f=Ue.MOCK_USER;else{l=Ab(r.mockUserToken,t._app?.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new k(A.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ue(p)}t._authCredentials=new jm(new Nl(l,f))}}var Ai=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Qe=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Er(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Na(n,t._jsonSchema))return new t(e,r||null,new H(Ee.fromString(n.referencePath)))}};Qe._jsonSchemaVersion="firestore/documentReference/1.0",Qe._jsonSchema={type:Pe("string",Qe._jsonSchemaVersion),referencePath:Pe("string")};var Er=class t extends Ai{constructor(e,n,r){super(e,n,Pv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Qe(this.firestore,null,new H(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Gv(t,e,...n){if(t=rt(t),W0("collection","path",e),t instanceof Lo){let r=Ee.fromString(e,...n);return i0(r),new Er(t,null,r)}{if(!(t instanceof Qe||t instanceof Er))throw new k(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ee.fromString(e,...n));return i0(r),new Er(t.firestore,null,r)}}function Nj(t,e,...n){if(t=rt(t),arguments.length===1&&(e=_a.newId()),W0("doc","path",e),t instanceof Lo){let r=Ee.fromString(e,...n);return r0(r),new Qe(t,null,new H(r))}{if(!(t instanceof Qe||t instanceof Er))throw new k(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ee.fromString(e,...n));return r0(r),new Qe(t.firestore,t instanceof Er?t.converter:null,new H(r))}}var U0="AsyncQueue",rd=class{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ql(this,"async_queue_retry"),this._c=()=>{let r=Fm();r&&F(U0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;let n=Fm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let n=Fm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let n=new Rn;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Uo(e))throw e;F(U0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){let n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Pn("INTERNAL UNHANDLED ERROR: ",H0(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);let i=nv.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&q(47125,{Pc:H0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){let n=this.tc.indexOf(e);this.tc.splice(n,1)}};function H0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function $0(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}var Vo=class extends Lo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new rd,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new rd(e),this._firestoreClient=void 0,await e}}};function uA(t,e){let n=typeof t=="object"?t:Il(),r=typeof t=="string"?t:e||kl,i=da(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Sb("firestore");o&&Mj(i,...o)}return i}function lA(t){if(t._terminated)throw new k(A.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Rj(t),t._firestoreClient}function Rj(t){let e=t._freezeSettings(),n=(function(i,o,s,c){return new Wm(i,o,s,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,aA(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new pv(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){let o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(t._componentsProvider))}var Ir=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Ye.fromBase64String(e))}catch(n){throw new k(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Ye.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Na(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};Ir._jsonSchemaVersion="firestore/bytes/1.0",Ir._jsonSchema={type:Pe("string",Ir._jsonSchemaVersion),bytes:Pe("string")};var Aa=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new k(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var id=class{constructor(e){this._methodName=e}};var wr=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new k(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new k(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(Na(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};wr._jsonSchemaVersion="firestore/geoPoint/1.0",wr._jsonSchema={type:Pe("string",wr._jsonSchemaVersion),latitude:Pe("number"),longitude:Pe("number")};var Dr=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Na(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new k(A.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Dr._jsonSchemaVersion="firestore/vectorValue/1.0",Dr._jsonSchema={type:Pe("string",Dr._jsonSchemaVersion),vectorValues:Pe("object")};var Pj=/^__.*__$/,gv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ln(e,this.data,this.fieldMask,n,this.fieldTransforms):new bi(e,this.data,n,this.fieldTransforms)}};function dA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q(40011,{Ac:t})}}var mv=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new t(j(j({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){let n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){let n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return od(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(dA(this.Ac)&&Pj.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}},yv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||pd(e)}Cc(e,n,r,i=!1){return new mv({Ac:e,methodName:n,Dc:r,path:Et.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function fA(t){let e=t._freezeSettings(),n=pd(t._databaseId);return new yv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xj(t,e,n,r,i,o={}){let s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);gA("Data must be an object, but it was:",s,r);let c=hA(r,s),u,l;if(o.merge)u=new hn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let p of o.mergeFields){let m=kj(e,p,n);if(!s.contains(m))throw new k(A.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);Lj(f,m)||f.push(m)}u=new hn(f),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new gv(new Gt(c),u,l)}function Oj(t,e,n,r=!1){return qv(n,t.Cc(r?4:3,e))}function qv(t,e){if(pA(t=rt(t)))return gA("Unsupported field value:",e,t),hA(t,e);if(t instanceof id)return(function(r,i){if(!dA(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let c of r){let u=qv(c,i.wc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return p2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=xe.fromDate(r);return{timestampValue:$l(i.serializer,o)}}if(r instanceof xe){let o=new xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$l(i.serializer,o)}}if(r instanceof wr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ir)return{bytesValue:LS(i.serializer,r._byteString)};if(r instanceof Qe){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ov(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Dr)return(function(s,c){return{mapValue:{fields:{[Sv]:{stringValue:Av},[Ao]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw c.Sc("VectorValues must only contain numeric values.");return xv(c.serializer,l)})}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${ud(r)}`)})(t,e)}function hA(t,e){let n={};return uS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mi(t,(r,i)=>{let o=qv(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function pA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xe||t instanceof wr||t instanceof Ir||t instanceof Qe||t instanceof id||t instanceof Dr)}function gA(t,e,n){if(!pA(n)||!K0(n)){let r=ud(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function kj(t,e,n){if((e=rt(e))instanceof Aa)return e._internalPath;if(typeof e=="string")return mA(t,e);throw od("Field path arguments must be of type string or ",t,!1,void 0,n)}var Fj=new RegExp("[~\\*/\\[\\]]");function mA(t,e,n){if(e.search(Fj)>=0)throw od(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Aa(...e.split("."))._internalPath}catch{throw od(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function od(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new k(A.INVALID_ARGUMENT,c+t+u)}function Lj(t,e){return t.some(n=>n.isEqual(e))}var sd=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new vv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(zv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},vv=class extends sd{data(){return super.data()}};function zv(t,e){return typeof e=="string"?mA(t,e):e instanceof Aa?e._internalPath:e._delegate._internalPath}function Vj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new k(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ma=class{},ad=class extends Ma{};function yA(t,e,...n){let r=[];e instanceof Ma&&r.push(e),r=r.concat(n),(function(o){let s=o.filter(u=>u instanceof Ev).length,c=o.filter(u=>u instanceof _v).length;if(s>1||s>0&&c>0)throw new k(A.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)t=i._apply(t);return t}var _v=class t extends ad{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return _A(e._query,n),new Ai(e.firestore,e.converter,sy(e._query,n))}_parse(e){let n=fA(e.firestore);return(function(o,s,c,u,l,f,p){let m;if(l.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new k(A.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){q0(p,f);let b=[];for(let M of p)b.push(G0(u,o,M));m={arrayValue:{values:b}}}else m=G0(u,o,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||q0(p,f),m=Oj(c,s,p,f==="in"||f==="not-in");return Re.create(l,f,m)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var Ev=class t extends Ma{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:zt.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let s=i,c=o.getFlattenedFilters();for(let u of c)_A(s,u),s=sy(s,u)})(e._query,n),new Ai(e.firestore,e.converter,sy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Iv=class t extends ad{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=(function(i,o,s){if(i.startAt!==null)throw new k(A.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new k(A.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Di(o,s)})(e._query,this._field,this._direction);return new Ai(e.firestore,e.converter,(function(i,o){let s=i.explicitOrderBy.concat([o]);return new Cr(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}};function vA(t,e="asc"){let n=e,r=zv("orderBy",t);return Iv._create(r,n)}function G0(t,e,n){if(typeof(n=rt(n))=="string"){if(n==="")throw new k(A.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DS(e)&&n.indexOf("/")!==-1)throw new k(A.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ee.fromString(n));if(!H.isDocumentKey(r))throw new k(A.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return d0(t,new H(r))}if(n instanceof Qe)return d0(t,n._key);throw new k(A.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ud(n)}.`)}function q0(t,e){if(!Array.isArray(t)||t.length===0)throw new k(A.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _A(t,e){let n=(function(i,o){for(let s of i)for(let c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new k(A.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new k(A.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var wv=class{convertValue(e,n="none"){switch(Tr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(On(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw q(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Mi(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){let n=e.fields?.[Ao].arrayValue?.values?.map(r=>_e(r.doubleValue));return new Dr(n)}convertGeoPoint(e){return new wr(_e(e.latitude),_e(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=dd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wa(e));default:return null}}convertTimestamp(e){let n=xn(e);return new xe(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ee.fromString(e);ue($S(r),9688,{name:e});let i=new Fl(r.get(1),r.get(3)),o=new H(r.popFirst(5));return i.isEqual(n)||Pn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function jj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var vi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ei=class t extends sd{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new To(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(zv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new k(A.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Ei._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ei._jsonSchema={type:Pe("string",Ei._jsonSchemaVersion),bundleSource:Pe("string","DocumentSnapshot"),bundleName:Pe("string"),bundle:Pe("string")};var To=class extends Ei{data(e={}){return super.data(e)}},Co=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new vi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new To(this._firestore,this._userDataWriter,r.key,r,new vi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new k(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new To(i._firestore,i._userDataWriter,c.doc.key,c.doc,new vi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new To(i._firestore,i._userDataWriter,c.doc.key,c.doc,new vi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:Bj(c.type),doc:u,oldIndex:l,newIndex:f}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new k(A.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_a.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Bj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return q(61501,{type:t})}}Co._jsonSchemaVersion="firestore/querySnapshot/1.0",Co._jsonSchema={type:Pe("string",Co._jsonSchemaVersion),bundleSource:Pe("string","QuerySnapshot"),bundleName:Pe("string"),bundle:Pe("string")};var cd=class extends wv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ir(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qe(this.firestore,null,n)}};function EA(t,e){let n=pa(t.firestore,Vo),r=Nj(t),i=jj(t.converter,e);return Uj(n,[xj(fA(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,_i.exists(!1))]).then(()=>r)}function IA(t,...e){t=rt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||$0(e[r])||(n=e[r++]);let i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if($0(e[r])){let u=e[r];e[r]=u.next?.bind(u),e[r+1]=u.error?.bind(u),e[r+2]=u.complete?.bind(u)}let o,s,c;if(t instanceof Qe)s=pa(t.firestore,Vo),c=Pv(t._key.path),o={next:u=>{e[r]&&e[r](Hj(s,t,u))},error:e[r+1],complete:e[r+2]};else{let u=pa(t,Ai);s=pa(u.firestore,Vo),c=u._query;let l=new cd(s);o={next:f=>{e[r]&&e[r](new Co(s,l,u,f))},error:e[r+1],complete:e[r+2]},Vj(t._query)}return(function(l,f,p,m){let y=new hv(m),b=new sv(f,y,p);return l.asyncQueue.enqueueAndForget(async()=>uj(await V0(l),b)),()=>{y.Nu(),l.asyncQueue.enqueueAndForget(async()=>lj(await V0(l),b))}})(lA(s),c,i,o)}function Uj(t,e){return(function(r,i){let o=new Rn;return r.asyncQueue.enqueueAndForget(async()=>vj(await Aj(r),i,o)),o.promise})(lA(t),e)}function Hj(t,e,n){let r=n.docs.get(e._key),i=new cd(t);return new Ei(t,i,e._key,r,new vi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){jo=i})(_r),vr(new At("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new Vo(new Bm(r.getProvider("auth-internal")),new $m(s,r.getProvider("app-check-internal")),(function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new k(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(l.options.projectId,f)})(s,i),s);return o=j({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),$t(e0,t0,e),$t(e0,t0,"esm2020")})();function FA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var LA=FA,VA=new Sn("auth","Firebase",FA());var wd=new mr("@firebase/auth");function $j(t,...e){wd.logLevel<=ne.WARN&&wd.warn(`Auth (${_r}): ${t}`,...e)}function vd(t,...e){wd.logLevel<=ne.ERROR&&wd.error(`Auth (${_r}): ${t}`,...e)}function Rr(t,...e){throw f_(t,...e)}function Ri(t,...e){return f_(t,...e)}function jA(t,e,n){let r=te(j({},LA()),{[e]:n});return new Sn("auth","Firebase",r).create(e,{appName:t.name})}function Nr(t){return jA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function f_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return VA.create(t,...e)}function K(t,e,...n){if(!t)throw f_(e,...n)}function Vn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw vd(e),new Error(e)}function Pr(t,e){t||Vn(e)}function Yv(){return typeof self<"u"&&self.location?.href||""}function Gj(){return wA()==="http:"||wA()==="https:"}function wA(){return typeof self<"u"&&self.location?.protocol||null}function qj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Gj()||Rb()||"connection"in navigator)?navigator.onLine:!0}function zj(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Pi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pr(n>e,"Short delay should be less than long delay!"),this.isMobile=Mb()||Pb()}get(){return qj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function h_(t,e){Pr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Dd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Wj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Kj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Qj=new Pi(3e4,6e4);function Od(t,e){return t.tenantId&&!e.tenantId?te(j({},e),{tenantId:t.tenantId}):e}async function $o(t,e,n,r,i={}){return BA(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let c=ua(j({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);let l=j({method:e,headers:u},o);return Nb()||(l.referrerPolicy="no-referrer"),t.emulatorConfig&&gr(t.emulatorConfig.host)&&(l.credentials="include"),Dd.fetch()(await HA(t,t.config.apiHost,n,c),l)})}async function BA(t,e,n){t._canInitEmulator=!1;let r=j(j({},Wj),e);try{let i=new Jv(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw yd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw yd(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw yd(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw yd(t,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw jA(t,f,l);Rr(t,f)}}catch(i){if(i instanceof vt)throw i;Rr(t,"network-request-failed",{message:String(i)})}}async function UA(t,e,n,r,i={}){let o=await $o(t,e,n,r,i);return"mfaPendingCredential"in o&&Rr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function HA(t,e,n,r){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?h_(t.config,i):`${t.config.apiScheme}://${i}`;return Kj.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}var Jv=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ri(this.auth,"network-request-failed")),Qj.get())})}};function yd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ri(t,e,r);return i.customData._tokenResponse=n,i}async function Yj(t,e){return $o(t,"POST","/v1/accounts:delete",e)}async function Td(t,e){return $o(t,"POST","/v1/accounts:lookup",e)}function xa(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $A(t,e=!1){let n=rt(t),r=await n.getIdToken(e),i=p_(r);K(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:xa(Wv(i.auth_time)),issuedAtTime:xa(Wv(i.iat)),expirationTime:xa(Wv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Wv(t){return Number(t)*1e3}function p_(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vd("JWT malformed, contained fewer than 3 sections"),null;try{let i=pl(n);return i?JSON.parse(i):(vd("Failed to decode base64 JWT payload"),null)}catch(i){return vd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function DA(t){let e=p_(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ka(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof vt&&Jj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Jj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Zv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Fa=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xa(this.lastLoginAt),this.creationTime=xa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Cd(t){let e=t.auth,n=await t.getIdToken(),r=await ka(t,Td(e,{idToken:n}));K(r?.users.length,e,"internal-error");let i=r.users[0];t._notifyReloadListener(i);let o=i.providerUserInfo?.length?qA(i.providerUserInfo):[],s=Zj(t.providerData,o),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!s?.length,l=c?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Fa(i.createdAt,i.lastLoginAt),isAnonymous:l};Object.assign(t,f)}async function GA(t){let e=rt(t);await Cd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Zj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function qA(t){return t.map(r=>{var i=r,{providerId:e}=i,n=as(i,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}async function Xj(t,e){let n=await BA(t,{},async()=>{let r=ua({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await HA(t,i,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:r};return t.emulatorConfig&&gr(t.emulatorConfig.host)&&(u.credentials="include"),Dd.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eB(t,e){return $o(t,"POST","/v2/accounts:revokeToken",Od(t,e))}var Oa=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");let n=DA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:r,refreshToken:i,expiresIn:o}=await Xj(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(K(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(K(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(K(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Vn("not implemented")}};function Ar(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Mr=class t{constructor(o){var s=o,{uid:e,auth:n,stsTokenManager:r}=s,i=as(s,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Fa(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let n=await ka(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $A(this,e)}reload(){return GA(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>j({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(te(j({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Cd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_t(this.auth.app))return Promise.reject(Nr(this.auth));let e=await this.getIdToken();return await ka(this,Yj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return te(j({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>j({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){let r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,c=n.tenantId??void 0,u=n._redirectEventId??void 0,l=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:p,emailVerified:m,isAnonymous:y,providerData:b,stsTokenManager:M}=n;K(p&&M,e,"internal-error");let N=Oa.fromJSON(this.name,M);K(typeof p=="string",e,"internal-error"),Ar(r,e.name),Ar(i,e.name),K(typeof m=="boolean",e,"internal-error"),K(typeof y=="boolean",e,"internal-error"),Ar(o,e.name),Ar(s,e.name),Ar(c,e.name),Ar(u,e.name),Ar(l,e.name),Ar(f,e.name);let V=new t({uid:p,auth:e,email:i,emailVerified:m,displayName:r,isAnonymous:y,photoURL:s,phoneNumber:o,tenantId:c,stsTokenManager:N,createdAt:l,lastLoginAt:f});return b&&Array.isArray(b)&&(V.providerData=b.map(Z=>j({},Z))),u&&(V._redirectEventId=u),V}static async _fromIdTokenResponse(e,n,r=!1){let i=new Oa;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Cd(o),o}static async _fromGetAccountInfoResponse(e,n,r){let i=n.users[0];K(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?qA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new Oa;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Fa(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var TA=new Map;function jn(t){Pr(t instanceof Function,"Expected a class definition");let e=TA.get(t);return e?(Pr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,TA.set(t,e),e)}var tB=(()=>{class t{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,r){this.storage[n]=r}async _get(n){let r=this.storage[n];return r===void 0?null:r}async _remove(n){delete this.storage[n]}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Xv=tB;function _d(t,e,n){return`firebase:${t}:${e}:${n}`}var bd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=_d(this.userKey,i.apiKey,o),this.fullPersistenceKey=_d("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=await Td(this.auth,{idToken:e}).catch(()=>{});return n?Mr._fromGetAccountInfoResponse(this.auth,n,e):null}return Mr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new t(jn(Xv),e,r);let i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||jn(Xv),s=_d(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let f=await l._get(s);if(f){let p;if(typeof f=="string"){let m=await Td(e,{idToken:f}).catch(()=>{});if(!m)break;p=await Mr._fromGetAccountInfoResponse(e,m,f)}else p=Mr._fromJSON(e,f);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],c&&await o._set(s,c.toJSON()),await Promise.all(n.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new t(o,e,r))}};function CA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(JA(e))return"Blackberry";if(ZA(e))return"Webos";if(WA(e))return"Safari";if((e.includes("chrome/")||KA(e))&&!e.includes("edge/"))return"Chrome";if(YA(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function zA(t=Be()){return/firefox\//i.test(t)}function WA(t=Be()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KA(t=Be()){return/crios\//i.test(t)}function QA(t=Be()){return/iemobile/i.test(t)}function YA(t=Be()){return/android/i.test(t)}function JA(t=Be()){return/blackberry/i.test(t)}function ZA(t=Be()){return/webos/i.test(t)}function g_(t=Be()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nB(t=Be()){return g_(t)&&!!window.navigator?.standalone}function rB(){return xb()&&document.documentMode===10}function XA(t=Be()){return g_(t)||YA(t)||ZA(t)||JA(t)||/windows phone/i.test(t)||QA(t)}function eM(t,e=[]){let n;switch(t){case"Browser":n=CA(Be());break;case"Worker":n=`${CA(Be())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_r}/${r}`}var e_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function iB(t,e={}){return $o(t,"GET","/v2/passwordPolicy",Od(t,e))}var oB=6,t_=class{constructor(e){let n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??oB,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var n_=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sd(this),this.idTokenSubscription=new Sd(this),this.beforeStateQueue=new e_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=jn(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await bd.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let n=await Td(this,{idToken:e}),r=await Mr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(_t(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}let n=await this.assertedPersistence.getCurrentUser(),r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let o=this.redirectUser?._redirectEventId,s=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===s)&&c?.user&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_t(this.app))return Promise.reject(Nr(this));let n=e?rt(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _t(this.app)?Promise.reject(Nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _t(this.app)?Promise.reject(Nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(jn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await iB(this),n=new t_(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Sn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await eB(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){let r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&jn(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await bd.create(this,[jn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);let r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(_t(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&$j(`Error while retrieving App Check token: ${e.error}`),e?.token}};function kd(t){return rt(t)}var Sd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Lb(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var m_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sB(t){m_=t}function aB(t){return m_.loadJS(t)}function cB(){return m_.gapiScript}function tM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function nM(t,e){let n=da(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(dn(o,e??{}))return i;Rr(i,"already-initialized")}return n.initialize({options:e})}function uB(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(jn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function rM(t,e,n){let r=kd(t);K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=iM(e),{host:s,port:c}=lB(e),u=c===null?"":`:${c}`,l={url:`${o}//${s}${u}/`},f=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){K(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),K(dn(l,r.config.emulator)&&dn(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,gr(s)?(ml(`${o}//${s}${u}`),yl("Auth",!0)):i||dB()}function iM(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lB(t){let e=iM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:bA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:bA(s)}}}function bA(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function dB(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ad=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vn("not implemented")}_getIdTokenResponse(e){return Vn("not implemented")}_linkToIdToken(e,n){return Vn("not implemented")}_getReauthenticationResolver(e){return Vn("not implemented")}};async function Kv(t,e){return UA(t,"POST","/v1/accounts:signInWithIdp",Od(t,e))}var Md=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var r_=class extends Md{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};async function fB(t,e){return UA(t,"POST","/v1/accounts:signUp",Od(t,e))}var xi=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){let o=await Mr._fromIdTokenResponse(e,r,i),s=SA(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);let i=SA(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})}};function SA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}async function y_(t){if(_t(t.app))return Promise.reject(Nr(t));let e=kd(t);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new xi({user:e.currentUser,providerId:null,operationType:"signIn"});let n=await fB(e,{returnSecureToken:!0}),r=await xi._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}var i_=class t extends vt{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function oM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?i_._fromErrorAndOperation(t,o,e,r):o})}async function hB(t,e,n=!1){let r=await ka(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xi._forOperation(t,"link",r)}async function pB(t,e,n=!1){let{auth:r}=t;if(_t(r.app))return Promise.reject(Nr(r));let i="reauthenticate";try{let o=await ka(t,oM(r,i,e,t),n);K(o.idToken,r,"internal-error");let s=p_(o.idToken);K(s,r,"internal-error");let{sub:c}=s;return K(t.uid===c,r,"user-mismatch"),xi._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Rr(r,"user-mismatch"),o}}async function gB(t,e,n=!1){if(_t(t.app))return Promise.reject(Nr(t));let r="signIn",i=await oM(t,r,e),o=await xi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function sM(t,e,n,r){return rt(t).onIdTokenChanged(e,n,r)}function aM(t,e,n){return rt(t).beforeAuthStateChanged(e,n)}var Nd="__sak";var Rd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nd,"1"),this.storage.removeItem(Nd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var mB=1e3,yB=10,vB=(()=>{class t extends Rd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XA(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},s=this.storage.getItem(i);rB()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,yB):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},mB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(n,r){await super._set(n,r),this.localCache[n]=JSON.stringify(r)}async _get(n){let r=await super._get(n);return this.localCache[n]=JSON.stringify(r),r}async _remove(n){await super._remove(n),delete this.localCache[n]}}return t.type="LOCAL",t})(),cM=vB;var _B=(()=>{class t extends Rd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),v_=_B;function EB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}var IB=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}async handleEvent(n){let r=n,{eventId:i,eventType:o,data:s}=r.data,c=this.handlersMap[o];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(c).map(async f=>f(r.origin,s)),l=await EB(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function uM(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var o_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((c,u)=>{let l=uM("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(m.data.response);break;default:clearTimeout(f),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function vn(){return window}function wB(t){vn().location.href=t}function lM(){return typeof vn().WorkerGlobalScope<"u"&&typeof vn().importScripts=="function"}async function DB(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TB(){return navigator?.serviceWorker?.controller||null}function CB(){return lM()?self:null}var dM="firebaseLocalStorageDb",bB=1,Pd="firebaseLocalStorage",fM="fbase_key",Oi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Fd(t,e){return t.transaction([Pd],e?"readwrite":"readonly").objectStore(Pd)}function SB(){let t=indexedDB.deleteDatabase(dM);return new Oi(t).toPromise()}function s_(){let t=indexedDB.open(dM,bB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Pd,{keyPath:fM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{let r=t.result;r.objectStoreNames.contains(Pd)?e(r):(r.close(),await SB(),e(await s_()))})})}async function AA(t,e,n){let r=Fd(t,!0).put({[fM]:e,value:n});return new Oi(r).toPromise()}async function AB(t,e){let n=Fd(t,!1).get(e),r=await new Oi(n).toPromise();return r===void 0?null:r.value}function MA(t,e){let n=Fd(t,!0).delete(e);return new Oi(n).toPromise()}var MB=800,NB=3,RB=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await s_(),this.db)}async _withRetries(n){let r=0;for(;;)try{let i=await this._openDb();return await n(i)}catch(i){if(r++>NB)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=IB._getInstance(CB()),this.receiver._subscribe("keyChanged",async(n,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(n,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await DB(),!this.activeServiceWorker)return;this.sender=new o_(this.activeServiceWorker);let n=await this.sender._send("ping",{},800);n&&n[0]?.fulfilled&&n[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(n){if(!(!this.sender||!this.activeServiceWorker||TB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let n=await s_();return await AA(n,Nd,"1"),await MA(n,Nd),!0}catch{}return!1}async _withPendingWrite(n){this.pendingWrites++;try{await n()}finally{this.pendingWrites--}}async _set(n,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>AA(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)))}async _get(n){let r=await this._withRetries(i=>AB(i,n));return this.localCache[n]=r,r}async _remove(n){return this._withPendingWrite(async()=>(await this._withRetries(r=>MA(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)))}async _poll(){let n=await this._withRetries(o=>{let s=Fd(o,!1).getAll();return new Oi(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),hM=RB;var fQ=tM("rcb"),hQ=new Pi(3e4,6e4);function PB(t,e){return e?jn(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var La=class extends Ad{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kv(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Kv(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Kv(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function xB(t){return gB(t.auth,new La(t),t.bypassAuthState)}function OB(t){let{auth:e,user:n}=t;return K(n,e,"internal-error"),pB(n,new La(t),t.bypassAuthState)}async function kB(t){let{auth:e,user:n}=t;return K(n,e,"internal-error"),hB(n,new La(t),t.bypassAuthState)}var a_=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:c}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xB;case"linkViaPopup":case"linkViaRedirect":return kB;case"reauthViaPopup":case"reauthViaRedirect":return OB;default:Rr(this.auth,"internal-error")}}resolve(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var pQ=new Pi(2e3,1e4);var FB="pendingRedirect",Ed=new Map,c_=class extends a_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ed.get(this.auth._key());if(!e){try{let r=await LB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ed.set(this.auth._key(),e)}return this.bypassAuthState||Ed.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function LB(t,e){let n=BB(e),r=jB(t);if(!await r._isAvailable())return!1;let i=await r._get(n)==="true";return await r._remove(n),i}function VB(t,e){Ed.set(t._key(),e)}function jB(t){return jn(t._redirectPersistence)}function BB(t){return _d(FB,t.config.apiKey,t.name)}async function UB(t,e,n=!1){if(_t(t.app))return Promise.reject(Nr(t));let r=kd(t),i=PB(r,e),s=await new c_(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}var HB=600*1e3,u_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$B(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!pM(e)){let r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ri(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HB&&this.cachedEventUids.clear(),this.cachedEventUids.has(NA(e))}saveEventToCache(e){this.cachedEventUids.add(NA(e)),this.lastProcessedEventTime=Date.now()}};function NA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function $B(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pM(t);default:return!1}}async function GB(t,e={}){return $o(t,"GET","/v1/projects",e)}var qB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zB=/^https?/;async function WB(t){if(t.config.emulator)return;let{authorizedDomains:e}=await GB(t);for(let n of e)try{if(KB(n))return}catch{}Rr(t,"unauthorized-domain")}function KB(t){let e=Yv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!zB.test(n))return!1;if(qB.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var QB=new Pi(3e4,6e4);function RA(){let t=vn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function YB(t){return new Promise((e,n)=>{function r(){RA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RA(),n(Ri(t,"network-request-failed"))},timeout:QB.get()})}if(vn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(vn().gapi?.load)r();else{let i=tM("iframefcb");return vn()[i]=()=>{gapi.load?r():n(Ri(t,"network-request-failed"))},aB(`${cB()}?onload=${i}`).catch(o=>n(o))}}).catch(e=>{throw Id=null,e})}var Id=null;function JB(t){return Id=Id||YB(t),Id}var ZB=new Pi(5e3,15e3),XB="__/auth/iframe",eU="emulator/auth/iframe",tU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rU(t){let e=t.config;K(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?h_(e,eU):`https://${t.config.authDomain}/${XB}`,r={apiKey:e.apiKey,appName:t.name,v:_r},i=nU.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ua(r).slice(1)}`}async function iU(t){let e=await JB(t),n=vn().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:rU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tU,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let s=Ri(t,"network-request-failed"),c=vn().setTimeout(()=>{o(s)},ZB.get());function u(){vn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{o(s)})}))}var oU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sU=500,aU=600,cU="_blank",uU="http://localhost",xd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function lU(t,e,n,r=sU,i=aU){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=te(j({},oU),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Be().toLowerCase();n&&(c=KA(l)?cU:n),zA(l)&&(e=e||uU,u.scrollbars="yes");let f=Object.entries(u).reduce((m,[y,b])=>`${m}${y}=${b},`,"");if(nB(l)&&c!=="_self")return dU(e||"",c),new xd(null);let p=window.open(e||"",c,f);K(p,t,"popup-blocked");try{p.focus()}catch{}return new xd(p)}function dU(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var fU="__/auth/handler",hU="emulator/auth/handler",pU=encodeURIComponent("fac");async function PA(t,e,n,r,i,o){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_r,eventId:i};if(e instanceof Md){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Fb(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(o||{}))s[f]=p}if(e instanceof r_){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);let c=s;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=await t._getAppCheckToken(),l=u?`#${pU}=${encodeURIComponent(u)}`:"";return`${gU(t)}?${ua(c).slice(1)}${l}`}function gU({config:t}){return t.emulator?h_(t,hU):`https://${t.authDomain}/${fU}`}var Qv="webStorageSupport",l_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=v_,this._completeRedirectFn=UB,this._overrideRedirectResult=VB}async _openPopup(e,n,r,i){Pr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");let o=await PA(e,n,r,Yv(),i);return lU(e,o,uM())}async _openRedirect(e,n,r,i){await this._originValidation(e);let o=await PA(e,n,r,Yv(),i);return wB(o),new Promise(()=>{})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Pr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){let n=await iU(e),r=new u_(e);return n.register("authEvent",i=>(K(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qv,{type:Qv},i=>{let o=i?.[0]?.[Qv];o!==void 0&&n(!!o),Rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=WB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return XA()||WA()||g_()}},gM=l_;var xA="@firebase/auth",OA="1.11.1";var d_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function mU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yU(t){vr(new At("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;K(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eM(t)},l=new n_(r,i,o,u);return uB(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vr(new At("auth-internal",e=>{let n=kd(e.getProvider("auth").getImmediate());return(r=>new d_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$t(xA,OA,mU(t)),$t(xA,OA,"esm2020")}var vU=300,_U=lm("authIdTokenMaxAge")||vU,kA=null,EU=t=>async e=>{let n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_U)return;let i=n?.token;kA!==i&&(kA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function __(t=Il()){let e=da(t,"auth");if(e.isInitialized())return e.getImmediate();let n=nM(t,{popupRedirectResolver:gM,persistence:[hM,cM,v_]}),r=lm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=EU(o.toString());aM(n,s,()=>s(n.currentUser)),sM(n,c=>s(c))}}let i=cm("auth");return i&&rM(n,`http://${i}`),n}function IU(){return document.getElementsByTagName("head")?.[0]??document}sB({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Ri("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",IU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yU("Browser");var Go=class t{db;auth;guestsSubject=new Br([]);guests$=this.guestsSubject.asObservable();constructor(){this.initFirebase()}async initFirebase(){try{let e=bm(Eb.firebaseConfig);this.db=uA(e),this.auth=__(e),console.log("Firebase initialized successfully"),await y_(this.auth),console.log("Signed in anonymously"),this.listenToGuests()}catch(e){console.error("Firebase initialization error:",e)}}listenToGuests(){try{let e=yA(Gv(this.db,"guests"),vA("timestamp","desc"));IA(e,n=>{let r=[];n.forEach(i=>{r.push(i.data())}),console.log("Guests updated:",r.length,"guests"),this.guestsSubject.next(r)},n=>{console.error("Error listening to guests:",n)})}catch(e){console.error("Error setting up listener:",e)}}async addGuest(e){try{await EA(Gv(this.db,"guests"),te(j({},e),{timestamp:new Date}))}catch(n){throw console.error("Error adding guest:",n),n}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})};function wU(t,e){if(t&1){let n=ju();x(0,"div",2)(1,"span",4),L(2,"\u2705"),O(),x(3,"h3"),L(4,"Presen\xE7a Confirmada!"),O(),x(5,"p"),L(6,"Obrigado por se cadastrar. Te esperamos no evento!"),O(),x(7,"button",5),ur("click",function(){Ds(n);let i=un();return Ts(i.submitted.set(!1))}),L(8," Cadastrar Outra Pessoa "),O()()}}function DU(t,e){t&1&&(x(0,"span",10),L(1,"Nome deve ter pelo menos 3 caracteres"),O())}function TU(t,e){t&1&&(x(0,"span",10),L(1,"Email inv\xE1lido"),O())}function CU(t,e){t&1&&(x(0,"span",10),L(1,"Telefone deve ter 10 ou 11 d\xEDgitos"),O())}function bU(t,e){if(t&1&&(x(0,"div",17),L(1),O()),t&2){let n=un(2);De(),lr(" ",n.error()," ")}}function SU(t,e){if(t&1){let n=ju();x(0,"form",6),ur("ngSubmit",function(){Ds(n);let i=un();return Ts(i.onSubmit())}),x(1,"div",7)(2,"label",8),L(3,"Nome Completo *"),O(),Ie(4,"input",9),Ut(5,DU,2,0,"span",10),O(),x(6,"div",7)(7,"label",11),L(8,"Email *"),O(),Ie(9,"input",12),Ut(10,TU,2,0,"span",10),O(),x(11,"div",7)(12,"label",13),L(13,"Telefone/WhatsApp *"),O(),Ie(14,"input",14),Ut(15,CU,2,0,"span",10),O(),x(16,"div",7)(17,"label",15),L(18,"Mensagem (Opcional)"),O(),Ie(19,"textarea",16),O(),Ut(20,bU,2,1,"div",17),x(21,"button",18),L(22),O()()}if(t&2){let n,r,i,o,s,c,u=un();Hs("formGroup",u.form),De(4),Cn("error",((n=u.form.get("name"))==null?null:n.invalid)&&((n=u.form.get("name"))==null?null:n.touched)),De(),Ht((r=u.form.get("name"))!=null&&r.invalid&&((r=u.form.get("name"))!=null&&r.touched)?5:-1),De(4),Cn("error",((i=u.form.get("email"))==null?null:i.invalid)&&((i=u.form.get("email"))==null?null:i.touched)),De(),Ht((o=u.form.get("email"))!=null&&o.invalid&&((o=u.form.get("email"))!=null&&o.touched)?10:-1),De(4),Cn("error",((s=u.form.get("phone"))==null?null:s.invalid)&&((s=u.form.get("phone"))==null?null:s.touched)),De(),Ht((c=u.form.get("phone"))!=null&&c.invalid&&((c=u.form.get("phone"))!=null&&c.touched)?15:-1),De(5),Ht(u.error()?20:-1),De(),Hs("disabled",u.loading()),De(),lr(" ",u.loading()?"Enviando...":"Confirmar Presen\xE7a"," ")}}var Ld=class t{constructor(e,n){this.fb=e;this.firebaseService=n;this.form=this.fb.group({name:["",[bn.required,bn.minLength(3)]],email:["",[bn.required,bn.email]],phone:["",[bn.required,bn.pattern(/^\d{10,11}$/)]],message:[""]})}form;submitted=ct(!1);loading=ct(!1);error=ct("");async onSubmit(){if(this.form.invalid){this.form.markAllAsTouched();return}this.loading.set(!0),this.error.set("");try{await this.firebaseService.addGuest(this.form.value),this.submitted.set(!0),this.form.reset()}catch(e){this.error.set("Erro ao confirmar presen\xE7a. Tente novamente."),console.error(e)}finally{this.loading.set(!1)}}static \u0275fac=function(n){return new(n||t)(ge(vb),ge(Go))};static \u0275cmp=Bt({type:t,selectors:[["app-rsvp"]],decls:6,vars:1,consts:[[1,"rsvp"],[1,"container"],[1,"success-message"],[1,"rsvp-form",3,"formGroup"],[1,"success-icon"],[1,"btn-secondary",3,"click"],[1,"rsvp-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","name","placeholder","Seu nome completo"],[1,"error-message"],["for","email"],["type","email","id","email","formControlName","email","placeholder","seu@email.com"],["for","phone"],["type","tel","id","phone","formControlName","phone","placeholder","11999999999"],["for","message"],["id","message","formControlName","message","placeholder","Deixe uma mensagem...","rows","4"],[1,"error-alert"],["type","submit",1,"btn-primary",3,"disabled"]],template:function(n,r){n&1&&(x(0,"section",0)(1,"div",1)(2,"h2"),L(3,"\u{1F389} Confirme sua Presen\xE7a"),O(),Ut(4,wU,9,0,"div",2)(5,SU,23,13,"form",3),O()()),n&2&&(De(4),Ht(r.submitted()?4:5))},dependencies:[hr,_b,mb,dl,lb,db,im,rm],styles:[".rsvp[_ngcontent-%COMP%]{padding:4rem 0;background:linear-gradient(135deg,#00d9c00d,#b537f20d)}.rsvp[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:3rem;color:var(--neon-cyan);text-shadow:0 0 10px var(--neon-cyan)}.container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:0 2rem}.rsvp-form[_ngcontent-%COMP%]{background:#ffffff0d;border:2px solid var(--neon-purple);border-radius:15px;padding:2rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:var(--neon-yellow);font-weight:500}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:#0000004d;border:2px solid rgba(0,217,192,.3);border-radius:8px;color:#fff;font-size:1rem;transition:all .3s ease}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--neon-cyan);box-shadow:0 0 15px #00d9c04d}.form-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea.error[_ngcontent-%COMP%]{border-color:var(--neon-pink)}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#fff6}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.error-message[_ngcontent-%COMP%]{display:block;color:var(--neon-pink);font-size:.875rem;margin-top:.25rem}.error-alert[_ngcontent-%COMP%]{background:#ff006e1a;border:1px solid var(--neon-pink);border-radius:8px;padding:1rem;margin-bottom:1rem;color:var(--neon-pink);text-align:center}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{width:100%;padding:1rem;font-size:1.1rem;font-weight:600;border:none;border-radius:8px;cursor:pointer;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--neon-cyan),var(--neon-purple));color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 10px 25px #00d9c066}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background:transparent;border:2px solid var(--neon-pink);color:var(--neon-pink)}.btn-secondary[_ngcontent-%COMP%]:hover{background:#ff006e1a}.success-message[_ngcontent-%COMP%]{text-align:center;padding:3rem;background:#00d9c01a;border:2px solid var(--neon-cyan);border-radius:15px}.success-message[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]{font-size:4rem;display:block;margin-bottom:1rem}.success-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--neon-cyan);font-size:2rem;margin:1rem 0}.success-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ccc;margin-bottom:2rem;font-size:1.1rem}@media(max-width:768px){.rsvp[_ngcontent-%COMP%]{padding:2rem 0}.rsvp-form[_ngcontent-%COMP%]{padding:1.5rem}}"]})};var AU=(t,e)=>e.email;function MU(t,e){if(t&1&&(Fe(0,"p",11),L(1),Le()),t&2){let n=un().$implicit;De(),fi(n.message)}}function NU(t,e){if(t&1&&(Fe(0,"div",5)(1,"div",9),L(2),Le(),Fe(3,"div",10)(4,"h3"),L(5),Le(),Ut(6,MU,2,1,"p",11),Le()()),t&2){let n=e.$implicit,r=un(3);De(2),lr(" ",r.getInitial(n.name)," "),De(3),fi(n.name),De(),Ht(n.message?6:-1)}}function RU(t,e){if(t&1&&(Fe(0,"div",4),pg(1,NU,7,3,"div",5,AU),Le(),Fe(3,"div",6)(4,"span",7),L(5),Le(),Fe(6,"span",8),L(7),Le()()),t&2){let n=un();De(),gg(n),De(4),fi(n.length),De(2),fi(n.length===1?"pessoa confirmada":"pessoas confirmadas")}}function PU(t,e){t&1&&(Fe(0,"div",3)(1,"span",12),L(2,"\u{1F3AA}"),Le(),Fe(3,"p"),L(4,"Nenhuma confirma\xE7\xE3o ainda. Seja o primeiro!"),Le()())}function xU(t,e){t&1&&Ut(0,RU,8,2)(1,PU,5,0,"div",3),t&2&&Ht(e.length>0?0:1)}var Vd=class t{constructor(e){this.firebaseService=e;this.guests$=this.firebaseService.guests$}guests$;getInitial(e){return e.charAt(0).toUpperCase()}static \u0275fac=function(n){return new(n||t)(ge(Go))};static \u0275cmp=Bt({type:t,selectors:[["app-guest-list"]],decls:7,vars:3,consts:[[1,"guest-list"],[1,"container"],[1,"guests-container"],[1,"empty-state"],[1,"guests-grid"],[1,"guest-card"],[1,"total-guests"],[1,"count"],[1,"label"],[1,"guest-avatar"],[1,"guest-info"],[1,"guest-message"],[1,"empty-icon"]],template:function(n,r){if(n&1&&(Fe(0,"section",0)(1,"div",1)(2,"h2"),L(3,"\u{1F465} Quem J\xE1 Confirmou"),Le(),Fe(4,"div",2),Ut(5,xU,2,1),yg(6,"async"),Le()()()),n&2){let i;De(5),Ht((i=vg(6,1,r.guests$))?5:-1,i)}},dependencies:[hr,xg],styles:[".guest-list[_ngcontent-%COMP%]{padding:4rem 0}.guest-list[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:3rem;color:var(--neon-pink);text-shadow:0 0 10px var(--neon-pink)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 2rem}.guests-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1.5rem;margin-bottom:2rem}.guest-card[_ngcontent-%COMP%]{background:#ffffff0d;border:2px solid var(--neon-cyan);border-radius:12px;padding:1.5rem;display:flex;align-items:center;gap:1rem;transition:all .3s ease}.guest-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 25px #b537f24d;border-color:var(--neon-purple)}.guest-avatar[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background:linear-gradient(135deg,var(--neon-cyan),var(--neon-purple));display:flex;align-items:center;justify-content:center;font-size:1.5rem;font-weight:700;color:#fff;flex-shrink:0}.guest-info[_ngcontent-%COMP%]{flex:1;min-width:0}.guest-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .25rem;color:var(--neon-yellow);font-size:1.1rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.guest-info[_ngcontent-%COMP%]   .guest-message[_ngcontent-%COMP%]{margin:0;color:#999;font-size:.9rem;line-height:1.4;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.total-guests[_ngcontent-%COMP%]{text-align:center;padding:2rem;background:#00d9c01a;border:2px solid var(--neon-cyan);border-radius:12px}.total-guests[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{display:block;font-size:3rem;font-weight:700;color:var(--neon-cyan);text-shadow:0 0 15px var(--neon-cyan);margin-bottom:.5rem}.total-guests[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#ccc;font-size:1.1rem}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:5rem;display:block;margin-bottom:1rem;opacity:.5}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#999;font-size:1.2rem}@media(max-width:768px){.guest-list[_ngcontent-%COMP%]{padding:2rem 0}.guests-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};var jd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Bt({type:t,selectors:[["app-home"]],decls:109,vars:0,consts:[[1,"hero"],["src","images/kite-hero.jpg","alt","Kitesurf Sunset"],[1,"hero-title"],[1,"subtitle"],[1,"event-info"],[1,"container"],[1,"info-grid"],[1,"info-card"],[1,"icon"],[1,"event-icons"],[1,"icons-grid"],[1,"event-card"],["viewBox","0 0 200 200","xmlns","http://www.w3.org/2000/svg",1,"icon-svg"],["id","kiteGradient","x1","0%","y1","0%","x2","100%","y2","100%"],["offset","0%",2,"stop-color","var(--neon-cyan)","stop-opacity","1"],["offset","100%",2,"stop-color","var(--neon-purple)","stop-opacity","1"],["points","100,20 180,100 100,140 20,100","fill","url(#kiteGradient)","stroke","var(--neon-cyan)","stroke-width","2"],["x1","100","y1","140","x2","100","y2","180","stroke","var(--neon-pink)","stroke-width","3"],["cx","100","cy","180","r","5","fill","var(--neon-yellow)"],["id","beachGradient","x1","0%","y1","0%","x2","0%","y2","100%"],["cx","50","cy","50","r","25","fill","var(--neon-yellow)"],["d","M 20,100 Q 60,80 100,100 T 180,100","fill","none","stroke","url(#beachGradient)","stroke-width","3"],["cx","100","cy","150","rx","80","ry","20","fill","var(--neon-cyan)","opacity","0.3"],["d","M 30,130 Q 100,110 170,130","fill","var(--sand-color)","stroke","var(--neon-pink)","stroke-width","2"],["id","musicGradient","x1","0%","y1","0%","x2","100%","y2","100%"],["offset","0%",2,"stop-color","var(--neon-pink)","stop-opacity","1"],["cx","100","cy","100","r","60","fill","none","stroke","url(#musicGradient)","stroke-width","4"],["cx","100","cy","100","r","40","fill","none","stroke","var(--neon-cyan)","stroke-width","3"],["d","M 130,70 L 130,110 L 145,105 L 145,65 Z","fill","var(--neon-yellow)"],["cx","130","cy","110","rx","10","ry","15","fill","var(--neon-pink)"],["cx","145","cy","105","rx","10","ry","15","fill","var(--neon-purple)"],[1,"highlights"],[1,"highlights-list"],[1,"pre-registration"],[1,"pre-registration-notice"],[1,"notice-icon"],[1,"notice-content"]],template:function(n,r){n&1&&(x(0,"section",0),Ie(1,"img",1),x(2,"div",2)(3,"h1"),L(4,"\u{1FA81} Tapaj\xF3s Kite Vibes"),O(),x(5,"p",3),L(6,"Sunset Party \xB7 Kitesurf \xB7 Music \xB7 Nature"),O()()(),x(7,"section",4)(8,"div",5)(9,"h2"),L(10,"\u{1F4C5} Informa\xE7\xF5es do Evento"),O(),x(11,"div",6)(12,"div",7)(13,"span",8),L(14,"\u{1F4CD}"),O(),x(15,"h3"),L(16,"Local"),O(),x(17,"p"),L(18,"Praia do Tapaj\xF3s, Alter do Ch\xE3o - PA"),O()(),x(19,"div",7)(20,"span",8),L(21,"\u{1F5D3}\uFE0F"),O(),x(22,"h3"),L(23,"Data"),O(),x(24,"p"),L(25,"Em breve ser\xE1 divulgada"),O()(),x(26,"div",7)(27,"span",8),L(28,"\u23F0"),O(),x(29,"h3"),L(30,"Hor\xE1rio"),O(),x(31,"p"),L(32,"Tarde at\xE9 o p\xF4r do sol"),O()()()()(),x(33,"section",9)(34,"div",5)(35,"h2"),L(36,"\u{1F31F} O Que Te Espera"),O(),x(37,"div",10)(38,"div",11),or(),x(39,"svg",12)(40,"defs")(41,"linearGradient",13),Ie(42,"stop",14)(43,"stop",15),O()(),Ie(44,"polygon",16)(45,"line",17)(46,"circle",18),O(),Xi(),x(47,"h3"),L(48,"Kitesurf"),O(),x(49,"p"),L(50,"Ventos perfeitos para manobras incr\xEDveis"),O()(),x(51,"div",11),or(),x(52,"svg",12)(53,"defs")(54,"linearGradient",19),Ie(55,"stop",14)(56,"stop",15),O()(),Ie(57,"circle",20)(58,"path",21)(59,"ellipse",22)(60,"path",23),O(),Xi(),x(61,"h3"),L(62,"Praia Paradis\xEDaca"),O(),x(63,"p"),L(64,"\xC1guas cristalinas do Tapaj\xF3s"),O()(),x(65,"div",11),or(),x(66,"svg",12)(67,"defs")(68,"linearGradient",24),Ie(69,"stop",25)(70,"stop",15),O()(),Ie(71,"circle",26)(72,"circle",27)(73,"path",28)(74,"ellipse",29)(75,"ellipse",30),O(),Xi(),x(76,"h3"),L(77,"M\xFAsica Eletr\xF4nica"),O(),x(78,"p"),L(79,"DJ set com as melhores vibes"),O()()()()(),x(80,"section",31)(81,"div",5)(82,"h2"),L(83,"\u2728 Destaques"),O(),x(84,"ul",32)(85,"li"),L(86,"\u{1F3C4}\u200D\u2642\uFE0F \xC1rea exclusiva para kitesurf"),O(),x(87,"li"),L(88,"\u{1F3B5} DJ set ao vivo"),O(),x(89,"li"),L(90,"\u{1F379} Bar com drinks especiais"),O(),x(91,"li"),L(92,"\u{1F305} Vista privilegiada do p\xF4r do sol"),O(),x(93,"li"),L(94,"\u{1F4F8} Espa\xE7o instagram\xE1vel"),O(),x(95,"li"),L(96,"\u{1F91D} Networking com outros kitesurfistas"),O()()()(),x(97,"section",33)(98,"div",5)(99,"div",34)(100,"span",35),L(101,"\u2139\uFE0F"),O(),x(102,"div",36)(103,"h3"),L(104,"Pr\xE9-cadastro Aberto!"),O(),x(105,"p"),L(106,"Em breve ser\xE1 divulgado os valores do evento. Fa\xE7a seu pr\xE9-cadastro agora e garanta sua vaga!"),O()()()()(),Ie(107,"app-rsvp")(108,"app-guest-list"))},dependencies:[hr,Ld,Vd],styles:[".hero[_ngcontent-%COMP%]{position:relative;width:100%;height:60vh;min-height:400px;overflow:hidden}.hero[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;filter:brightness(.7)}.hero[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;color:#fff;z-index:2}.hero[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(2rem,5vw,4rem);margin:0;text-shadow:0 0 20px var(--neon-cyan),0 0 40px var(--neon-purple);animation:_ngcontent-%COMP%_glow 2s ease-in-out infinite alternate}.hero[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:clamp(1rem,2.5vw,1.5rem);margin-top:1rem;color:var(--neon-yellow);text-shadow:0 0 10px var(--neon-pink)}.event-info[_ngcontent-%COMP%], .event-icons[_ngcontent-%COMP%], .highlights[_ngcontent-%COMP%], .pre-registration[_ngcontent-%COMP%]{padding:4rem 0}.event-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .event-icons[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .highlights[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .pre-registration[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:3rem;color:var(--neon-cyan);text-shadow:0 0 10px var(--neon-cyan)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 2rem}.info-grid[_ngcontent-%COMP%], .icons-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:2rem;margin-top:2rem}.info-card[_ngcontent-%COMP%], .event-card[_ngcontent-%COMP%]{background:#ffffff0d;border:2px solid var(--neon-cyan);border-radius:15px;padding:2rem;text-align:center;transition:all .3s ease}.info-card[_ngcontent-%COMP%]:hover, .event-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 10px 30px #00d9c04d;border-color:var(--neon-pink)}.info-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .event-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:3rem;display:block;margin-bottom:1rem}.info-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .event-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--neon-yellow);margin:1rem 0;font-size:1.5rem}.info-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .event-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ccc;line-height:1.6}.icon-svg[_ngcontent-%COMP%]{width:120px;height:120px;margin:0 auto 1rem;filter:drop-shadow(0 0 10px var(--neon-cyan))}.highlights-list[_ngcontent-%COMP%]{list-style:none;padding:0;max-width:600px;margin:0 auto}.highlights-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:1rem;margin:.5rem 0;background:#ffffff0d;border-left:4px solid var(--neon-pink);border-radius:5px;transition:all .3s ease}.highlights-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#ff006e1a;transform:translate(10px)}.pre-registration-notice[_ngcontent-%COMP%]{background:linear-gradient(135deg,#00d9c01a,#b537f21a);border:2px solid var(--neon-yellow);border-radius:15px;padding:2rem;display:flex;align-items:center;gap:1.5rem;max-width:800px;margin:0 auto}.pre-registration-notice[_ngcontent-%COMP%]   .notice-icon[_ngcontent-%COMP%]{font-size:3rem;flex-shrink:0}.pre-registration-notice[_ngcontent-%COMP%]   .notice-content[_ngcontent-%COMP%]{flex:1}.pre-registration-notice[_ngcontent-%COMP%]   .notice-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--neon-yellow);margin:0 0 .5rem;font-size:1.5rem}.pre-registration-notice[_ngcontent-%COMP%]   .notice-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#ccc;line-height:1.6}@keyframes _ngcontent-%COMP%_glow{0%{text-shadow:0 0 20px var(--neon-cyan),0 0 40px var(--neon-purple)}to{text-shadow:0 0 30px var(--neon-pink),0 0 60px var(--neon-yellow)}}@media(max-width:768px){.hero[_ngcontent-%COMP%]{height:50vh}.event-info[_ngcontent-%COMP%], .event-icons[_ngcontent-%COMP%], .highlights[_ngcontent-%COMP%], .pre-registration[_ngcontent-%COMP%]{padding:2rem 0}.pre-registration-notice[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}"]})};var Bd=class t{platformId=B(Tn);ngOnInit(){Qs(this.platformId)&&window.addEventListener("scroll",this.handleScroll)}ngOnDestroy(){Qs(this.platformId)&&window.removeEventListener("scroll",this.handleScroll)}handleScroll=()=>{let e=document.querySelector(".floating-kite");if(e){let n=window.scrollY,r=window.innerHeight,i=n*.3%r,o=Math.sin(n*.002)*100;e.style.transform=`translate(${o}px, ${i}px) rotate(${o*.2}deg)`}};static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Bt({type:t,selectors:[["app-kite-animation"]],decls:19,vars:0,consts:[[1,"kite-animation"],["viewBox","0 0 200 200","xmlns","http://www.w3.org/2000/svg",1,"floating-kite"],["id","kiteBodyGradient","x1","0%","y1","0%","x2","100%","y2","100%"],["offset","0%",2,"stop-color","var(--neon-cyan)","stop-opacity","1"],["offset","50%",2,"stop-color","var(--neon-purple)","stop-opacity","1"],["offset","100%",2,"stop-color","var(--neon-pink)","stop-opacity","1"],["id","glow"],["stdDeviation","4","result","coloredBlur"],["in","coloredBlur"],["in","SourceGraphic"],["points","100,30 170,100 100,130 30,100","fill","url(#kiteBodyGradient)","stroke","var(--neon-yellow)","stroke-width","3","filter","url(#glow)"],["x1","30","y1","100","x2","170","y2","100","stroke","var(--neon-yellow)","stroke-width","2"],["x1","100","y1","30","x2","100","y2","130","stroke","var(--neon-yellow)","stroke-width","2"],["d","M 100,130 Q 95,145 100,160 T 100,190","fill","none","stroke","var(--neon-pink)","stroke-width","3"],["cx","100","cy","150","r","4","fill","var(--neon-yellow)"],["cx","100","cy","170","r","4","fill","var(--neon-cyan)"],["cx","100","cy","190","r","4","fill","var(--neon-purple)"]],template:function(n,r){n&1&&(Fe(0,"div",0),or(),Fe(1,"svg",1)(2,"defs")(3,"linearGradient",2),di(4,"stop",3)(5,"stop",4)(6,"stop",5),Le(),Fe(7,"filter",6),di(8,"feGaussianBlur",7),Fe(9,"feMerge"),di(10,"feMergeNode",8)(11,"feMergeNode",9),Le()()(),di(12,"polygon",10)(13,"line",11)(14,"line",12)(15,"path",13)(16,"circle",14)(17,"circle",15)(18,"circle",16),Le()())},styles:[".kite-animation[_ngcontent-%COMP%]{position:fixed;top:100px;right:50px;pointer-events:none;z-index:1000}.floating-kite[_ngcontent-%COMP%]{width:150px;height:150px;filter:drop-shadow(0 0 20px var(--neon-cyan));transition:transform .1s ease-out;animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-20px) rotate(5deg)}}@media(max-width:768px){.kite-animation[_ngcontent-%COMP%]{right:20px;top:80px}.floating-kite[_ngcontent-%COMP%]{width:100px;height:100px}}"]})};var Ud=class t{platformId=B(Tn);currentSlide=ct(0);totalSlides=3;autoplayInterval;autoplayDelay=5e3;ngOnInit(){Qs(this.platformId)&&this.initCarousel()}ngOnDestroy(){this.autoplayInterval&&clearInterval(this.autoplayInterval)}initCarousel(){setTimeout(()=>{let e=document.querySelector(".carousel-btn.prev"),n=document.querySelector(".carousel-btn.next"),r=document.querySelectorAll(".indicator");e?.addEventListener("click",()=>this.previousSlide()),n?.addEventListener("click",()=>this.nextSlide()),r.forEach((i,o)=>{i.addEventListener("click",()=>this.goToSlide(o))}),this.startAutoplay()},100)}goToSlide(e){let n=document.querySelectorAll(".carousel-slide"),r=document.querySelectorAll(".indicator");n[this.currentSlide()]?.classList.remove("active"),r[this.currentSlide()]?.classList.remove("active"),this.currentSlide.set(e),n[this.currentSlide()]?.classList.add("active"),r[this.currentSlide()]?.classList.add("active")}nextSlide(){let e=(this.currentSlide()+1)%this.totalSlides;this.goToSlide(e)}previousSlide(){let e=(this.currentSlide()-1+this.totalSlides)%this.totalSlides;this.goToSlide(e)}startAutoplay(){this.autoplayInterval=setInterval(()=>{this.nextSlide()},this.autoplayDelay)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Bt({type:t,selectors:[["app-root"]],decls:44,vars:0,consts:[[1,"app-container"],[1,"carousel"],[1,"carousel-container"],[1,"carousel-slide","active"],[1,"slide-overlay"],["src","images/kite1.jpg","alt","Kitesurf Tapaj\xF3s","loading","eager"],[1,"slide-content"],[1,"carousel-slide"],["src","images/kite2.jpg","alt","Vibes & Kite","loading","lazy"],["src","images/kite3.jpg","alt","Sunset Party","loading","lazy"],["aria-label","Anterior",1,"carousel-btn","prev"],["aria-label","Pr\xF3ximo",1,"carousel-btn","next"],[1,"carousel-indicators"],[1,"indicator","active"],[1,"indicator"],[1,"footer"],[1,"container"],[1,"footer-tagline"]],template:function(n,r){n&1&&(x(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3),Ie(4,"div",4)(5,"img",5),x(6,"div",6)(7,"h2"),L(8,"\u{1FA81} Tapaj\xF3s Kite Vibes"),O(),x(9,"p"),L(10,"Sunset Party \xB7 Kitesurf \xB7 Music \xB7 Nature"),O()()(),x(11,"div",7),Ie(12,"div",4)(13,"img",8),x(14,"div",6)(15,"h2"),L(16,"\u{1F30A} Aventura nas \xC1guas"),O(),x(17,"p"),L(18,"Ventos perfeitos \xB7 \xC1guas cristalinas"),O()()(),x(19,"div",7),Ie(20,"div",4)(21,"img",9),x(22,"div",6)(23,"h2"),L(24,"\u{1F3B5} Vibes Eletr\xF4nicas"),O(),x(25,"p"),L(26,"DJ Set \xB7 Drinks \xB7 Amigos"),O()()(),x(27,"button",10),L(28,"\u2039"),O(),x(29,"button",11),L(30,"\u203A"),O(),x(31,"div",12),Ie(32,"span",13)(33,"span",14)(34,"span",14),O()()(),Ie(35,"app-kite-animation"),x(36,"main"),Ie(37,"app-home"),O(),x(38,"footer",15)(39,"div",16)(40,"p"),L(41,"\xA9 2025 Tapaj\xF3s Kite Vibes. Todos os direitos reservados."),O(),x(42,"p",17),L(43,"\u{1F3C4}\u200D\u2642\uFE0F Ventos, Ondas e M\xFAsica \u{1F3B6}"),O()()()())},dependencies:[jd,Bd],styles:[".app-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column}main[_ngcontent-%COMP%]{flex:1}.carousel[_ngcontent-%COMP%]{position:relative;width:100%;height:70vh;min-height:500px;overflow:hidden}.carousel-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.carousel-slide[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;transition:opacity 1s ease-in-out}.carousel-slide.active[_ngcontent-%COMP%]{opacity:1}.carousel-slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.slide-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(to bottom,#0000004d,#0009);z-index:1}.slide-content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;color:#fff;z-index:2;width:90%;max-width:800px}.slide-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:clamp(2rem,5vw,4rem);margin:0 0 1rem;text-shadow:0 0 20px var(--neon-cyan),0 0 40px var(--neon-purple);animation:_ngcontent-%COMP%_glow 2s ease-in-out infinite alternate}.slide-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:clamp(1rem,2.5vw,1.5rem);color:var(--neon-yellow);text-shadow:0 0 10px var(--neon-pink)}.carousel-btn[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background:#00d9c04d;border:2px solid var(--neon-cyan);color:#fff;font-size:3rem;padding:1rem 1.5rem;cursor:pointer;z-index:3;transition:all .3s ease;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.carousel-btn[_ngcontent-%COMP%]:hover{background:#00d9c080;box-shadow:0 0 20px var(--neon-cyan)}.carousel-btn.prev[_ngcontent-%COMP%]{left:2rem}.carousel-btn.next[_ngcontent-%COMP%]{right:2rem}.carousel-indicators[_ngcontent-%COMP%]{position:absolute;bottom:2rem;left:50%;transform:translate(-50%);display:flex;gap:1rem;z-index:3}.indicator[_ngcontent-%COMP%]{width:15px;height:15px;border-radius:50%;background:#ffffff4d;border:2px solid white;cursor:pointer;transition:all .3s ease}.indicator.active[_ngcontent-%COMP%]{background:var(--neon-cyan);box-shadow:0 0 15px var(--neon-cyan);transform:scale(1.2)}.indicator[_ngcontent-%COMP%]:hover{background:#fff9}.footer[_ngcontent-%COMP%]{background:#000c;padding:2rem 0;text-align:center;border-top:2px solid var(--neon-cyan)}.footer[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 2rem}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;color:#ccc}.footer[_ngcontent-%COMP%]   .footer-tagline[_ngcontent-%COMP%]{color:var(--neon-yellow);font-size:1.1rem;margin-top:1rem}@keyframes _ngcontent-%COMP%_glow{0%{text-shadow:0 0 20px var(--neon-cyan),0 0 40px var(--neon-purple)}to{text-shadow:0 0 30px var(--neon-pink),0 0 60px var(--neon-yellow)}}@media(max-width:768px){.carousel[_ngcontent-%COMP%]{height:60vh;min-height:400px}.carousel-btn[_ngcontent-%COMP%]{font-size:2rem;padding:.5rem 1rem}.carousel-btn.prev[_ngcontent-%COMP%]{left:1rem}.carousel-btn.next[_ngcontent-%COMP%]{right:1rem}.carousel-indicators[_ngcontent-%COMP%]{bottom:1rem}}"]})};$g(Ud,jC).catch(t=>console.error(t));
